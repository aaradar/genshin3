function xg(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function ef(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dh={exports:{}},ca={},ph={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function Pv(){if(qp)return Be;qp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function P(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,$={};function F(k,G,ue){this.props=k,this.context=G,this.refs=$,this.updater=ue||U}F.prototype.isReactComponent={},F.prototype.setState=function(k,G){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,G,"setState")},F.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function ae(k,G,ue){this.props=k,this.context=G,this.refs=$,this.updater=ue||U}var le=ae.prototype=new ee;le.constructor=ae,q(le,F.prototype),le.isPureReactComponent=!0;var we=Array.isArray,je=Object.prototype.hasOwnProperty,z={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(k,G,ue){var Ee,Ce={},be=null,Oe=null;if(G!=null)for(Ee in G.ref!==void 0&&(Oe=G.ref),G.key!==void 0&&(be=""+G.key),G)je.call(G,Ee)&&!C.hasOwnProperty(Ee)&&(Ce[Ee]=G[Ee]);var Ue=arguments.length-2;if(Ue===1)Ce.children=ue;else if(1<Ue){for(var qe=Array(Ue),jt=0;jt<Ue;jt++)qe[jt]=arguments[jt+2];Ce.children=qe}if(k&&k.defaultProps)for(Ee in Ue=k.defaultProps,Ue)Ce[Ee]===void 0&&(Ce[Ee]=Ue[Ee]);return{$$typeof:i,type:k,key:be,ref:Oe,props:Ce,_owner:z.current}}function S(k,G){return{$$typeof:i,type:k.type,key:G,ref:k.ref,props:k.props,_owner:k._owner}}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function N(k){var G={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return G[ue]})}var M=/\/+/g;function A(k,G){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):G.toString(36)}function nt(k,G,ue,Ee,Ce){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Oe=!1;if(k===null)Oe=!0;else switch(be){case"string":case"number":Oe=!0;break;case"object":switch(k.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=k,Ce=Ce(Oe),k=Ee===""?"."+A(Oe,0):Ee,we(Ce)?(ue="",k!=null&&(ue=k.replace(M,"$&/")+"/"),nt(Ce,G,ue,"",function(jt){return jt})):Ce!=null&&(D(Ce)&&(Ce=S(Ce,ue+(!Ce.key||Oe&&Oe.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+k)),G.push(Ce)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",we(k))for(var Ue=0;Ue<k.length;Ue++){be=k[Ue];var qe=Ee+A(be,Ue);Oe+=nt(be,G,ue,qe,Ce)}else if(qe=P(k),typeof qe=="function")for(k=qe.call(k),Ue=0;!(be=k.next()).done;)be=be.value,qe=Ee+A(be,Ue++),Oe+=nt(be,G,ue,qe,Ce);else if(be==="object")throw G=String(k),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Oe}function It(k,G,ue){if(k==null)return k;var Ee=[],Ce=0;return nt(k,Ee,"","",function(be){return G.call(ue,be,Ce++)}),Ee}function Rt(k){if(k._status===-1){var G=k._result;G=G(),G.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=G)}if(k._status===1)return k._result.default;throw k._result}var Pe={current:null},ie={transition:null},ve={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:z};return Be.Children={map:It,forEach:function(k,G,ue){It(k,function(){G.apply(this,arguments)},ue)},count:function(k){var G=0;return It(k,function(){G++}),G},toArray:function(k){return It(k,function(G){return G})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Be.Component=F,Be.Fragment=n,Be.Profiler=a,Be.PureComponent=ae,Be.StrictMode=s,Be.Suspense=g,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Be.cloneElement=function(k,G,ue){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Ee=q({},k.props),Ce=k.key,be=k.ref,Oe=k._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,Oe=z.current),G.key!==void 0&&(Ce=""+G.key),k.type&&k.type.defaultProps)var Ue=k.type.defaultProps;for(qe in G)je.call(G,qe)&&!C.hasOwnProperty(qe)&&(Ee[qe]=G[qe]===void 0&&Ue!==void 0?Ue[qe]:G[qe])}var qe=arguments.length-2;if(qe===1)Ee.children=ue;else if(1<qe){Ue=Array(qe);for(var jt=0;jt<qe;jt++)Ue[jt]=arguments[jt+2];Ee.children=Ue}return{$$typeof:i,type:k.type,key:Ce,ref:be,props:Ee,_owner:Oe}},Be.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},Be.createElement=T,Be.createFactory=function(k){var G=T.bind(null,k);return G.type=k,G},Be.createRef=function(){return{current:null}},Be.forwardRef=function(k){return{$$typeof:m,render:k}},Be.isValidElement=D,Be.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:Rt}},Be.memo=function(k,G){return{$$typeof:_,type:k,compare:G===void 0?null:G}},Be.startTransition=function(k){var G=ie.transition;ie.transition={};try{k()}finally{ie.transition=G}},Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.useCallback=function(k,G){return Pe.current.useCallback(k,G)},Be.useContext=function(k){return Pe.current.useContext(k)},Be.useDebugValue=function(){},Be.useDeferredValue=function(k){return Pe.current.useDeferredValue(k)},Be.useEffect=function(k,G){return Pe.current.useEffect(k,G)},Be.useId=function(){return Pe.current.useId()},Be.useImperativeHandle=function(k,G,ue){return Pe.current.useImperativeHandle(k,G,ue)},Be.useInsertionEffect=function(k,G){return Pe.current.useInsertionEffect(k,G)},Be.useLayoutEffect=function(k,G){return Pe.current.useLayoutEffect(k,G)},Be.useMemo=function(k,G){return Pe.current.useMemo(k,G)},Be.useReducer=function(k,G,ue){return Pe.current.useReducer(k,G,ue)},Be.useRef=function(k){return Pe.current.useRef(k)},Be.useState=function(k){return Pe.current.useState(k)},Be.useSyncExternalStore=function(k,G,ue){return Pe.current.useSyncExternalStore(k,G,ue)},Be.useTransition=function(){return Pe.current.useTransition()},Be.version="18.2.0",Be}var Kp;function tf(){return Kp||(Kp=1,ph.exports=Pv()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function kv(){if(Qp)return ca;Qp=1;var i=tf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var E,R={},P=null,U=null;_!==void 0&&(P=""+_),g.key!==void 0&&(P=""+g.key),g.ref!==void 0&&(U=g.ref);for(E in g)s.call(g,E)&&!c.hasOwnProperty(E)&&(R[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)R[E]===void 0&&(R[E]=g[E]);return{$$typeof:e,type:m,key:P,ref:U,props:R,_owner:a.current}}return ca.Fragment=n,ca.jsx=h,ca.jsxs=h,ca}var Gp;function xv(){return Gp||(Gp=1,dh.exports=kv()),dh.exports}var K=xv(),ne=tf();const Dg=ef(ne),Dv=xg({__proto__:null,default:Dg},[ne]);var eu={},mh={exports:{}},An={},gh={exports:{}},yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Nv(){return Yp||(Yp=1,function(i){function e(ie,ve){var k=ie.length;ie.push(ve);e:for(;0<k;){var G=k-1>>>1,ue=ie[G];if(0<a(ue,ve))ie[G]=ve,ie[k]=ue,k=G;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ve=ie[0],k=ie.pop();if(k!==ve){ie[0]=k;e:for(var G=0,ue=ie.length,Ee=ue>>>1;G<Ee;){var Ce=2*(G+1)-1,be=ie[Ce],Oe=Ce+1,Ue=ie[Oe];if(0>a(be,k))Oe<ue&&0>a(Ue,be)?(ie[G]=Ue,ie[Oe]=k,G=Oe):(ie[G]=be,ie[Ce]=k,G=Ce);else if(Oe<ue&&0>a(Ue,k))ie[G]=Ue,ie[Oe]=k,G=Oe;else break e}}return ve}function a(ie,ve){var k=ie.sortIndex-ve.sortIndex;return k!==0?k:ie.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],_=[],E=1,R=null,P=3,U=!1,q=!1,$=!1,F=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function le(ie){for(var ve=n(_);ve!==null;){if(ve.callback===null)s(_);else if(ve.startTime<=ie)s(_),ve.sortIndex=ve.expirationTime,e(g,ve);else break;ve=n(_)}}function we(ie){if($=!1,le(ie),!q)if(n(g)!==null)q=!0,Rt(je);else{var ve=n(_);ve!==null&&Pe(we,ve.startTime-ie)}}function je(ie,ve){q=!1,$&&($=!1,ee(T),T=-1),U=!0;var k=P;try{for(le(ve),R=n(g);R!==null&&(!(R.expirationTime>ve)||ie&&!N());){var G=R.callback;if(typeof G=="function"){R.callback=null,P=R.priorityLevel;var ue=G(R.expirationTime<=ve);ve=i.unstable_now(),typeof ue=="function"?R.callback=ue:R===n(g)&&s(g),le(ve)}else s(g);R=n(g)}if(R!==null)var Ee=!0;else{var Ce=n(_);Ce!==null&&Pe(we,Ce.startTime-ve),Ee=!1}return Ee}finally{R=null,P=k,U=!1}}var z=!1,C=null,T=-1,S=5,D=-1;function N(){return!(i.unstable_now()-D<S)}function M(){if(C!==null){var ie=i.unstable_now();D=ie;var ve=!0;try{ve=C(!0,ie)}finally{ve?A():(z=!1,C=null)}}else z=!1}var A;if(typeof ae=="function")A=function(){ae(M)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,It=nt.port2;nt.port1.onmessage=M,A=function(){It.postMessage(null)}}else A=function(){F(M,0)};function Rt(ie){C=ie,z||(z=!0,A())}function Pe(ie,ve){T=F(function(){ie(i.unstable_now())},ve)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){q||U||(q=!0,Rt(je))},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ie){switch(P){case 1:case 2:case 3:var ve=3;break;default:ve=P}var k=P;P=ve;try{return ie()}finally{P=k}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,ve){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var k=P;P=ie;try{return ve()}finally{P=k}},i.unstable_scheduleCallback=function(ie,ve,k){var G=i.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?G+k:G):k=G,ie){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=k+ue,ie={id:E++,callback:ve,priorityLevel:ie,startTime:k,expirationTime:ue,sortIndex:-1},k>G?(ie.sortIndex=k,e(_,ie),n(g)===null&&ie===n(_)&&($?(ee(T),T=-1):$=!0,Pe(we,k-G))):(ie.sortIndex=ue,e(g,ie),q||U||(q=!0,Rt(je))),ie},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ie){var ve=P;return function(){var k=P;P=ve;try{return ie.apply(this,arguments)}finally{P=k}}}}(yh)),yh}var Xp;function Vv(){return Xp||(Xp=1,gh.exports=Nv()),gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Mv(){if(Jp)return An;Jp=1;var i=tf(),e=Vv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},R={};function P(t){return g.call(R,t)?!0:g.call(E,t)?!1:_.test(t)?R[t]=!0:(E[t]=!0,!1)}function U(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q(t,r,o,u){if(r===null||typeof r>"u"||U(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,f,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];F[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function ae(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ee,ae);F[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ee,ae);F[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ee,ae);F[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function le(t,r,o,u){var f=F.hasOwnProperty(r)?F[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(q(r,o,f,u)&&(o=null),u||f===null?P(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var we=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),z=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var k=Object.assign,G;function ue(t){if(G===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);G=r&&r[1]||""}return`
`+G+t}var Ee=!1;function Ce(t,r){if(!t||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(H){var u=H}Reflect.construct(t,[],r)}else{try{r.call()}catch(H){u=H}t.call(r.prototype)}else{try{throw Error()}catch(H){u=H}t()}}catch(H){if(H&&u&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),p=u.stack.split(`
`),v=f.length-1,I=p.length-1;1<=v&&0<=I&&f[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(f[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||f[v]!==p[I]){var x=`
`+f[v].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=v&&0<=I);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?ue(t):""}function be(t){switch(t.tag){case 5:return ue(t.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return t=Ce(t.type,!1),t;case 11:return t=Ce(t.type.render,!1),t;case 1:return t=Ce(t.type,!0),t;default:return""}}function Oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case z:return"Portal";case S:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case nt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case It:return r=t.displayName||null,r!==null?r:Oe(t.type)||"Memo";case Rt:r=t._payload,t=t._init;try{return Oe(t(r))}catch{}}return null}function Ue(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function qe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jt(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ii(t){var r=jt(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function mt(t){t._valueTracker||(t._valueTracker=ii(t))}function On(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=jt(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lr(t,r){var o=r.checked;return k({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function yn(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=qe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Wi(t,r){r=r.checked,r!=null&&le(t,"checked",r,!1)}function qi(t,r){Wi(t,r);var o=qe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?si(t,r.type,o):r.hasOwnProperty("defaultValue")&&si(t,r.type,qe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function xs(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function si(t,r,o){(r!=="number"||Gn(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Yn=Array.isArray;function cn(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+qe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function oi(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return k({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Yn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:qe(o)}}function hn(t,r){var o=qe(r.value),u=qe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Xn(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function vt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?vt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jn,_n=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Jn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Zn(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yr=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(t){yr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),gr[r]=gr[t]})});function Ki(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||gr.hasOwnProperty(t)&&gr[t]?(""+r).trim():r+"px"}function ai(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=Ki(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var _r=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function li(t,r){if(r){if(_r[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Or(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function br(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ui=null,fn=null,Fn=null;function L(t){if(t=Go(t)){if(typeof ui!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ml(r),ui(t.stateNode,t.type,r))}}function B(t){fn?Fn?Fn.push(t):Fn=[t]:fn=t}function Q(){if(fn){var t=fn,r=Fn;if(Fn=fn=null,L(t),r)for(t=0;t<r.length;t++)L(r[t])}}function se(t,r){return t(r)}function de(){}var ke=!1;function Se(t,r,o){if(ke)return t(r,o);ke=!0;try{return se(t,r,o)}finally{ke=!1,(fn!==null||Fn!==null)&&(de(),Q())}}function ce(t,r){var o=t.stateNode;if(o===null)return null;var u=ml(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ye=!1;if(m)try{var De={};Object.defineProperty(De,"passive",{get:function(){ye=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch{ye=!1}function at(t,r,o,u,f,p,v,I,x){var H=Array.prototype.slice.call(arguments,3);try{r.apply(o,H)}catch(X){this.onError(X)}}var xe=!1,Ge=null,rt=!1,Nt=null,Et={onError:function(t){xe=!0,Ge=t}};function Cn(t,r,o,u,f,p,v,I,x){xe=!1,Ge=null,at.apply(Et,arguments)}function ci(t,r,o,u,f,p,v,I,x){if(Cn.apply(this,arguments),xe){if(xe){var H=Ge;xe=!1,Ge=null}else throw Error(n(198));rt||(rt=!0,Nt=H)}}function Bt(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function en(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Vt(t){if(Bt(t)!==t)throw Error(n(188))}function hi(t){var r=t.alternate;if(!r){if(r=Bt(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Vt(f),t;if(p===u)return Vt(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=p;else{for(var v=!1,I=f.child;I;){if(I===o){v=!0,o=f,u=p;break}if(I===u){v=!0,u=f,o=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===o){v=!0,o=p,u=f;break}if(I===u){v=!0,u=p,o=f;break}I=I.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function er(t){return t=hi(t),t!==null?vr(t):null}function vr(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=vr(t);if(r!==null)return r;t=t.sibling}return null}var Pn=e.unstable_scheduleCallback,Er=e.unstable_cancelCallback,ze=e.unstable_shouldYield,Je=e.unstable_requestPaint,Fe=e.unstable_now,jr=e.unstable_getCurrentPriorityLevel,Br=e.unstable_ImmediatePriority,fi=e.unstable_UserBlockingPriority,bn=e.unstable_NormalPriority,No=e.unstable_LowPriority,Ha=e.unstable_IdlePriority,Qi=null,kn=null;function Wa(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Qi,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Ka,Vo=Math.log,qa=Math.LN2;function Ka(t){return t>>>=0,t===0?32:31-(Vo(t)/qa|0)|0}var Ds=64,Ns=4194304;function di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var I=v&~f;I!==0?u=di(I):(p&=v,p!==0&&(u=di(p)))}else v=o&~f,v!==0?u=di(v):p!==0&&(u=di(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&f)&&(f=u&-u,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-dn(r),f=1<<o,u|=t[o],r&=~f;return u}function $u(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-dn(p),I=1<<v,x=f[v];x===-1?(!(I&o)||I&u)&&(f[v]=$u(I,r)):x<=r&&(t.expiredLanes|=I),p&=~I}}function xn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yi(){var t=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),t}function pi(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function mi(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dn(r),t[r]=o}function ot(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-dn(o),p=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~p}}function gi(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-dn(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var We=0;function yi(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qa,Vs,Ga,Ya,Xa,Mo=!1,wr=[],qt=null,tr=null,nr=null,_i=new Map,jn=new Map,Tr=[],Hu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(t,r){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":_i.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(r.pointerId)}}function vn(t,r,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Go(r),r!==null&&Vs(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Wu(t,r,o,u,f){switch(r){case"focusin":return qt=vn(qt,t,r,o,u,f),!0;case"dragenter":return tr=vn(tr,t,r,o,u,f),!0;case"mouseover":return nr=vn(nr,t,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return _i.set(p,vn(_i.get(p)||null,t,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,jn.set(p,vn(jn.get(p)||null,t,r,o,u,f)),!0}return!1}function Za(t){var r=ts(t.target);if(r!==null){var o=Bt(r);if(o!==null){if(r=o.tag,r===13){if(r=en(o),r!==null){t.blockedOn=r,Xa(t.priority,function(){Ga(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ms(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Fr=u,o.target.dispatchEvent(u),Fr=null}else return r=Go(o),r!==null&&Vs(r),t.blockedOn=o,!1;r.shift()}return!0}function Xi(t,r,o){zr(t)&&o.delete(r)}function el(){Mo=!1,qt!==null&&zr(qt)&&(qt=null),tr!==null&&zr(tr)&&(tr=null),nr!==null&&zr(nr)&&(nr=null),_i.forEach(Xi),jn.forEach(Xi)}function rr(t,r){t.blockedOn===r&&(t.blockedOn=null,Mo||(Mo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,el)))}function ir(t){function r(f){return rr(f,t)}if(0<wr.length){rr(wr[0],t);for(var o=1;o<wr.length;o++){var u=wr[o];u.blockedOn===t&&(u.blockedOn=null)}}for(qt!==null&&rr(qt,t),tr!==null&&rr(tr,t),nr!==null&&rr(nr,t),_i.forEach(r),jn.forEach(r),o=0;o<Tr.length;o++)u=Tr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)Za(o),o.blockedOn===null&&Tr.shift()}var $r=we.ReactCurrentBatchConfig,vi=!0;function ft(t,r,o,u){var f=We,p=$r.transition;$r.transition=null;try{We=1,Lo(t,r,o,u)}finally{We=f,$r.transition=p}}function qu(t,r,o,u){var f=We,p=$r.transition;$r.transition=null;try{We=4,Lo(t,r,o,u)}finally{We=f,$r.transition=p}}function Lo(t,r,o,u){if(vi){var f=Ms(t,r,o,u);if(f===null)rc(t,r,u,Ji,o),Ja(t,u);else if(Wu(f,t,r,o,u))u.stopPropagation();else if(Ja(t,u),r&4&&-1<Hu.indexOf(t)){for(;f!==null;){var p=Go(f);if(p!==null&&Qa(p),p=Ms(t,r,o,u),p===null&&rc(t,r,u,Ji,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else rc(t,r,u,null,o)}}var Ji=null;function Ms(t,r,o,u){if(Ji=null,t=br(u),t=ts(t),t!==null)if(r=Bt(t),r===null)t=null;else if(o=r.tag,o===13){if(t=en(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ji=t,null}function Oo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jr()){case Br:return 1;case fi:return 4;case bn:case No:return 16;case Ha:return 536870912;default:return 16}default:return 16}}var Dn=null,Ls=null,En=null;function Fo(){if(En)return En;var t,r=Ls,o=r.length,u,f="value"in Dn?Dn.value:Dn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===f[p-u];u++);return En=f.slice(t,1<u?1-u:void 0)}function Os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Sr(){return!0}function bo(){return!1}function Kt(t){function r(o,u,f,p,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Sr:bo,this.isPropagationStopped=bo,this}return k(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),r}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Kt(sr),Ir=k({},sr,{view:0,detail:0}),Ku=Kt(Ir),bs,Hr,Ei,Zi=k({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(bs=t.screenX-Ei.screenX,Hr=t.screenY-Ei.screenY):Hr=bs=0,Ei=t),bs)},movementY:function(t){return"movementY"in t?t.movementY:Hr}}),js=Kt(Zi),jo=k({},Zi,{dataTransfer:0}),tl=Kt(jo),Bs=k({},Ir,{relatedTarget:0}),Us=Kt(Bs),nl=k({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Kt(nl),rl=k({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),il=Kt(rl),sl=k({},sr,{data:0}),Bo=Kt(sl),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ol[t])?!!r[t]:!1}function Rr(){return al}var l=k({},Ir,{key:function(t){if(t.key){var r=zs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Kt(l),y=k({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Kt(y),O=k({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),W=Kt(O),oe=k({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=Kt(oe),Mt=k({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Kt(Mt),Ut=[9,13,27,32],Pt=m&&"CompositionEvent"in window,Bn=null;m&&"documentMode"in document&&(Bn=document.documentMode);var Nn=m&&"TextEvent"in window&&!Bn,es=m&&(!Pt||Bn&&8<Bn&&11>=Bn),$s=" ",jf=!1;function Bf(t,r){switch(t){case"keyup":return Ut.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function A_(t,r){switch(t){case"compositionend":return Uf(r);case"keypress":return r.which!==32?null:(jf=!0,$s);case"textInput":return t=r.data,t===$s&&jf?null:t;default:return null}}function C_(t,r){if(Hs)return t==="compositionend"||!Pt&&Bf(t,r)?(t=Fo(),En=Ls=Dn=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!P_[t.type]:r==="textarea"}function $f(t,r,o,u){B(u),r=fl(r,"onChange"),0<r.length&&(o=new Fs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Uo=null,zo=null;function k_(t){ad(t,0)}function ll(t){var r=Gs(t);if(On(r))return t}function x_(t,r){if(t==="change")return r}var Hf=!1;if(m){var Qu;if(m){var Gu="oninput"in document;if(!Gu){var Wf=document.createElement("div");Wf.setAttribute("oninput","return;"),Gu=typeof Wf.oninput=="function"}Qu=Gu}else Qu=!1;Hf=Qu&&(!document.documentMode||9<document.documentMode)}function qf(){Uo&&(Uo.detachEvent("onpropertychange",Kf),zo=Uo=null)}function Kf(t){if(t.propertyName==="value"&&ll(zo)){var r=[];$f(r,zo,t,br(t)),Se(k_,r)}}function D_(t,r,o){t==="focusin"?(qf(),Uo=r,zo=o,Uo.attachEvent("onpropertychange",Kf)):t==="focusout"&&qf()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ll(zo)}function V_(t,r){if(t==="click")return ll(r)}function M_(t,r){if(t==="input"||t==="change")return ll(r)}function L_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var or=typeof Object.is=="function"?Object.is:L_;function $o(t,r){if(or(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!g.call(r,f)||!or(t[f],r[f]))return!1}return!0}function Qf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gf(t,r){var o=Qf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qf(o)}}function Yf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Yf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xf(){for(var t=window,r=Gn();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Gn(t.document)}return r}function Yu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function O_(t){var r=Xf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Yf(o.ownerDocument.documentElement,o)){if(u!==null&&Yu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!t.extend&&p>u&&(f=u,u=p,p=f),f=Gf(o,p);var v=Gf(o,u);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F_=m&&"documentMode"in document&&11>=document.documentMode,Ws=null,Xu=null,Ho=null,Ju=!1;function Jf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ju||Ws==null||Ws!==Gn(u)||(u=Ws,"selectionStart"in u&&Yu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ho&&$o(Ho,u)||(Ho=u,u=fl(Xu,"onSelect"),0<u.length&&(r=new Fs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Ws)))}function ul(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var qs={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Zu={},Zf={};m&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function cl(t){if(Zu[t])return Zu[t];if(!qs[t])return t;var r=qs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Zf)return Zu[t]=r[o];return t}var ed=cl("animationend"),td=cl("animationiteration"),nd=cl("animationstart"),rd=cl("transitionend"),id=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,r){id.set(t,r),c(r,[t])}for(var ec=0;ec<sd.length;ec++){var tc=sd[ec],b_=tc.toLowerCase(),j_=tc[0].toUpperCase()+tc.slice(1);wi(b_,"on"+j_)}wi(ed,"onAnimationEnd"),wi(td,"onAnimationIteration"),wi(nd,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(rd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function od(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ci(u,r,void 0,t),t.currentTarget=null}function ad(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var I=u[v],x=I.instance,H=I.currentTarget;if(I=I.listener,x!==p&&f.isPropagationStopped())break e;od(f,I,H),p=x}else for(v=0;v<u.length;v++){if(I=u[v],x=I.instance,H=I.currentTarget,I=I.listener,x!==p&&f.isPropagationStopped())break e;od(f,I,H),p=x}}}if(rt)throw t=Nt,rt=!1,Nt=null,t}function ut(t,r){var o=r[uc];o===void 0&&(o=r[uc]=new Set);var u=t+"__bubble";o.has(u)||(ld(r,t,2,!1),o.add(u))}function nc(t,r,o){var u=0;r&&(u|=4),ld(o,t,u,r)}var hl="_reactListening"+Math.random().toString(36).slice(2);function qo(t){if(!t[hl]){t[hl]=!0,s.forEach(function(o){o!=="selectionchange"&&(B_.has(o)||nc(o,!1,t),nc(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[hl]||(r[hl]=!0,nc("selectionchange",!1,r))}}function ld(t,r,o,u){switch(Oo(r)){case 1:var f=ft;break;case 4:f=qu;break;default:f=Lo}o=f.bind(null,r,o,t),f=void 0,!ye||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function rc(t,r,o,u,f){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var I=u.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;v=v.return}for(;I!==null;){if(v=ts(I),v===null)return;if(x=v.tag,x===5||x===6){u=p=v;continue e}I=I.parentNode}}u=u.return}Se(function(){var H=p,X=br(o),te=[];e:{var Y=id.get(t);if(Y!==void 0){var he=Fs,pe=t;switch(t){case"keypress":if(Os(o)===0)break e;case"keydown":case"keyup":he=d;break;case"focusin":pe="focus",he=Us;break;case"focusout":pe="blur",he=Us;break;case"beforeblur":case"afterblur":he=Us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=W;break;case ed:case td:case nd:he=Wr;break;case rd:he=it;break;case"scroll":he=Ku;break;case"wheel":he=Ke;break;case"copy":case"cut":case"paste":he=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=w}var me=(r&4)!==0,At=!me&&t==="scroll",b=me?Y!==null?Y+"Capture":null:Y;me=[];for(var V=H,j;V!==null;){j=V;var re=j.stateNode;if(j.tag===5&&re!==null&&(j=re,b!==null&&(re=ce(V,b),re!=null&&me.push(Ko(V,re,j)))),At)break;V=V.return}0<me.length&&(Y=new he(Y,pe,null,o,X),te.push({event:Y,listeners:me}))}}if(!(r&7)){e:{if(Y=t==="mouseover"||t==="pointerover",he=t==="mouseout"||t==="pointerout",Y&&o!==Fr&&(pe=o.relatedTarget||o.fromElement)&&(ts(pe)||pe[qr]))break e;if((he||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,he?(pe=o.relatedTarget||o.toElement,he=H,pe=pe?ts(pe):null,pe!==null&&(At=Bt(pe),pe!==At||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=H),he!==pe)){if(me=js,re="onMouseLeave",b="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(me=w,re="onPointerLeave",b="onPointerEnter",V="pointer"),At=he==null?Y:Gs(he),j=pe==null?Y:Gs(pe),Y=new me(re,V+"leave",he,o,X),Y.target=At,Y.relatedTarget=j,re=null,ts(X)===H&&(me=new me(b,V+"enter",pe,o,X),me.target=j,me.relatedTarget=At,re=me),At=re,he&&pe)t:{for(me=he,b=pe,V=0,j=me;j;j=Ks(j))V++;for(j=0,re=b;re;re=Ks(re))j++;for(;0<V-j;)me=Ks(me),V--;for(;0<j-V;)b=Ks(b),j--;for(;V--;){if(me===b||b!==null&&me===b.alternate)break t;me=Ks(me),b=Ks(b)}me=null}else me=null;he!==null&&ud(te,Y,he,me,!1),pe!==null&&At!==null&&ud(te,At,pe,me,!0)}}e:{if(Y=H?Gs(H):window,he=Y.nodeName&&Y.nodeName.toLowerCase(),he==="select"||he==="input"&&Y.type==="file")var _e=x_;else if(zf(Y))if(Hf)_e=M_;else{_e=N_;var Ie=D_}else(he=Y.nodeName)&&he.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(_e=V_);if(_e&&(_e=_e(t,H))){$f(te,_e,o,X);break e}Ie&&Ie(t,Y,H),t==="focusout"&&(Ie=Y._wrapperState)&&Ie.controlled&&Y.type==="number"&&si(Y,"number",Y.value)}switch(Ie=H?Gs(H):window,t){case"focusin":(zf(Ie)||Ie.contentEditable==="true")&&(Ws=Ie,Xu=H,Ho=null);break;case"focusout":Ho=Xu=Ws=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Jf(te,o,X);break;case"selectionchange":if(F_)break;case"keydown":case"keyup":Jf(te,o,X)}var Re;if(Pt)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Hs?Bf(t,o)&&(Ne="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(es&&o.locale!=="ko"&&(Hs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Hs&&(Re=Fo()):(Dn=X,Ls="value"in Dn?Dn.value:Dn.textContent,Hs=!0)),Ie=fl(H,Ne),0<Ie.length&&(Ne=new Bo(Ne,t,null,o,X),te.push({event:Ne,listeners:Ie}),Re?Ne.data=Re:(Re=Uf(o),Re!==null&&(Ne.data=Re)))),(Re=Nn?A_(t,o):C_(t,o))&&(H=fl(H,"onBeforeInput"),0<H.length&&(X=new Bo("onBeforeInput","beforeinput",null,o,X),te.push({event:X,listeners:H}),X.data=Re))}ad(te,r)})}function Ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function fl(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=ce(t,o),p!=null&&u.unshift(Ko(t,p,f)),p=ce(t,r),p!=null&&u.push(Ko(t,p,f))),t=t.return}return u}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ud(t,r,o,u,f){for(var p=r._reactName,v=[];o!==null&&o!==u;){var I=o,x=I.alternate,H=I.stateNode;if(x!==null&&x===u)break;I.tag===5&&H!==null&&(I=H,f?(x=ce(o,p),x!=null&&v.unshift(Ko(o,x,I))):f||(x=ce(o,p),x!=null&&v.push(Ko(o,x,I)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var U_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function cd(t){return(typeof t=="string"?t:""+t).replace(U_,`
`).replace(z_,"")}function dl(t,r,o){if(r=cd(r),cd(t)!==r&&o)throw Error(n(425))}function pl(){}var ic=null,sc=null;function oc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,$_=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(t){return hd.resolve(null).then(t).catch(W_)}:ac;function W_(t){setTimeout(function(){throw t})}function lc(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),ir(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);ir(r)}function Ti(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function fd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Qs,Qo="__reactProps$"+Qs,qr="__reactContainer$"+Qs,uc="__reactEvents$"+Qs,q_="__reactListeners$"+Qs,K_="__reactHandles$"+Qs;function ts(t){var r=t[Ar];if(r)return r;for(var o=t.parentNode;o;){if(r=o[qr]||o[Ar]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=fd(t);t!==null;){if(o=t[Ar])return o;t=fd(t)}return r}t=o,o=t.parentNode}return null}function Go(t){return t=t[Ar]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ml(t){return t[Qo]||null}var cc=[],Ys=-1;function Si(t){return{current:t}}function ct(t){0>Ys||(t.current=cc[Ys],cc[Ys]=null,Ys--)}function lt(t,r){Ys++,cc[Ys]=t.current,t.current=r}var Ii={},tn=Si(Ii),wn=Si(!1),ns=Ii;function Xs(t,r){var o=t.type.contextTypes;if(!o)return Ii;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Tn(t){return t=t.childContextTypes,t!=null}function gl(){ct(wn),ct(tn)}function dd(t,r,o){if(tn.current!==Ii)throw Error(n(168));lt(tn,r),lt(wn,o)}function pd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,Ue(t)||"Unknown",f));return k({},o,u)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,ns=tn.current,lt(tn,t),lt(wn,wn.current),!0}function md(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=pd(t,r,ns),u.__reactInternalMemoizedMergedChildContext=t,ct(wn),ct(tn),lt(tn,t)):ct(wn),lt(wn,o)}var Kr=null,_l=!1,hc=!1;function gd(t){Kr===null?Kr=[t]:Kr.push(t)}function Q_(t){_l=!0,gd(t)}function Ri(){if(!hc&&Kr!==null){hc=!0;var t=0,r=We;try{var o=Kr;for(We=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Kr=null,_l=!1}catch(f){throw Kr!==null&&(Kr=Kr.slice(t+1)),Pn(Br,Ri),f}finally{We=r,hc=!1}}return null}var Js=[],Zs=0,vl=null,El=0,Un=[],zn=0,rs=null,Qr=1,Gr="";function is(t,r){Js[Zs++]=El,Js[Zs++]=vl,vl=t,El=r}function yd(t,r,o){Un[zn++]=Qr,Un[zn++]=Gr,Un[zn++]=rs,rs=t;var u=Qr;t=Gr;var f=32-dn(u)-1;u&=~(1<<f),o+=1;var p=32-dn(r)+f;if(30<p){var v=f-f%5;p=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Qr=1<<32-dn(r)+f|o<<f|u,Gr=p+t}else Qr=1<<p|o<<f|u,Gr=t}function fc(t){t.return!==null&&(is(t,1),yd(t,1,0))}function dc(t){for(;t===vl;)vl=Js[--Zs],Js[Zs]=null,El=Js[--Zs],Js[Zs]=null;for(;t===rs;)rs=Un[--zn],Un[zn]=null,Gr=Un[--zn],Un[zn]=null,Qr=Un[--zn],Un[zn]=null}var Vn=null,Mn=null,dt=!1,ar=null;function _d(t,r){var o=qn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function vd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Vn=t,Mn=Ti(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Vn=t,Mn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=rs!==null?{id:Qr,overflow:Gr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=qn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Vn=t,Mn=null,!0):!1;default:return!1}}function pc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mc(t){if(dt){var r=Mn;if(r){var o=r;if(!vd(t,r)){if(pc(t))throw Error(n(418));r=Ti(o.nextSibling);var u=Vn;r&&vd(t,r)?_d(u,o):(t.flags=t.flags&-4097|2,dt=!1,Vn=t)}}else{if(pc(t))throw Error(n(418));t.flags=t.flags&-4097|2,dt=!1,Vn=t}}}function Ed(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function wl(t){if(t!==Vn)return!1;if(!dt)return Ed(t),dt=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!oc(t.type,t.memoizedProps)),r&&(r=Mn)){if(pc(t))throw wd(),Error(n(418));for(;r;)_d(t,r),r=Ti(r.nextSibling)}if(Ed(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Mn=Ti(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Mn=null}}else Mn=Vn?Ti(t.stateNode.nextSibling):null;return!0}function wd(){for(var t=Mn;t;)t=Ti(t.nextSibling)}function eo(){Mn=Vn=null,dt=!1}function gc(t){ar===null?ar=[t]:ar.push(t)}var G_=we.ReactCurrentBatchConfig;function lr(t,r){if(t&&t.defaultProps){r=k({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Tl=Si(null),Sl=null,to=null,yc=null;function _c(){yc=to=Sl=null}function vc(t){var r=Tl.current;ct(Tl),t._currentValue=r}function Ec(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function no(t,r){Sl=t,yc=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Sn=!0),t.firstContext=null)}function $n(t){var r=t._currentValue;if(yc!==t)if(t={context:t,memoizedValue:r,next:null},to===null){if(Sl===null)throw Error(n(308));to=t,Sl.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return r}var ss=null;function wc(t){ss===null?ss=[t]:ss.push(t)}function Td(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,wc(r)):(o.next=f.next,f.next=o),r.interleaved=o,Yr(t,u)}function Yr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ai=!1;function Tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ci(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ye&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,Yr(t,o)}return f=u.interleaved,f===null?(r.next=r,wc(u)):(r.next=f.next,f.next=r),u.interleaved=r,Yr(t,o)}function Il(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,gi(t,o)}}function Id(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Rl(t,r,o,u){var f=t.updateQueue;Ai=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var x=I,H=x.next;x.next=null,v===null?p=H:v.next=H,v=x;var X=t.alternate;X!==null&&(X=X.updateQueue,I=X.lastBaseUpdate,I!==v&&(I===null?X.firstBaseUpdate=H:I.next=H,X.lastBaseUpdate=x))}if(p!==null){var te=f.baseState;v=0,X=H=x=null,I=p;do{var Y=I.lane,he=I.eventTime;if((u&Y)===Y){X!==null&&(X=X.next={eventTime:he,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var pe=t,me=I;switch(Y=r,he=o,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){te=pe.call(he,te,Y);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Y=typeof pe=="function"?pe.call(he,te,Y):pe,Y==null)break e;te=k({},te,Y);break e;case 2:Ai=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,Y=f.effects,Y===null?f.effects=[I]:Y.push(I))}else he={eventTime:he,lane:Y,tag:I.tag,payload:I.payload,callback:I.callback,next:null},X===null?(H=X=he,x=te):X=X.next=he,v|=Y;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;Y=I,I=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(x=te),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=X,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);ls|=v,t.lanes=v,t.memoizedState=te}}function Rd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Ad=new i.Component().refs;function Sc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:k({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Al={isMounted:function(t){return(t=t._reactInternals)?Bt(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=gn(),f=Di(t),p=Xr(u,f);p.payload=r,o!=null&&(p.callback=o),r=Ci(t,p,f),r!==null&&(hr(r,t,f,u),Il(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=gn(),f=Di(t),p=Xr(u,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ci(t,p,f),r!==null&&(hr(r,t,f,u),Il(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=gn(),u=Di(t),f=Xr(o,u);f.tag=2,r!=null&&(f.callback=r),r=Ci(t,f,u),r!==null&&(hr(r,t,u,o),Il(r,t,u))}};function Cd(t,r,o,u,f,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!$o(o,u)||!$o(f,p):!0}function Pd(t,r,o){var u=!1,f=Ii,p=r.contextType;return typeof p=="object"&&p!==null?p=$n(p):(f=Tn(r)?ns:tn.current,u=r.contextTypes,p=(u=u!=null)?Xs(t,f):Ii),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Al,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function kd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Al.enqueueReplaceState(r,r.state,null)}function Ic(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs=Ad,Tc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=$n(p):(p=Tn(r)?ns:tn.current,f.context=Xs(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Al.enqueueReplaceState(f,f.state,null),Rl(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var I=f.refs;I===Ad&&(I=f.refs={}),v===null?delete I[p]:I[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Cl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function xd(t){var r=t._init;return r(t._payload)}function Dd(t){function r(b,V){if(t){var j=b.deletions;j===null?(b.deletions=[V],b.flags|=16):j.push(V)}}function o(b,V){if(!t)return null;for(;V!==null;)r(b,V),V=V.sibling;return null}function u(b,V){for(b=new Map;V!==null;)V.key!==null?b.set(V.key,V):b.set(V.index,V),V=V.sibling;return b}function f(b,V){return b=Vi(b,V),b.index=0,b.sibling=null,b}function p(b,V,j){return b.index=j,t?(j=b.alternate,j!==null?(j=j.index,j<V?(b.flags|=2,V):j):(b.flags|=2,V)):(b.flags|=1048576,V)}function v(b){return t&&b.alternate===null&&(b.flags|=2),b}function I(b,V,j,re){return V===null||V.tag!==6?(V=ah(j,b.mode,re),V.return=b,V):(V=f(V,j),V.return=b,V)}function x(b,V,j,re){var _e=j.type;return _e===C?X(b,V,j.props.children,re,j.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Rt&&xd(_e)===V.type)?(re=f(V,j.props),re.ref=Yo(b,V,j),re.return=b,re):(re=ql(j.type,j.key,j.props,null,b.mode,re),re.ref=Yo(b,V,j),re.return=b,re)}function H(b,V,j,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=lh(j,b.mode,re),V.return=b,V):(V=f(V,j.children||[]),V.return=b,V)}function X(b,V,j,re,_e){return V===null||V.tag!==7?(V=fs(j,b.mode,re,_e),V.return=b,V):(V=f(V,j),V.return=b,V)}function te(b,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return V=ah(""+V,b.mode,j),V.return=b,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case je:return j=ql(V.type,V.key,V.props,null,b.mode,j),j.ref=Yo(b,null,V),j.return=b,j;case z:return V=lh(V,b.mode,j),V.return=b,V;case Rt:var re=V._init;return te(b,re(V._payload),j)}if(Yn(V)||ve(V))return V=fs(V,b.mode,j,null),V.return=b,V;Cl(b,V)}return null}function Y(b,V,j,re){var _e=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return _e!==null?null:I(b,V,""+j,re);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case je:return j.key===_e?x(b,V,j,re):null;case z:return j.key===_e?H(b,V,j,re):null;case Rt:return _e=j._init,Y(b,V,_e(j._payload),re)}if(Yn(j)||ve(j))return _e!==null?null:X(b,V,j,re,null);Cl(b,j)}return null}function he(b,V,j,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number")return b=b.get(j)||null,I(V,b,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case je:return b=b.get(re.key===null?j:re.key)||null,x(V,b,re,_e);case z:return b=b.get(re.key===null?j:re.key)||null,H(V,b,re,_e);case Rt:var Ie=re._init;return he(b,V,j,Ie(re._payload),_e)}if(Yn(re)||ve(re))return b=b.get(j)||null,X(V,b,re,_e,null);Cl(V,re)}return null}function pe(b,V,j,re){for(var _e=null,Ie=null,Re=V,Ne=V=0,Ht=null;Re!==null&&Ne<j.length;Ne++){Re.index>Ne?(Ht=Re,Re=null):Ht=Re.sibling;var Ze=Y(b,Re,j[Ne],re);if(Ze===null){Re===null&&(Re=Ht);break}t&&Re&&Ze.alternate===null&&r(b,Re),V=p(Ze,V,Ne),Ie===null?_e=Ze:Ie.sibling=Ze,Ie=Ze,Re=Ht}if(Ne===j.length)return o(b,Re),dt&&is(b,Ne),_e;if(Re===null){for(;Ne<j.length;Ne++)Re=te(b,j[Ne],re),Re!==null&&(V=p(Re,V,Ne),Ie===null?_e=Re:Ie.sibling=Re,Ie=Re);return dt&&is(b,Ne),_e}for(Re=u(b,Re);Ne<j.length;Ne++)Ht=he(Re,b,Ne,j[Ne],re),Ht!==null&&(t&&Ht.alternate!==null&&Re.delete(Ht.key===null?Ne:Ht.key),V=p(Ht,V,Ne),Ie===null?_e=Ht:Ie.sibling=Ht,Ie=Ht);return t&&Re.forEach(function(Mi){return r(b,Mi)}),dt&&is(b,Ne),_e}function me(b,V,j,re){var _e=ve(j);if(typeof _e!="function")throw Error(n(150));if(j=_e.call(j),j==null)throw Error(n(151));for(var Ie=_e=null,Re=V,Ne=V=0,Ht=null,Ze=j.next();Re!==null&&!Ze.done;Ne++,Ze=j.next()){Re.index>Ne?(Ht=Re,Re=null):Ht=Re.sibling;var Mi=Y(b,Re,Ze.value,re);if(Mi===null){Re===null&&(Re=Ht);break}t&&Re&&Mi.alternate===null&&r(b,Re),V=p(Mi,V,Ne),Ie===null?_e=Mi:Ie.sibling=Mi,Ie=Mi,Re=Ht}if(Ze.done)return o(b,Re),dt&&is(b,Ne),_e;if(Re===null){for(;!Ze.done;Ne++,Ze=j.next())Ze=te(b,Ze.value,re),Ze!==null&&(V=p(Ze,V,Ne),Ie===null?_e=Ze:Ie.sibling=Ze,Ie=Ze);return dt&&is(b,Ne),_e}for(Re=u(b,Re);!Ze.done;Ne++,Ze=j.next())Ze=he(Re,b,Ne,Ze.value,re),Ze!==null&&(t&&Ze.alternate!==null&&Re.delete(Ze.key===null?Ne:Ze.key),V=p(Ze,V,Ne),Ie===null?_e=Ze:Ie.sibling=Ze,Ie=Ze);return t&&Re.forEach(function(Cv){return r(b,Cv)}),dt&&is(b,Ne),_e}function At(b,V,j,re){if(typeof j=="object"&&j!==null&&j.type===C&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case je:e:{for(var _e=j.key,Ie=V;Ie!==null;){if(Ie.key===_e){if(_e=j.type,_e===C){if(Ie.tag===7){o(b,Ie.sibling),V=f(Ie,j.props.children),V.return=b,b=V;break e}}else if(Ie.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Rt&&xd(_e)===Ie.type){o(b,Ie.sibling),V=f(Ie,j.props),V.ref=Yo(b,Ie,j),V.return=b,b=V;break e}o(b,Ie);break}else r(b,Ie);Ie=Ie.sibling}j.type===C?(V=fs(j.props.children,b.mode,re,j.key),V.return=b,b=V):(re=ql(j.type,j.key,j.props,null,b.mode,re),re.ref=Yo(b,V,j),re.return=b,b=re)}return v(b);case z:e:{for(Ie=j.key;V!==null;){if(V.key===Ie)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){o(b,V.sibling),V=f(V,j.children||[]),V.return=b,b=V;break e}else{o(b,V);break}else r(b,V);V=V.sibling}V=lh(j,b.mode,re),V.return=b,b=V}return v(b);case Rt:return Ie=j._init,At(b,V,Ie(j._payload),re)}if(Yn(j))return pe(b,V,j,re);if(ve(j))return me(b,V,j,re);Cl(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,V!==null&&V.tag===6?(o(b,V.sibling),V=f(V,j),V.return=b,b=V):(o(b,V),V=ah(j,b.mode,re),V.return=b,b=V),v(b)):o(b,V)}return At}var ro=Dd(!0),Nd=Dd(!1),Xo={},Cr=Si(Xo),Jo=Si(Xo),Zo=Si(Xo);function os(t){if(t===Xo)throw Error(n(174));return t}function Rc(t,r){switch(lt(Zo,r),lt(Jo,t),lt(Cr,Xo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}ct(Cr),lt(Cr,r)}function io(){ct(Cr),ct(Jo),ct(Zo)}function Vd(t){os(Zo.current);var r=os(Cr.current),o=ht(r,t.type);r!==o&&(lt(Jo,t),lt(Cr,o))}function Ac(t){Jo.current===t&&(ct(Cr),ct(Jo))}var gt=Si(0);function Pl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Cc=[];function Pc(){for(var t=0;t<Cc.length;t++)Cc[t]._workInProgressVersionPrimary=null;Cc.length=0}var kl=we.ReactCurrentDispatcher,kc=we.ReactCurrentBatchConfig,as=0,yt=null,Lt=null,zt=null,xl=!1,ea=!1,ta=0,Y_=0;function nn(){throw Error(n(321))}function xc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!or(t[o],r[o]))return!1;return!0}function Dc(t,r,o,u,f,p){if(as=p,yt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,kl.current=t===null||t.memoizedState===null?ev:tv,t=o(u,f),ea){p=0;do{if(ea=!1,ta=0,25<=p)throw Error(n(301));p+=1,zt=Lt=null,r.updateQueue=null,kl.current=nv,t=o(u,f)}while(ea)}if(kl.current=Vl,r=Lt!==null&&Lt.next!==null,as=0,zt=Lt=yt=null,xl=!1,r)throw Error(n(300));return t}function Nc(){var t=ta!==0;return ta=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?yt.memoizedState=zt=t:zt=zt.next=t,zt}function Hn(){if(Lt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var r=zt===null?yt.memoizedState:zt.next;if(r!==null)zt=r,Lt=t;else{if(t===null)throw Error(n(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zt===null?yt.memoizedState=zt=t:zt=zt.next=t}return zt}function na(t,r){return typeof r=="function"?r(t):r}function Vc(t){var r=Hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=Lt,f=u.baseQueue,p=o.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}u.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,u=u.baseState;var I=v=null,x=null,H=p;do{var X=H.lane;if((as&X)===X)x!==null&&(x=x.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),u=H.hasEagerState?H.eagerState:t(u,H.action);else{var te={lane:X,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};x===null?(I=x=te,v=u):x=x.next=te,yt.lanes|=X,ls|=X}H=H.next}while(H!==null&&H!==p);x===null?v=u:x.next=I,or(u,r.memoizedState)||(Sn=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do p=f.lane,yt.lanes|=p,ls|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Mc(t){var r=Hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=t(p,v.action),v=v.next;while(v!==f);or(p,r.memoizedState)||(Sn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Md(){}function Ld(t,r){var o=yt,u=Hn(),f=r(),p=!or(u.memoizedState,f);if(p&&(u.memoizedState=f,Sn=!0),u=u.queue,Lc(bd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||zt!==null&&zt.memoizedState.tag&1){if(o.flags|=2048,ra(9,Fd.bind(null,o,u,f,r),void 0,null),$t===null)throw Error(n(349));as&30||Od(o,r,f)}return f}function Od(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=yt.updateQueue,r===null?(r={lastEffect:null,stores:null},yt.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Fd(t,r,o,u){r.value=o,r.getSnapshot=u,jd(r)&&Bd(t)}function bd(t,r,o){return o(function(){jd(r)&&Bd(t)})}function jd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!or(t,o)}catch{return!0}}function Bd(t){var r=Yr(t,1);r!==null&&hr(r,t,1,-1)}function Ud(t){var r=Pr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},r.queue=t,t=t.dispatch=Z_.bind(null,yt,t),[r.memoizedState,t]}function ra(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=yt.updateQueue,r===null?(r={lastEffect:null,stores:null},yt.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function zd(){return Hn().memoizedState}function Dl(t,r,o,u){var f=Pr();yt.flags|=t,f.memoizedState=ra(1|r,o,void 0,u===void 0?null:u)}function Nl(t,r,o,u){var f=Hn();u=u===void 0?null:u;var p=void 0;if(Lt!==null){var v=Lt.memoizedState;if(p=v.destroy,u!==null&&xc(u,v.deps)){f.memoizedState=ra(r,o,p,u);return}}yt.flags|=t,f.memoizedState=ra(1|r,o,p,u)}function $d(t,r){return Dl(8390656,8,t,r)}function Lc(t,r){return Nl(2048,8,t,r)}function Hd(t,r){return Nl(4,2,t,r)}function Wd(t,r){return Nl(4,4,t,r)}function qd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Kd(t,r,o){return o=o!=null?o.concat([t]):null,Nl(4,4,qd.bind(null,r,t),o)}function Oc(){}function Qd(t,r){var o=Hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Gd(t,r){var o=Hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Yd(t,r,o){return as&21?(or(o,r)||(o=Yi(),yt.lanes|=o,ls|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=o)}function X_(t,r){var o=We;We=o!==0&&4>o?o:4,t(!0);var u=kc.transition;kc.transition={};try{t(!1),r()}finally{We=o,kc.transition=u}}function Xd(){return Hn().memoizedState}function J_(t,r,o){var u=Di(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Jd(t))Zd(r,o);else if(o=Td(t,r,o,u),o!==null){var f=gn();hr(o,t,u,f),ep(o,r,u)}}function Z_(t,r,o){var u=Di(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Jd(t))Zd(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,I=p(v,o);if(f.hasEagerState=!0,f.eagerState=I,or(I,v)){var x=r.interleaved;x===null?(f.next=f,wc(r)):(f.next=x.next,x.next=f),r.interleaved=f;return}}catch{}finally{}o=Td(t,r,f,u),o!==null&&(f=gn(),hr(o,t,u,f),ep(o,r,u))}}function Jd(t){var r=t.alternate;return t===yt||r!==null&&r===yt}function Zd(t,r){ea=xl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function ep(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,gi(t,o)}}var Vl={readContext:$n,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},ev={readContext:$n,useCallback:function(t,r){return Pr().memoizedState=[t,r===void 0?null:r],t},useContext:$n,useEffect:$d,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Dl(4194308,4,qd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Dl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Dl(4,2,t,r)},useMemo:function(t,r){var o=Pr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Pr();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=J_.bind(null,yt,t),[u.memoizedState,t]},useRef:function(t){var r=Pr();return t={current:t},r.memoizedState=t},useState:Ud,useDebugValue:Oc,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=Ud(!1),r=t[0];return t=X_.bind(null,t[1]),Pr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=yt,f=Pr();if(dt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),$t===null)throw Error(n(349));as&30||Od(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,$d(bd.bind(null,u,p,t),[t]),u.flags|=2048,ra(9,Fd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Pr(),r=$t.identifierPrefix;if(dt){var o=Gr,u=Qr;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=ta++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Y_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},tv={readContext:$n,useCallback:Qd,useContext:$n,useEffect:Lc,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:Wd,useMemo:Gd,useReducer:Vc,useRef:zd,useState:function(){return Vc(na)},useDebugValue:Oc,useDeferredValue:function(t){var r=Hn();return Yd(r,Lt.memoizedState,t)},useTransition:function(){var t=Vc(na)[0],r=Hn().memoizedState;return[t,r]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1},nv={readContext:$n,useCallback:Qd,useContext:$n,useEffect:Lc,useImperativeHandle:Kd,useInsertionEffect:Hd,useLayoutEffect:Wd,useMemo:Gd,useReducer:Mc,useRef:zd,useState:function(){return Mc(na)},useDebugValue:Oc,useDeferredValue:function(t){var r=Hn();return Lt===null?r.memoizedState=t:Yd(r,Lt.memoizedState,t)},useTransition:function(){var t=Mc(na)[0],r=Hn().memoizedState;return[t,r]},useMutableSource:Md,useSyncExternalStore:Ld,useId:Xd,unstable_isNewReconciler:!1};function so(t,r){try{var o="",u=r;do o+=be(u),u=u.return;while(u);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Fc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function bc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var rv=typeof WeakMap=="function"?WeakMap:Map;function tp(t,r,o){o=Xr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Bl||(Bl=!0,Zc=u),bc(t,r)},o}function np(t,r,o){o=Xr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){bc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){bc(t,r),typeof u!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function rp(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new rv;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=yv.bind(null,t,r,o),r.then(t,t))}function ip(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function sp(t,r,o,u,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Xr(-1,1),r.tag=2,Ci(o,r,1))),o.lanes|=1),t)}var iv=we.ReactCurrentOwner,Sn=!1;function mn(t,r,o,u){r.child=t===null?Nd(r,null,o,u):ro(r,t.child,o,u)}function op(t,r,o,u,f){o=o.render;var p=r.ref;return no(r,f),u=Dc(t,r,o,u,p,f),o=Nc(),t!==null&&!Sn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(dt&&o&&fc(r),r.flags|=1,mn(t,r,u,f),r.child)}function ap(t,r,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!oh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,lp(t,r,p,u,f)):(t=ql(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:$o,o(v,u)&&t.ref===r.ref)return Jr(t,r,f)}return r.flags|=1,t=Vi(p,u),t.ref=r.ref,t.return=r,r.child=t}function lp(t,r,o,u,f){if(t!==null){var p=t.memoizedProps;if($o(p,u)&&t.ref===r.ref)if(Sn=!1,r.pendingProps=u=p,(t.lanes&f)!==0)t.flags&131072&&(Sn=!0);else return r.lanes=t.lanes,Jr(t,r,f)}return jc(t,r,o,u,f)}function up(t,r,o){var u=r.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ao,Ln),Ln|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,lt(ao,Ln),Ln|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,lt(ao,Ln),Ln|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,lt(ao,Ln),Ln|=u;return mn(t,r,f,o),r.child}function cp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function jc(t,r,o,u,f){var p=Tn(o)?ns:tn.current;return p=Xs(r,p),no(r,f),o=Dc(t,r,o,u,p,f),u=Nc(),t!==null&&!Sn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Jr(t,r,f)):(dt&&u&&fc(r),r.flags|=1,mn(t,r,o,f),r.child)}function hp(t,r,o,u,f){if(Tn(o)){var p=!0;yl(r)}else p=!1;if(no(r,f),r.stateNode===null)Ll(t,r),Pd(r,o,u),Ic(r,o,u,f),u=!0;else if(t===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var x=v.context,H=o.contextType;typeof H=="object"&&H!==null?H=$n(H):(H=Tn(o)?ns:tn.current,H=Xs(r,H));var X=o.getDerivedStateFromProps,te=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function";te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==u||x!==H)&&kd(r,v,u,H),Ai=!1;var Y=r.memoizedState;v.state=Y,Rl(r,u,v,f),x=r.memoizedState,I!==u||Y!==x||wn.current||Ai?(typeof X=="function"&&(Sc(r,o,X,u),x=r.memoizedState),(I=Ai||Cd(r,o,I,u,Y,x,H))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),v.props=u,v.state=x,v.context=H,u=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Sd(t,r),I=r.memoizedProps,H=r.type===r.elementType?I:lr(r.type,I),v.props=H,te=r.pendingProps,Y=v.context,x=o.contextType,typeof x=="object"&&x!==null?x=$n(x):(x=Tn(o)?ns:tn.current,x=Xs(r,x));var he=o.getDerivedStateFromProps;(X=typeof he=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==te||Y!==x)&&kd(r,v,u,x),Ai=!1,Y=r.memoizedState,v.state=Y,Rl(r,u,v,f);var pe=r.memoizedState;I!==te||Y!==pe||wn.current||Ai?(typeof he=="function"&&(Sc(r,o,he,u),pe=r.memoizedState),(H=Ai||Cd(r,o,H,u,Y,pe,x)||!1)?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,pe,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,pe,x)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=pe),v.props=u,v.state=pe,v.context=x,u=H):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),u=!1)}return Bc(t,r,o,u,p,f)}function Bc(t,r,o,u,f,p){cp(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return f&&md(r,o,!1),Jr(t,r,p);u=r.stateNode,iv.current=r;var I=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=ro(r,t.child,null,p),r.child=ro(r,null,I,p)):mn(t,r,I,p),r.memoizedState=u.state,f&&md(r,o,!0),r.child}function fp(t){var r=t.stateNode;r.pendingContext?dd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&dd(t,r.context,!1),Rc(t,r.containerInfo)}function dp(t,r,o,u,f){return eo(),gc(f),r.flags|=256,mn(t,r,o,u),r.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function zc(t){return{baseLanes:t,cachePool:null,transitions:null}}function pp(t,r,o){var u=r.pendingProps,f=gt.current,p=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=t!==null&&t.memoizedState===null?!1:(f&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),lt(gt,f&1),t===null)return mc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Kl(v,u,0,null),t=fs(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=zc(o),r.memoizedState=Uc,t):$c(r,v));if(f=t.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return sv(t,r,v,u,I,f,o);if(p){p=u.fallback,v=r.mode,f=t.child,I=f.sibling;var x={mode:"hidden",children:u.children};return!(v&1)&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=Vi(f,x),u.subtreeFlags=f.subtreeFlags&14680064),I!==null?p=Vi(I,p):(p=fs(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?zc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Uc,u}return p=t.child,t=p.sibling,u=Vi(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function $c(t,r){return r=Kl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ml(t,r,o,u){return u!==null&&gc(u),ro(r,t.child,null,o),t=$c(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function sv(t,r,o,u,f,p,v){if(o)return r.flags&256?(r.flags&=-257,u=Fc(Error(n(422))),Ml(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,f=r.mode,u=Kl({mode:"visible",children:u.children},f,0,null),p=fs(p,f,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&ro(r,t.child,null,v),r.child.memoizedState=zc(v),r.memoizedState=Uc,p);if(!(r.mode&1))return Ml(t,r,v,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var I=u.dgst;return u=I,p=Error(n(419)),u=Fc(p,u,void 0),Ml(t,r,v,u)}if(I=(v&t.childLanes)!==0,Sn||I){if(u=$t,u!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|v)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,Yr(t,f),hr(u,t,f,-1))}return sh(),u=Fc(Error(n(421))),Ml(t,r,v,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=_v.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,Mn=Ti(f.nextSibling),Vn=r,dt=!0,ar=null,t!==null&&(Un[zn++]=Qr,Un[zn++]=Gr,Un[zn++]=rs,Qr=t.id,Gr=t.overflow,rs=r),r=$c(r,u.children),r.flags|=4096,r)}function mp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ec(t.return,r,o)}function Hc(t,r,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function gp(t,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(mn(t,r,u.children,o),u=gt.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mp(t,o,r);else if(t.tag===19)mp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(lt(gt,u),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&Pl(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Hc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Pl(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Hc(r,!0,o,null,p);break;case"together":Hc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ll(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Jr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ls|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Vi(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Vi(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function ov(t,r,o){switch(r.tag){case 3:fp(r),eo();break;case 5:Vd(r);break;case 1:Tn(r.type)&&yl(r);break;case 4:Rc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;lt(Tl,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(lt(gt,gt.current&1),r.flags|=128,null):o&r.child.childLanes?pp(t,r,o):(lt(gt,gt.current&1),t=Jr(t,r,o),t!==null?t.sibling:null);lt(gt,gt.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return gp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(gt,gt.current),u)break;return null;case 22:case 23:return r.lanes=0,up(t,r,o)}return Jr(t,r,o)}var yp,Wc,_p,vp;yp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Wc=function(){},_p=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,os(Cr.current);var p=null;switch(o){case"input":f=Lr(t,f),u=Lr(t,u),p=[];break;case"select":f=k({},f,{value:void 0}),u=k({},u,{value:void 0}),p=[];break;case"textarea":f=oi(t,f),u=oi(t,u),p=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=pl)}li(o,u);var v;o=null;for(H in f)if(!u.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var I=f[H];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?p||(p=[]):(p=p||[]).push(H,null));for(H in u){var x=u[H];if(I=f!=null?f[H]:void 0,u.hasOwnProperty(H)&&x!==I&&(x!=null||I!=null))if(H==="style")if(I){for(v in I)!I.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in x)x.hasOwnProperty(v)&&I[v]!==x[v]&&(o||(o={}),o[v]=x[v])}else o||(p||(p=[]),p.push(H,o)),o=x;else H==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(p=p||[]).push(H,x)):H==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push(H,""+x):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(x!=null&&H==="onScroll"&&ut("scroll",t),p||I===x||(p=[])):(p=p||[]).push(H,x))}o&&(p=p||[]).push("style",o);var H=p;(r.updateQueue=H)&&(r.flags|=4)}},vp=function(t,r,o,u){o!==u&&(r.flags|=4)};function ia(t,r){if(!dt)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function rn(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function av(t,r,o){var u=r.pendingProps;switch(dc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(r),null;case 1:return Tn(r.type)&&gl(),rn(r),null;case 3:return u=r.stateNode,io(),ct(wn),ct(tn),Pc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(wl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,ar!==null&&(nh(ar),ar=null))),Wc(t,r),rn(r),null;case 5:Ac(r);var f=os(Zo.current);if(o=r.type,t!==null&&r.stateNode!=null)_p(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return rn(r),null}if(t=os(Cr.current),wl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Ar]=r,u[Qo]=p,t=(r.mode&1)!==0,o){case"dialog":ut("cancel",u),ut("close",u);break;case"iframe":case"object":case"embed":ut("load",u);break;case"video":case"audio":for(f=0;f<Wo.length;f++)ut(Wo[f],u);break;case"source":ut("error",u);break;case"img":case"image":case"link":ut("error",u),ut("load",u);break;case"details":ut("toggle",u);break;case"input":yn(u,p),ut("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},ut("invalid",u);break;case"textarea":mr(u,p),ut("invalid",u)}li(o,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?u.textContent!==I&&(p.suppressHydrationWarning!==!0&&dl(u.textContent,I,t),f=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&dl(u.textContent,I,t),f=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&ut("scroll",u)}switch(o){case"input":mt(u),xs(u,p,!0);break;case"textarea":mt(u),Xn(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=pl)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Ar]=r,t[Qo]=u,yp(t,r,!1,!1),r.stateNode=t;e:{switch(v=Or(o,u),o){case"dialog":ut("cancel",t),ut("close",t),f=u;break;case"iframe":case"object":case"embed":ut("load",t),f=u;break;case"video":case"audio":for(f=0;f<Wo.length;f++)ut(Wo[f],t);f=u;break;case"source":ut("error",t),f=u;break;case"img":case"image":case"link":ut("error",t),ut("load",t),f=u;break;case"details":ut("toggle",t),f=u;break;case"input":yn(t,u),f=Lr(t,u),ut("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=k({},u,{value:void 0}),ut("invalid",t);break;case"textarea":mr(t,u),f=oi(t,u),ut("invalid",t);break;default:f=u}li(o,f),I=f;for(p in I)if(I.hasOwnProperty(p)){var x=I[p];p==="style"?ai(t,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&_n(t,x)):p==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Zn(t,x):typeof x=="number"&&Zn(t,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?x!=null&&p==="onScroll"&&ut("scroll",t):x!=null&&le(t,p,x,v))}switch(o){case"input":mt(t),xs(t,u,!1);break;case"textarea":mt(t),Xn(t);break;case"option":u.value!=null&&t.setAttribute("value",""+qe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?cn(t,!!u.multiple,p,!1):u.defaultValue!=null&&cn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=pl)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return rn(r),null;case 6:if(t&&r.stateNode!=null)vp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=os(Zo.current),os(Cr.current),wl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Ar]=r,(p=u.nodeValue!==o)&&(t=Vn,t!==null))switch(t.tag){case 3:dl(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dl(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Ar]=r,r.stateNode=u}return rn(r),null;case 13:if(ct(gt),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Mn!==null&&r.mode&1&&!(r.flags&128))wd(),eo(),r.flags|=98560,p=!1;else if(p=wl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Ar]=r}else eo(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;rn(r),p=!1}else ar!==null&&(nh(ar),ar=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||gt.current&1?Ot===0&&(Ot=3):sh())),r.updateQueue!==null&&(r.flags|=4),rn(r),null);case 4:return io(),Wc(t,r),t===null&&qo(r.stateNode.containerInfo),rn(r),null;case 10:return vc(r.type._context),rn(r),null;case 17:return Tn(r.type)&&gl(),rn(r),null;case 19:if(ct(gt),p=r.memoizedState,p===null)return rn(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)ia(p,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=Pl(t),v!==null){for(r.flags|=128,ia(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return lt(gt,gt.current&1|2),r.child}t=t.sibling}p.tail!==null&&Fe()>lo&&(r.flags|=128,u=!0,ia(p,!1),r.lanes=4194304)}else{if(!u)if(t=Pl(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),ia(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!dt)return rn(r),null}else 2*Fe()-p.renderingStartTime>lo&&o!==1073741824&&(r.flags|=128,u=!0,ia(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Fe(),r.sibling=null,o=gt.current,lt(gt,u?o&1|2:o&1),r):(rn(r),null);case 22:case 23:return ih(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?Ln&1073741824&&(rn(r),r.subtreeFlags&6&&(r.flags|=8192)):rn(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function lv(t,r){switch(dc(r),r.tag){case 1:return Tn(r.type)&&gl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return io(),ct(wn),ct(tn),Pc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Ac(r),null;case 13:if(ct(gt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));eo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ct(gt),null;case 4:return io(),null;case 10:return vc(r.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Ol=!1,sn=!1,uv=typeof WeakSet=="function"?WeakSet:Set,fe=null;function oo(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){wt(t,r,u)}else o.current=null}function qc(t,r,o){try{o()}catch(u){wt(t,r,u)}}var Ep=!1;function cv(t,r){if(ic=vi,t=Xf(),Yu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,I=-1,x=-1,H=0,X=0,te=t,Y=null;t:for(;;){for(var he;te!==o||f!==0&&te.nodeType!==3||(I=v+f),te!==p||u!==0&&te.nodeType!==3||(x=v+u),te.nodeType===3&&(v+=te.nodeValue.length),(he=te.firstChild)!==null;)Y=te,te=he;for(;;){if(te===t)break t;if(Y===o&&++H===f&&(I=v),Y===p&&++X===u&&(x=v),(he=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=he}o=I===-1||x===-1?null:{start:I,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(sc={focusedElem:t,selectionRange:o},vi=!1,fe=r;fe!==null;)if(r=fe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,fe=t;else for(;fe!==null;){r=fe;try{var pe=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,At=pe.memoizedState,b=r.stateNode,V=b.getSnapshotBeforeUpdate(r.elementType===r.type?me:lr(r.type,me),At);b.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){wt(r,r.return,re)}if(t=r.sibling,t!==null){t.return=r.return,fe=t;break}fe=r.return}return pe=Ep,Ep=!1,pe}function sa(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&qc(r,o,p)}f=f.next}while(f!==u)}}function Fl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Kc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function wp(t){var r=t.alternate;r!==null&&(t.alternate=null,wp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Ar],delete r[Qo],delete r[uc],delete r[q_],delete r[K_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tp(t){return t.tag===5||t.tag===3||t.tag===4}function Sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=pl));else if(u!==4&&(t=t.child,t!==null))for(Qc(t,r,o),t=t.sibling;t!==null;)Qc(t,r,o),t=t.sibling}function Gc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Gc(t,r,o),t=t.sibling;t!==null;)Gc(t,r,o),t=t.sibling}var Qt=null,ur=!1;function Pi(t,r,o){for(o=o.child;o!==null;)Ip(t,r,o),o=o.sibling}function Ip(t,r,o){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Qi,o)}catch{}switch(o.tag){case 5:sn||oo(o,r);case 6:var u=Qt,f=ur;Qt=null,Pi(t,r,o),Qt=u,ur=f,Qt!==null&&(ur?(t=Qt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Qt.removeChild(o.stateNode));break;case 18:Qt!==null&&(ur?(t=Qt,o=o.stateNode,t.nodeType===8?lc(t.parentNode,o):t.nodeType===1&&lc(t,o),ir(t)):lc(Qt,o.stateNode));break;case 4:u=Qt,f=ur,Qt=o.stateNode.containerInfo,ur=!0,Pi(t,r,o),Qt=u,ur=f;break;case 0:case 11:case 14:case 15:if(!sn&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&qc(o,r,v),f=f.next}while(f!==u)}Pi(t,r,o);break;case 1:if(!sn&&(oo(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){wt(o,r,I)}Pi(t,r,o);break;case 21:Pi(t,r,o);break;case 22:o.mode&1?(sn=(u=sn)||o.memoizedState!==null,Pi(t,r,o),sn=u):Pi(t,r,o);break;default:Pi(t,r,o)}}function Rp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new uv),r.forEach(function(u){var f=vv.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function cr(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var p=t,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:Qt=I.stateNode,ur=!1;break e;case 3:Qt=I.stateNode.containerInfo,ur=!0;break e;case 4:Qt=I.stateNode.containerInfo,ur=!0;break e}I=I.return}if(Qt===null)throw Error(n(160));Ip(p,v,f),Qt=null,ur=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(H){wt(f,r,H)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ap(r,t),r=r.sibling}function Ap(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cr(r,t),kr(t),u&4){try{sa(3,t,t.return),Fl(3,t)}catch(me){wt(t,t.return,me)}try{sa(5,t,t.return)}catch(me){wt(t,t.return,me)}}break;case 1:cr(r,t),kr(t),u&512&&o!==null&&oo(o,o.return);break;case 5:if(cr(r,t),kr(t),u&512&&o!==null&&oo(o,o.return),t.flags&32){var f=t.stateNode;try{Zn(f,"")}catch(me){wt(t,t.return,me)}}if(u&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,I=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&Wi(f,p),Or(I,v);var H=Or(I,p);for(v=0;v<x.length;v+=2){var X=x[v],te=x[v+1];X==="style"?ai(f,te):X==="dangerouslySetInnerHTML"?_n(f,te):X==="children"?Zn(f,te):le(f,X,te,H)}switch(I){case"input":qi(f,p);break;case"textarea":hn(f,p);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var he=p.value;he!=null?cn(f,!!p.multiple,he,!1):Y!==!!p.multiple&&(p.defaultValue!=null?cn(f,!!p.multiple,p.defaultValue,!0):cn(f,!!p.multiple,p.multiple?[]:"",!1))}f[Qo]=p}catch(me){wt(t,t.return,me)}}break;case 6:if(cr(r,t),kr(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(me){wt(t,t.return,me)}}break;case 3:if(cr(r,t),kr(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ir(r.containerInfo)}catch(me){wt(t,t.return,me)}break;case 4:cr(r,t),kr(t);break;case 13:cr(r,t),kr(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Jc=Fe())),u&4&&Rp(t);break;case 22:if(X=o!==null&&o.memoizedState!==null,t.mode&1?(sn=(H=sn)||X,cr(r,t),sn=H):cr(r,t),kr(t),u&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!X&&t.mode&1)for(fe=t,X=t.child;X!==null;){for(te=fe=X;fe!==null;){switch(Y=fe,he=Y.child,Y.tag){case 0:case 11:case 14:case 15:sa(4,Y,Y.return);break;case 1:oo(Y,Y.return);var pe=Y.stateNode;if(typeof pe.componentWillUnmount=="function"){u=Y,o=Y.return;try{r=u,pe.props=r.memoizedProps,pe.state=r.memoizedState,pe.componentWillUnmount()}catch(me){wt(u,o,me)}}break;case 5:oo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){kp(te);continue}}he!==null?(he.return=Y,fe=he):kp(te)}X=X.sibling}e:for(X=null,te=t;;){if(te.tag===5){if(X===null){X=te;try{f=te.stateNode,H?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=te.stateNode,x=te.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=Ki("display",v))}catch(me){wt(t,t.return,me)}}}else if(te.tag===6){if(X===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(me){wt(t,t.return,me)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===t)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===t)break e;for(;te.sibling===null;){if(te.return===null||te.return===t)break e;X===te&&(X=null),te=te.return}X===te&&(X=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:cr(r,t),kr(t),u&4&&Rp(t);break;case 21:break;default:cr(r,t),kr(t)}}function kr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Tp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Zn(f,""),u.flags&=-33);var p=Sp(t);Gc(t,p,f);break;case 3:case 4:var v=u.stateNode.containerInfo,I=Sp(t);Qc(t,I,v);break;default:throw Error(n(161))}}catch(x){wt(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function hv(t,r,o){fe=t,Cp(t)}function Cp(t,r,o){for(var u=(t.mode&1)!==0;fe!==null;){var f=fe,p=f.child;if(f.tag===22&&u){var v=f.memoizedState!==null||Ol;if(!v){var I=f.alternate,x=I!==null&&I.memoizedState!==null||sn;I=Ol;var H=sn;if(Ol=v,(sn=x)&&!H)for(fe=f;fe!==null;)v=fe,x=v.child,v.tag===22&&v.memoizedState!==null?xp(f):x!==null?(x.return=v,fe=x):xp(f);for(;p!==null;)fe=p,Cp(p),p=p.sibling;fe=f,Ol=I,sn=H}Pp(t)}else f.subtreeFlags&8772&&p!==null?(p.return=f,fe=p):Pp(t)}}function Pp(t){for(;fe!==null;){var r=fe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:sn||Fl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!sn)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:lr(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Rd(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Rd(r,v,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var H=r.alternate;if(H!==null){var X=H.memoizedState;if(X!==null){var te=X.dehydrated;te!==null&&ir(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||r.flags&512&&Kc(r)}catch(Y){wt(r,r.return,Y)}}if(r===t){fe=null;break}if(o=r.sibling,o!==null){o.return=r.return,fe=o;break}fe=r.return}}function kp(t){for(;fe!==null;){var r=fe;if(r===t){fe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,fe=o;break}fe=r.return}}function xp(t){for(;fe!==null;){var r=fe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Fl(4,r)}catch(x){wt(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(x){wt(r,f,x)}}var p=r.return;try{Kc(r)}catch(x){wt(r,p,x)}break;case 5:var v=r.return;try{Kc(r)}catch(x){wt(r,v,x)}}}catch(x){wt(r,r.return,x)}if(r===t){fe=null;break}var I=r.sibling;if(I!==null){I.return=r.return,fe=I;break}fe=r.return}}var fv=Math.ceil,bl=we.ReactCurrentDispatcher,Yc=we.ReactCurrentOwner,Wn=we.ReactCurrentBatchConfig,Ye=0,$t=null,kt=null,Gt=0,Ln=0,ao=Si(0),Ot=0,oa=null,ls=0,jl=0,Xc=0,aa=null,In=null,Jc=0,lo=1/0,Zr=null,Bl=!1,Zc=null,ki=null,Ul=!1,xi=null,zl=0,la=0,eh=null,$l=-1,Hl=0;function gn(){return Ye&6?Fe():$l!==-1?$l:$l=Fe()}function Di(t){return t.mode&1?Ye&2&&Gt!==0?Gt&-Gt:G_.transition!==null?(Hl===0&&(Hl=Yi()),Hl):(t=We,t!==0||(t=window.event,t=t===void 0?16:Oo(t.type)),t):1}function hr(t,r,o,u){if(50<la)throw la=0,eh=null,Error(n(185));mi(t,o,u),(!(Ye&2)||t!==$t)&&(t===$t&&(!(Ye&2)&&(jl|=o),Ot===4&&Ni(t,Gt)),Rn(t,u),o===1&&Ye===0&&!(r.mode&1)&&(lo=Fe()+500,_l&&Ri()))}function Rn(t,r){var o=t.callbackNode;Ur(t,r);var u=Gi(t,t===$t?Gt:0);if(u===0)o!==null&&Er(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Er(o),r===1)t.tag===0?Q_(Np.bind(null,t)):gd(Np.bind(null,t)),H_(function(){!(Ye&6)&&Ri()}),o=null;else{switch(yi(u)){case 1:o=Br;break;case 4:o=fi;break;case 16:o=bn;break;case 536870912:o=Ha;break;default:o=bn}o=Bp(o,Dp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Dp(t,r){if($l=-1,Hl=0,Ye&6)throw Error(n(327));var o=t.callbackNode;if(uo()&&t.callbackNode!==o)return null;var u=Gi(t,t===$t?Gt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Wl(t,u);else{r=u;var f=Ye;Ye|=2;var p=Mp();($t!==t||Gt!==r)&&(Zr=null,lo=Fe()+500,cs(t,r));do try{mv();break}catch(I){Vp(t,I)}while(!0);_c(),bl.current=p,Ye=f,kt!==null?r=0:($t=null,Gt=0,r=Ot)}if(r!==0){if(r===2&&(f=xn(t),f!==0&&(u=f,r=th(t,f))),r===1)throw o=oa,cs(t,0),Ni(t,u),Rn(t,Fe()),o;if(r===6)Ni(t,u);else{if(f=t.current.alternate,!(u&30)&&!dv(f)&&(r=Wl(t,u),r===2&&(p=xn(t),p!==0&&(u=p,r=th(t,p))),r===1))throw o=oa,cs(t,0),Ni(t,u),Rn(t,Fe()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:hs(t,In,Zr);break;case 3:if(Ni(t,u),(u&130023424)===u&&(r=Jc+500-Fe(),10<r)){if(Gi(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){gn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=ac(hs.bind(null,t,In,Zr),r);break}hs(t,In,Zr);break;case 4:if(Ni(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var v=31-dn(u);p=1<<v,v=r[v],v>f&&(f=v),u&=~p}if(u=f,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*fv(u/1960))-u,10<u){t.timeoutHandle=ac(hs.bind(null,t,In,Zr),u);break}hs(t,In,Zr);break;case 5:hs(t,In,Zr);break;default:throw Error(n(329))}}}return Rn(t,Fe()),t.callbackNode===o?Dp.bind(null,t):null}function th(t,r){var o=aa;return t.current.memoizedState.isDehydrated&&(cs(t,r).flags|=256),t=Wl(t,r),t!==2&&(r=In,In=o,r!==null&&nh(r)),t}function nh(t){In===null?In=t:In.push.apply(In,t)}function dv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!or(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ni(t,r){for(r&=~Xc,r&=~jl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-dn(r),u=1<<o;t[o]=-1,r&=~u}}function Np(t){if(Ye&6)throw Error(n(327));uo();var r=Gi(t,0);if(!(r&1))return Rn(t,Fe()),null;var o=Wl(t,r);if(t.tag!==0&&o===2){var u=xn(t);u!==0&&(r=u,o=th(t,u))}if(o===1)throw o=oa,cs(t,0),Ni(t,r),Rn(t,Fe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,hs(t,In,Zr),Rn(t,Fe()),null}function rh(t,r){var o=Ye;Ye|=1;try{return t(r)}finally{Ye=o,Ye===0&&(lo=Fe()+500,_l&&Ri())}}function us(t){xi!==null&&xi.tag===0&&!(Ye&6)&&uo();var r=Ye;Ye|=1;var o=Wn.transition,u=We;try{if(Wn.transition=null,We=1,t)return t()}finally{We=u,Wn.transition=o,Ye=r,!(Ye&6)&&Ri()}}function ih(){Ln=ao.current,ct(ao)}function cs(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,$_(o)),kt!==null)for(o=kt.return;o!==null;){var u=o;switch(dc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&gl();break;case 3:io(),ct(wn),ct(tn),Pc();break;case 5:Ac(u);break;case 4:io();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:vc(u.type._context);break;case 22:case 23:ih()}o=o.return}if($t=t,kt=t=Vi(t.current,null),Gt=Ln=r,Ot=0,oa=null,Xc=jl=ls=0,In=aa=null,ss!==null){for(r=0;r<ss.length;r++)if(o=ss[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=f,u.next=v}o.pending=u}ss=null}return t}function Vp(t,r){do{var o=kt;try{if(_c(),kl.current=Vl,xl){for(var u=yt.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}xl=!1}if(as=0,zt=Lt=yt=null,ea=!1,ta=0,Yc.current=null,o===null||o.return===null){Ot=1,oa=r,kt=null;break}e:{var p=t,v=o.return,I=o,x=r;if(r=Gt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var H=x,X=I,te=X.tag;if(!(X.mode&1)&&(te===0||te===11||te===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var he=ip(v);if(he!==null){he.flags&=-257,sp(he,v,I,p,r),he.mode&1&&rp(p,H,r),r=he,x=H;var pe=r.updateQueue;if(pe===null){var me=new Set;me.add(x),r.updateQueue=me}else pe.add(x);break e}else{if(!(r&1)){rp(p,H,r),sh();break e}x=Error(n(426))}}else if(dt&&I.mode&1){var At=ip(v);if(At!==null){!(At.flags&65536)&&(At.flags|=256),sp(At,v,I,p,r),gc(so(x,I));break e}}p=x=so(x,I),Ot!==4&&(Ot=2),aa===null?aa=[p]:aa.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=tp(p,x,r);Id(p,b);break e;case 1:I=x;var V=p.type,j=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ki===null||!ki.has(j)))){p.flags|=65536,r&=-r,p.lanes|=r;var re=np(p,I,r);Id(p,re);break e}}p=p.return}while(p!==null)}Op(o)}catch(_e){r=_e,kt===o&&o!==null&&(kt=o=o.return);continue}break}while(!0)}function Mp(){var t=bl.current;return bl.current=Vl,t===null?Vl:t}function sh(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(ls&268435455)&&!(jl&268435455)||Ni($t,Gt)}function Wl(t,r){var o=Ye;Ye|=2;var u=Mp();($t!==t||Gt!==r)&&(Zr=null,cs(t,r));do try{pv();break}catch(f){Vp(t,f)}while(!0);if(_c(),Ye=o,bl.current=u,kt!==null)throw Error(n(261));return $t=null,Gt=0,Ot}function pv(){for(;kt!==null;)Lp(kt)}function mv(){for(;kt!==null&&!ze();)Lp(kt)}function Lp(t){var r=jp(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,r===null?Op(t):kt=r,Yc.current=null}function Op(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=lv(o,r),o!==null){o.flags&=32767,kt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,kt=null;return}}else if(o=av(o,r,Ln),o!==null){kt=o;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=t}while(r!==null);Ot===0&&(Ot=5)}function hs(t,r,o){var u=We,f=Wn.transition;try{Wn.transition=null,We=1,gv(t,r,o,u)}finally{Wn.transition=f,We=u}return null}function gv(t,r,o,u){do uo();while(xi!==null);if(Ye&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ot(t,p),t===$t&&(kt=$t=null,Gt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ul||(Ul=!0,Bp(bn,function(){return uo(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=Wn.transition,Wn.transition=null;var v=We;We=1;var I=Ye;Ye|=4,Yc.current=null,cv(t,o),Ap(o,t),O_(sc),vi=!!ic,sc=ic=null,t.current=o,hv(o),Je(),Ye=I,We=v,Wn.transition=p}else t.current=o;if(Ul&&(Ul=!1,xi=t,zl=f),p=t.pendingLanes,p===0&&(ki=null),Wa(o.stateNode),Rn(t,Fe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Bl)throw Bl=!1,t=Zc,Zc=null,t;return zl&1&&t.tag!==0&&uo(),p=t.pendingLanes,p&1?t===eh?la++:(la=0,eh=t):la=0,Ri(),null}function uo(){if(xi!==null){var t=yi(zl),r=Wn.transition,o=We;try{if(Wn.transition=null,We=16>t?16:t,xi===null)var u=!1;else{if(t=xi,xi=null,zl=0,Ye&6)throw Error(n(331));var f=Ye;for(Ye|=4,fe=t.current;fe!==null;){var p=fe,v=p.child;if(fe.flags&16){var I=p.deletions;if(I!==null){for(var x=0;x<I.length;x++){var H=I[x];for(fe=H;fe!==null;){var X=fe;switch(X.tag){case 0:case 11:case 15:sa(8,X,p)}var te=X.child;if(te!==null)te.return=X,fe=te;else for(;fe!==null;){X=fe;var Y=X.sibling,he=X.return;if(wp(X),X===H){fe=null;break}if(Y!==null){Y.return=he,fe=Y;break}fe=he}}}var pe=p.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var At=me.sibling;me.sibling=null,me=At}while(me!==null)}}fe=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,fe=v;else e:for(;fe!==null;){if(p=fe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:sa(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,fe=b;break e}fe=p.return}}var V=t.current;for(fe=V;fe!==null;){v=fe;var j=v.child;if(v.subtreeFlags&2064&&j!==null)j.return=v,fe=j;else e:for(v=V;fe!==null;){if(I=fe,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:Fl(9,I)}}catch(_e){wt(I,I.return,_e)}if(I===v){fe=null;break e}var re=I.sibling;if(re!==null){re.return=I.return,fe=re;break e}fe=I.return}}if(Ye=f,Ri(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Qi,t)}catch{}u=!0}return u}finally{We=o,Wn.transition=r}}return!1}function Fp(t,r,o){r=so(o,r),r=tp(t,r,1),t=Ci(t,r,1),r=gn(),t!==null&&(mi(t,1,r),Rn(t,r))}function wt(t,r,o){if(t.tag===3)Fp(t,t,o);else for(;r!==null;){if(r.tag===3){Fp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ki===null||!ki.has(u))){t=so(o,t),t=np(r,t,1),r=Ci(r,t,1),t=gn(),r!==null&&(mi(r,1,t),Rn(r,t));break}}r=r.return}}function yv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=gn(),t.pingedLanes|=t.suspendedLanes&o,$t===t&&(Gt&o)===o&&(Ot===4||Ot===3&&(Gt&130023424)===Gt&&500>Fe()-Jc?cs(t,0):Xc|=o),Rn(t,r)}function bp(t,r){r===0&&(t.mode&1?(r=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):r=1);var o=gn();t=Yr(t,r),t!==null&&(mi(t,r,o),Rn(t,o))}function _v(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),bp(t,o)}function vv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),bp(t,o)}var jp;jp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||wn.current)Sn=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Sn=!1,ov(t,r,o);Sn=!!(t.flags&131072)}else Sn=!1,dt&&r.flags&1048576&&yd(r,El,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Ll(t,r),t=r.pendingProps;var f=Xs(r,tn.current);no(r,o),f=Dc(null,r,u,t,f,o);var p=Nc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Tn(u)?(p=!0,yl(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Tc(r),f.updater=Al,r.stateNode=f,f._reactInternals=r,Ic(r,u,t,o),r=Bc(null,r,u,!0,p,o)):(r.tag=0,dt&&p&&fc(r),mn(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Ll(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=wv(u),t=lr(u,t),f){case 0:r=jc(null,r,u,t,o);break e;case 1:r=hp(null,r,u,t,o);break e;case 11:r=op(null,r,u,t,o);break e;case 14:r=ap(null,r,u,lr(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:lr(u,f),jc(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:lr(u,f),hp(t,r,u,f,o);case 3:e:{if(fp(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,f=p.element,Sd(t,r),Rl(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=so(Error(n(423)),r),r=dp(t,r,u,o,f);break e}else if(u!==f){f=so(Error(n(424)),r),r=dp(t,r,u,o,f);break e}else for(Mn=Ti(r.stateNode.containerInfo.firstChild),Vn=r,dt=!0,ar=null,o=Nd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(eo(),u===f){r=Jr(t,r,o);break e}mn(t,r,u,o)}r=r.child}return r;case 5:return Vd(r),t===null&&mc(r),u=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,v=f.children,oc(u,f)?v=null:p!==null&&oc(u,p)&&(r.flags|=32),cp(t,r),mn(t,r,v,o),r.child;case 6:return t===null&&mc(r),null;case 13:return pp(t,r,o);case 4:return Rc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ro(r,null,u,o):mn(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:lr(u,f),op(t,r,u,f,o);case 7:return mn(t,r,r.pendingProps,o),r.child;case 8:return mn(t,r,r.pendingProps.children,o),r.child;case 12:return mn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,p=r.memoizedProps,v=f.value,lt(Tl,u._currentValue),u._currentValue=v,p!==null)if(or(p.value,v)){if(p.children===f.children&&!wn.current){r=Jr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var x=I.firstContext;x!==null;){if(x.context===u){if(p.tag===1){x=Xr(-1,o&-o),x.tag=2;var H=p.updateQueue;if(H!==null){H=H.shared;var X=H.pending;X===null?x.next=x:(x.next=X.next,X.next=x),H.pending=x}}p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),Ec(p.return,o,r),I.lanes|=o;break}x=x.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),Ec(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}mn(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,no(r,o),f=$n(f),u=u(f),r.flags|=1,mn(t,r,u,o),r.child;case 14:return u=r.type,f=lr(u,r.pendingProps),f=lr(u.type,f),ap(t,r,u,f,o);case 15:return lp(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:lr(u,f),Ll(t,r),r.tag=1,Tn(u)?(t=!0,yl(r)):t=!1,no(r,o),Pd(r,u,f),Ic(r,u,f,o),Bc(null,r,u,!0,t,o);case 19:return gp(t,r,o);case 22:return up(t,r,o)}throw Error(n(156,r.tag))};function Bp(t,r){return Pn(t,r)}function Ev(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,r,o,u){return new Ev(t,r,o,u)}function oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wv(t){if(typeof t=="function")return oh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===It)return 14}return 2}function Vi(t,r){var o=t.alternate;return o===null?(o=qn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ql(t,r,o,u,f,p){var v=2;if(u=t,typeof t=="function")oh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case C:return fs(o.children,f,p,r);case T:v=8,f|=8;break;case S:return t=qn(12,o,r,f|2),t.elementType=S,t.lanes=p,t;case A:return t=qn(13,o,r,f),t.elementType=A,t.lanes=p,t;case nt:return t=qn(19,o,r,f),t.elementType=nt,t.lanes=p,t;case Pe:return Kl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:v=10;break e;case N:v=9;break e;case M:v=11;break e;case It:v=14;break e;case Rt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=qn(v,o,r,f),r.elementType=t,r.type=u,r.lanes=p,r}function fs(t,r,o,u){return t=qn(7,t,u,r),t.lanes=o,t}function Kl(t,r,o,u){return t=qn(22,t,u,r),t.elementType=Pe,t.lanes=o,t.stateNode={isHidden:!1},t}function ah(t,r,o){return t=qn(6,t,null,r),t.lanes=o,t}function lh(t,r,o){return r=qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Tv(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function uh(t,r,o,u,f,p,v,I,x){return t=new Tv(t,r,o,I,x),r===1?(r=1,p===!0&&(r|=8)):r=0,p=qn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(p),t}function Sv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Up(t){if(!t)return Ii;t=t._reactInternals;e:{if(Bt(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Tn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Tn(o))return pd(t,o,r)}return r}function zp(t,r,o,u,f,p,v,I,x){return t=uh(o,u,!0,t,f,p,v,I,x),t.context=Up(null),o=t.current,u=gn(),f=Di(o),p=Xr(u,f),p.callback=r??null,Ci(o,p,f),t.current.lanes=f,mi(t,f,u),Rn(t,u),t}function Ql(t,r,o,u){var f=r.current,p=gn(),v=Di(f);return o=Up(o),r.context===null?r.context=o:r.pendingContext=o,r=Xr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ci(f,r,v),t!==null&&(hr(t,f,v,p),Il(t,f,v)),v}function Gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $p(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function ch(t,r){$p(t,r),(t=t.alternate)&&$p(t,r)}var Hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function hh(t){this._internalRoot=t}Yl.prototype.render=hh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ql(t,r,null,null)},Yl.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;us(function(){Ql(null,t,null,null)}),r[qr]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ya();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,t),o===0&&Za(t)}};function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function Iv(t,r,o,u,f){if(f){if(typeof u=="function"){var p=u;u=function(){var H=Gl(v);p.call(H)}}var v=zp(r,u,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=v,t[qr]=v.current,qo(t.nodeType===8?t.parentNode:t),us(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var I=u;u=function(){var H=Gl(x);I.call(H)}}var x=uh(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=x,t[qr]=x.current,qo(t.nodeType===8?t.parentNode:t),us(function(){Ql(r,x,o,u)}),x}function Jl(t,r,o,u,f){var p=o._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var I=f;f=function(){var x=Gl(v);I.call(x)}}Ql(r,v,t,f)}else v=Iv(o,r,t,f,u);return Gl(v)}Qa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=di(r.pendingLanes);o!==0&&(gi(r,o|1),Rn(r,Fe()),!(Ye&6)&&(lo=Fe()+500,Ri()))}break;case 13:us(function(){var u=Yr(t,1);if(u!==null){var f=gn();hr(u,t,1,f)}}),ch(t,1)}},Vs=function(t){if(t.tag===13){var r=Yr(t,134217728);if(r!==null){var o=gn();hr(r,t,134217728,o)}ch(t,134217728)}},Ga=function(t){if(t.tag===13){var r=Di(t),o=Yr(t,r);if(o!==null){var u=gn();hr(o,t,r,u)}ch(t,r)}},Ya=function(){return We},Xa=function(t,r){var o=We;try{return We=t,r()}finally{We=o}},ui=function(t,r,o){switch(r){case"input":if(qi(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=ml(u);if(!f)throw Error(n(90));On(u),qi(u,f)}}}break;case"textarea":hn(t,o);break;case"select":r=o.value,r!=null&&cn(t,!!o.multiple,r,!1)}},se=rh,de=us;var Rv={usingClientEntryPoint:!1,Events:[Go,Gs,ml,B,Q,rh]},ua={findFiberByHostInstance:ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Av={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:we.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=er(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Qi=Zl.inject(Av),kn=Zl}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv,An.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fh(r))throw Error(n(200));return Sv(t,r,null,o)},An.createRoot=function(t,r){if(!fh(t))throw Error(n(299));var o=!1,u="",f=Hp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=uh(t,1,!1,null,null,o,!1,u,f),t[qr]=r.current,qo(t.nodeType===8?t.parentNode:t),new hh(r)},An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=er(r),t=t===null?null:t.stateNode,t},An.flushSync=function(t){return us(t)},An.hydrate=function(t,r,o){if(!Xl(r))throw Error(n(200));return Jl(null,t,r,!0,o)},An.hydrateRoot=function(t,r,o){if(!fh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,p="",v=Hp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=zp(r,null,t,1,o??null,f,!1,p,v),t[qr]=r.current,qo(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Yl(r)},An.render=function(t,r,o){if(!Xl(r))throw Error(n(200));return Jl(null,t,r,!1,o)},An.unmountComponentAtNode=function(t){if(!Xl(t))throw Error(n(40));return t._reactRootContainer?(us(function(){Jl(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1},An.unstable_batchedUpdates=rh,An.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Xl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Jl(t,r,o,!1,u)},An.version="18.2.0-next-9e3b772b8-20220608",An}var Zp;function Ng(){if(Zp)return mh.exports;Zp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mh.exports=Mv(),mh.exports}var em;function Lv(){if(em)return eu;em=1;var i=Ng();return eu.createRoot=i.createRoot,eu.hydrateRoot=i.hydrateRoot,eu}var Ov=Lv();const Fv=ef(Ov);var Vg=Ng();const bv=ef(Vg),jv=xg({__proto__:null,default:bv},[Vg]);/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function St(){return St=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},St.apply(this,arguments)}var Dt;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Dt||(Dt={}));const tm="popstate";function Bv(i){i===void 0&&(i={});function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return Ra("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Es(a)}return zv(e,n,null,i)}function $e(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _o(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uv(){return Math.random().toString(36).substr(2,8)}function nm(i,e){return{usr:i.state,key:i.key,idx:e}}function Ra(i,e,n,s){return n===void 0&&(n=null),St({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||s||Uv()})}function Es(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Hi(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function zv(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m=Dt.Pop,g=null,_=E();_==null&&(_=0,h.replaceState(St({},h.state,{idx:_}),""));function E(){return(h.state||{idx:null}).idx}function R(){m=Dt.Pop;let F=E(),ee=F==null?null:F-_;_=F,g&&g({action:m,location:$.location,delta:ee})}function P(F,ee){m=Dt.Push;let ae=Ra($.location,F,ee);_=E()+1;let le=nm(ae,_),we=$.createHref(ae);try{h.pushState(le,"",we)}catch(je){if(je instanceof DOMException&&je.name==="DataCloneError")throw je;a.location.assign(we)}c&&g&&g({action:m,location:$.location,delta:1})}function U(F,ee){m=Dt.Replace;let ae=Ra($.location,F,ee);_=E();let le=nm(ae,_),we=$.createHref(ae);h.replaceState(le,"",we),c&&g&&g({action:m,location:$.location,delta:0})}function q(F){let ee=a.location.origin!=="null"?a.location.origin:a.location.href,ae=typeof F=="string"?F:Es(F);return ae=ae.replace(/ $/,"%20"),$e(ee,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,ee)}let $={get action(){return m},get location(){return i(a,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(tm,R),g=F,()=>{a.removeEventListener(tm,R),g=null}},createHref(F){return e(a,F)},createURL:q,encodeLocation(F){let ee=q(F);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:P,replace:U,go(F){return h.go(F)}};return $}var Tt;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Tt||(Tt={}));const $v=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hv(i){return i.index===!0}function xh(i,e,n,s){return n===void 0&&(n=[]),s===void 0&&(s={}),i.map((a,c)=>{let h=[...n,c],m=typeof a.id=="string"?a.id:h.join("-");if($e(a.index!==!0||!a.children,"Cannot specify children on an index route"),$e(!s[m],'Found a route id collision on id "'+m+`".  Route id's must be globally unique within Data Router usages`),Hv(a)){let g=St({},a,e(a),{id:m});return s[m]=g,g}else{let g=St({},a,e(a),{id:m,children:void 0});return s[m]=g,a.children&&(g.children=xh(a.children,e,h,s)),g}})}function po(i,e,n){n===void 0&&(n="/");let s=typeof e=="string"?Hi(e):e,a=Ao(s.pathname||"/",n);if(a==null)return null;let c=Mg(i);qv(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let g=iE(a);h=tE(c[m],g)}return h}function Wv(i,e){let{route:n,pathname:s,params:a}=i;return{id:n.id,pathname:s,params:a,data:e[n.id],handle:n.handle}}function Mg(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&($e(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let _=ei([s,g.relativePath]),E=n.concat(g);c.children&&c.children.length>0&&($e(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Mg(c.children,e,E,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Zv(_,c.index),routesMeta:E})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let g of Lg(c.path))a(c,h,g)}),e}function Lg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=Lg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function qv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:eE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Kv=/^:[\w-]+$/,Qv=3,Gv=2,Yv=1,Xv=10,Jv=-2,rm=i=>i==="*";function Zv(i,e){let n=i.split("/"),s=n.length;return n.some(rm)&&(s+=Jv),e&&(s+=Gv),n.filter(a=>!rm(a)).reduce((a,c)=>a+(Kv.test(c)?Qv:c===""?Yv:Xv),s)}function eE(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function tE(i,e){let{routesMeta:n}=i,s={},a="/",c=[];for(let h=0;h<n.length;++h){let m=n[h],g=h===n.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=nE({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_);if(!E)return null;Object.assign(s,E.params);let R=m.route;c.push({params:s,pathname:ei([a,E.pathname]),pathnameBase:aE(ei([a,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(a=ei([a,E.pathnameBase]))}return c}function nE(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=rE(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,E,R)=>{let{paramName:P,isOptional:U}=E;if(P==="*"){let $=m[R]||"";h=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const q=m[R];return U&&!q?_[P]=void 0:_[P]=(q||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:h,pattern:i}}function rE(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_o(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function iE(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _o(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Ao(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function sE(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Hi(i):i;return{pathname:n?n.startsWith("/")?n:oE(n,e):e,search:lE(s),hash:uE(a)}}function oE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _h(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Og(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nf(i,e){let n=Og(i);return e?n.map((s,a)=>a===i.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function rf(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=Hi(i):(a=St({},i),$e(!a.pathname||!a.pathname.includes("?"),_h("?","pathname","search",a)),$e(!a.pathname||!a.pathname.includes("#"),_h("#","pathname","hash",a)),$e(!a.search||!a.search.includes("#"),_h("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let R=e.length-1;if(!s&&h.startsWith("..")){let P=h.split("/");for(;P[0]==="..";)P.shift(),R-=1;a.pathname=P.join("/")}m=R>=0?e[R]:"/"}let g=sE(a,m),_=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||E)&&(g.pathname+="/"),g}const ei=i=>i.join("/").replace(/\/\/+/g,"/"),aE=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),lE=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,uE=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;class sf{constructor(e,n,s,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Fg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const bg=["post","put","patch","delete"],cE=new Set(bg),hE=["get",...bg],fE=new Set(hE),dE=new Set([301,302,303,307,308]),pE=new Set([307,308]),vh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ha={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gE=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),Bg="remix-router-transitions";function yE(i){const e=i.window?i.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",s=!n;$e(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(i.mapRouteProperties)a=i.mapRouteProperties;else if(i.detectErrorBoundary){let L=i.detectErrorBoundary;a=B=>({hasErrorBoundary:L(B)})}else a=gE;let c={},h=xh(i.routes,a,void 0,c),m,g=i.basename||"/",_=St({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},i.future),E=null,R=new Set,P=null,U=null,q=null,$=i.hydrationData!=null,F=po(h,i.history.location,g),ee=null;if(F==null){let L=Kn(404,{pathname:i.history.location.pathname}),{matches:B,route:Q}=hm(h);F=B,ee={[Q.id]:L}}let ae,le=F.some(L=>L.route.lazy),we=F.some(L=>L.route.loader);if(le)ae=!1;else if(!we)ae=!0;else if(_.v7_partialHydration){let L=i.hydrationData?i.hydrationData.loaderData:null,B=i.hydrationData?i.hydrationData.errors:null;ae=F.every(Q=>Q.route.loader&&Q.route.loader.hydrate!==!0&&(L&&L[Q.route.id]!==void 0||B&&B[Q.route.id]!==void 0))}else ae=i.hydrationData!=null;let je,z={historyAction:i.history.action,location:i.history.location,matches:F,initialized:ae,navigation:vh,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},C=Dt.Pop,T=!1,S,D=!1,N=new Map,M=null,A=!1,nt=!1,It=[],Rt=[],Pe=new Map,ie=0,ve=-1,k=new Map,G=new Set,ue=new Map,Ee=new Map,Ce=new Set,be=new Map,Oe=new Map,Ue=!1;function qe(){if(E=i.history.listen(L=>{let{action:B,location:Q,delta:se}=L;if(Ue){Ue=!1;return}_o(Oe.size===0||se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=li({currentLocation:z.location,nextLocation:Q,historyAction:B});if(de&&se!=null){Ue=!0,i.history.go(se*-1),_r(de,{state:"blocked",location:Q,proceed(){_r(de,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),i.history.go(se)},reset(){let ke=new Map(z.blockers);ke.set(de,ha),mt({blockers:ke})}});return}return yn(B,Q)}),n){PE(e,N);let L=()=>kE(e,N);e.addEventListener("pagehide",L),M=()=>e.removeEventListener("pagehide",L)}return z.initialized||yn(Dt.Pop,z.location,{initialHydration:!0}),je}function jt(){E&&E(),M&&M(),R.clear(),S&&S.abort(),z.fetchers.forEach((L,B)=>ht(B)),z.blockers.forEach((L,B)=>ai(B))}function ii(L){return R.add(L),()=>R.delete(L)}function mt(L,B){B===void 0&&(B={}),z=St({},z,L);let Q=[],se=[];_.v7_fetcherPersist&&z.fetchers.forEach((de,ke)=>{de.state==="idle"&&(Ce.has(ke)?se.push(ke):Q.push(ke))}),[...R].forEach(de=>de(z,{deletedFetchers:se,unstable_viewTransitionOpts:B.viewTransitionOpts,unstable_flushSync:B.flushSync===!0})),_.v7_fetcherPersist&&(Q.forEach(de=>z.fetchers.delete(de)),se.forEach(de=>ht(de)))}function On(L,B,Q){var se,de;let{flushSync:ke}=Q===void 0?{}:Q,Se=z.actionData!=null&&z.navigation.formMethod!=null&&fr(z.navigation.formMethod)&&z.navigation.state==="loading"&&((se=L.state)==null?void 0:se._isRedirect)!==!0,ce;B.actionData?Object.keys(B.actionData).length>0?ce=B.actionData:ce=null:Se?ce=z.actionData:ce=null;let ye=B.loaderData?cm(z.loaderData,B.loaderData,B.matches||[],B.errors):z.loaderData,De=z.blockers;De.size>0&&(De=new Map(De),De.forEach((Ge,rt)=>De.set(rt,ha)));let at=T===!0||z.navigation.formMethod!=null&&fr(z.navigation.formMethod)&&((de=L.state)==null?void 0:de._isRedirect)!==!0;m&&(h=m,m=void 0),A||C===Dt.Pop||(C===Dt.Push?i.history.push(L,L.state):C===Dt.Replace&&i.history.replace(L,L.state));let xe;if(C===Dt.Pop){let Ge=N.get(z.location.pathname);Ge&&Ge.has(L.pathname)?xe={currentLocation:z.location,nextLocation:L}:N.has(L.pathname)&&(xe={currentLocation:L,nextLocation:z.location})}else if(D){let Ge=N.get(z.location.pathname);Ge?Ge.add(L.pathname):(Ge=new Set([L.pathname]),N.set(z.location.pathname,Ge)),xe={currentLocation:z.location,nextLocation:L}}mt(St({},B,{actionData:ce,loaderData:ye,historyAction:C,location:L,initialized:!0,navigation:vh,revalidation:"idle",restoreScrollPosition:fn(L,B.matches||z.matches),preventScrollReset:at,blockers:De}),{viewTransitionOpts:xe,flushSync:ke===!0}),C=Dt.Pop,T=!1,D=!1,A=!1,nt=!1,It=[],Rt=[]}async function Gn(L,B){if(typeof L=="number"){i.history.go(L);return}let Q=Dh(z.location,z.matches,g,_.v7_prependBasename,L,_.v7_relativeSplatPath,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:se,submission:de,error:ke}=im(_.v7_normalizeFormMethod,!1,Q,B),Se=z.location,ce=Ra(z.location,se,B&&B.state);ce=St({},ce,i.history.encodeLocation(ce));let ye=B&&B.replace!=null?B.replace:void 0,De=Dt.Push;ye===!0?De=Dt.Replace:ye===!1||de!=null&&fr(de.formMethod)&&de.formAction===z.location.pathname+z.location.search&&(De=Dt.Replace);let at=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,xe=(B&&B.unstable_flushSync)===!0,Ge=li({currentLocation:Se,nextLocation:ce,historyAction:De});if(Ge){_r(Ge,{state:"blocked",location:ce,proceed(){_r(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),Gn(L,B)},reset(){let rt=new Map(z.blockers);rt.set(Ge,ha),mt({blockers:rt})}});return}return await yn(De,ce,{submission:de,pendingError:ke,preventScrollReset:at,replace:B&&B.replace,enableViewTransition:B&&B.unstable_viewTransition,flushSync:xe})}function Lr(){if(mr(),mt({revalidation:"loading"}),z.navigation.state!=="submitting"){if(z.navigation.state==="idle"){yn(z.historyAction,z.location,{startUninterruptedRevalidation:!0});return}yn(C||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation})}}async function yn(L,B,Q){S&&S.abort(),S=null,C=L,A=(Q&&Q.startUninterruptedRevalidation)===!0,ui(z.location,z.matches),T=(Q&&Q.preventScrollReset)===!0,D=(Q&&Q.enableViewTransition)===!0;let se=m||h,de=Q&&Q.overrideNavigation,ke=po(se,B,g),Se=(Q&&Q.flushSync)===!0;if(!ke){let rt=Kn(404,{pathname:B.pathname}),{matches:Nt,route:Et}=hm(se);Or(),On(B,{matches:Nt,loaderData:{},errors:{[Et.id]:rt}},{flushSync:Se});return}if(z.initialized&&!nt&&TE(z.location,B)&&!(Q&&Q.submission&&fr(Q.submission.formMethod))){On(B,{matches:ke},{flushSync:Se});return}S=new AbortController;let ce=da(i.history,B,S.signal,Q&&Q.submission),ye,De;if(Q&&Q.pendingError)De={[Ea(ke).route.id]:Q.pendingError};else if(Q&&Q.submission&&fr(Q.submission.formMethod)){let rt=await Wi(ce,B,Q.submission,ke,{replace:Q.replace,flushSync:Se});if(rt.shortCircuited)return;ye=rt.pendingActionData,De=rt.pendingActionError,de=Eh(B,Q.submission),Se=!1,ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:at,loaderData:xe,errors:Ge}=await qi(ce,B,ke,de,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Se,ye,De);at||(S=null,On(B,St({matches:ke},ye?{actionData:ye}:{},{loaderData:xe,errors:Ge})))}async function Wi(L,B,Q,se,de){de===void 0&&(de={}),mr();let ke=AE(B,Q);mt({navigation:ke},{flushSync:de.flushSync===!0});let Se,ce=Vh(se,B);if(!ce.route.action&&!ce.route.lazy)Se={type:Tt.error,error:Kn(405,{method:L.method,pathname:B.pathname,routeId:ce.route.id})};else if(Se=await fa("action",L,ce,se,c,a,g,_.v7_relativeSplatPath),L.signal.aborted)return{shortCircuited:!0};if(ys(Se)){let ye;return de&&de.replace!=null?ye=de.replace:ye=Se.location===z.location.pathname+z.location.search,await cn(z,Se,{submission:Q,replace:ye}),{shortCircuited:!0}}if(mo(Se)){let ye=Ea(se,ce.route.id);return(de&&de.replace)!==!0&&(C=Dt.Push),{pendingActionData:{},pendingActionError:{[ye.route.id]:Se.error}}}if(gs(Se))throw Kn(400,{type:"defer-action"});return{pendingActionData:{[ce.route.id]:Se.data}}}async function qi(L,B,Q,se,de,ke,Se,ce,ye,De,at){let xe=se||Eh(B,de),Ge=de||ke||pm(xe),rt=m||h,[Nt,Et]=sm(i.history,z,Q,Ge,B,_.v7_partialHydration&&ce===!0,nt,It,Rt,Ce,ue,G,rt,g,De,at);if(Or(ze=>!(Q&&Q.some(Je=>Je.route.id===ze))||Nt&&Nt.some(Je=>Je.route.id===ze)),ve=++ie,Nt.length===0&&Et.length===0){let ze=gr();return On(B,St({matches:Q,loaderData:{},errors:at||null},De?{actionData:De}:{},ze?{fetchers:new Map(z.fetchers)}:{}),{flushSync:ye}),{shortCircuited:!0}}if(!A&&(!_.v7_partialHydration||!ce)){Et.forEach(Je=>{let Fe=z.fetchers.get(Je.key),jr=pa(void 0,Fe?Fe.data:void 0);z.fetchers.set(Je.key,jr)});let ze=De||z.actionData;mt(St({navigation:xe},ze?Object.keys(ze).length===0?{actionData:null}:{actionData:ze}:{},Et.length>0?{fetchers:new Map(z.fetchers)}:{}),{flushSync:ye})}Et.forEach(ze=>{Pe.has(ze.key)&&_n(ze.key),ze.controller&&Pe.set(ze.key,ze.controller)});let Cn=()=>Et.forEach(ze=>_n(ze.key));S&&S.signal.addEventListener("abort",Cn);let{results:ci,loaderResults:Bt,fetcherResults:en}=await oi(z.matches,Q,Nt,Et,L);if(L.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",Cn),Et.forEach(ze=>Pe.delete(ze.key));let Vt=fm(ci);if(Vt){if(Vt.idx>=Nt.length){let ze=Et[Vt.idx-Nt.length].key;G.add(ze)}return await cn(z,Vt.result,{replace:Se}),{shortCircuited:!0}}let{loaderData:hi,errors:er}=um(z,Q,Nt,Bt,at,Et,en,be);be.forEach((ze,Je)=>{ze.subscribe(Fe=>{(Fe||ze.done)&&be.delete(Je)})}),_.v7_partialHydration&&ce&&z.errors&&Object.entries(z.errors).filter(ze=>{let[Je]=ze;return!Nt.some(Fe=>Fe.route.id===Je)}).forEach(ze=>{let[Je,Fe]=ze;er=Object.assign(er||{},{[Je]:Fe})});let vr=gr(),Pn=yr(ve),Er=vr||Pn||Et.length>0;return St({loaderData:hi,errors:er},Er?{fetchers:new Map(z.fetchers)}:{})}function xs(L,B,Q,se){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Pe.has(L)&&_n(L);let de=(se&&se.unstable_flushSync)===!0,ke=m||h,Se=Dh(z.location,z.matches,g,_.v7_prependBasename,Q,_.v7_relativeSplatPath,B,se==null?void 0:se.relative),ce=po(ke,Se,g);if(!ce){Xn(L,B,Kn(404,{pathname:Se}),{flushSync:de});return}let{path:ye,submission:De,error:at}=im(_.v7_normalizeFormMethod,!0,Se,se);if(at){Xn(L,B,at,{flushSync:de});return}let xe=Vh(ce,ye);if(T=(se&&se.preventScrollReset)===!0,De&&fr(De.formMethod)){si(L,B,ye,xe,ce,de,De);return}ue.set(L,{routeId:B,path:ye}),Yn(L,B,ye,xe,ce,de,De)}async function si(L,B,Q,se,de,ke,Se){if(mr(),ue.delete(L),!se.route.action&&!se.route.lazy){let Je=Kn(405,{method:Se.formMethod,pathname:Q,routeId:B});Xn(L,B,Je,{flushSync:ke});return}let ce=z.fetchers.get(L);hn(L,CE(Se,ce),{flushSync:ke});let ye=new AbortController,De=da(i.history,Q,ye.signal,Se);Pe.set(L,ye);let at=ie,xe=await fa("action",De,se,de,c,a,g,_.v7_relativeSplatPath);if(De.signal.aborted){Pe.get(L)===ye&&Pe.delete(L);return}if(_.v7_fetcherPersist&&Ce.has(L)){if(ys(xe)||mo(xe)){hn(L,Li(void 0));return}}else{if(ys(xe))if(Pe.delete(L),ve>at){hn(L,Li(void 0));return}else return G.add(L),hn(L,pa(Se)),cn(z,xe,{fetcherSubmission:Se});if(mo(xe)){Xn(L,B,xe.error);return}}if(gs(xe))throw Kn(400,{type:"defer-action"});let Ge=z.navigation.location||z.location,rt=da(i.history,Ge,ye.signal),Nt=m||h,Et=z.navigation.state!=="idle"?po(Nt,z.navigation.location,g):z.matches;$e(Et,"Didn't find any matches after fetcher action");let Cn=++ie;k.set(L,Cn);let ci=pa(Se,xe.data);z.fetchers.set(L,ci);let[Bt,en]=sm(i.history,z,Et,Se,Ge,!1,nt,It,Rt,Ce,ue,G,Nt,g,{[se.route.id]:xe.data},void 0);en.filter(Je=>Je.key!==L).forEach(Je=>{let Fe=Je.key,jr=z.fetchers.get(Fe),Br=pa(void 0,jr?jr.data:void 0);z.fetchers.set(Fe,Br),Pe.has(Fe)&&_n(Fe),Je.controller&&Pe.set(Fe,Je.controller)}),mt({fetchers:new Map(z.fetchers)});let Vt=()=>en.forEach(Je=>_n(Je.key));ye.signal.addEventListener("abort",Vt);let{results:hi,loaderResults:er,fetcherResults:vr}=await oi(z.matches,Et,Bt,en,rt);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",Vt),k.delete(L),Pe.delete(L),en.forEach(Je=>Pe.delete(Je.key));let Pn=fm(hi);if(Pn){if(Pn.idx>=Bt.length){let Je=en[Pn.idx-Bt.length].key;G.add(Je)}return cn(z,Pn.result)}let{loaderData:Er,errors:ze}=um(z,z.matches,Bt,er,void 0,en,vr,be);if(z.fetchers.has(L)){let Je=Li(xe.data);z.fetchers.set(L,Je)}yr(Cn),z.navigation.state==="loading"&&Cn>ve?($e(C,"Expected pending action"),S&&S.abort(),On(z.navigation.location,{matches:Et,loaderData:Er,errors:ze,fetchers:new Map(z.fetchers)})):(mt({errors:ze,loaderData:cm(z.loaderData,Er,Et,ze),fetchers:new Map(z.fetchers)}),nt=!1)}async function Yn(L,B,Q,se,de,ke,Se){let ce=z.fetchers.get(L);hn(L,pa(Se,ce?ce.data:void 0),{flushSync:ke});let ye=new AbortController,De=da(i.history,Q,ye.signal);Pe.set(L,ye);let at=ie,xe=await fa("loader",De,se,de,c,a,g,_.v7_relativeSplatPath);if(gs(xe)&&(xe=await $g(xe,De.signal,!0)||xe),Pe.get(L)===ye&&Pe.delete(L),!De.signal.aborted){if(Ce.has(L)){hn(L,Li(void 0));return}if(ys(xe))if(ve>at){hn(L,Li(void 0));return}else{G.add(L),await cn(z,xe);return}if(mo(xe)){Xn(L,B,xe.error);return}$e(!gs(xe),"Unhandled fetcher deferred data"),hn(L,Li(xe.data))}}async function cn(L,B,Q){let{submission:se,fetcherSubmission:de,replace:ke}=Q===void 0?{}:Q;B.revalidate&&(nt=!0);let Se=Ra(L.location,B.location,{_isRedirect:!0});if($e(Se,"Expected a location on the redirect navigation"),n){let Ge=!1;if(B.reloadDocument)Ge=!0;else if(jg.test(B.location)){const rt=i.history.createURL(B.location);Ge=rt.origin!==e.location.origin||Ao(rt.pathname,g)==null}if(Ge){ke?e.location.replace(B.location):e.location.assign(B.location);return}}S=null;let ce=ke===!0?Dt.Replace:Dt.Push,{formMethod:ye,formAction:De,formEncType:at}=L.navigation;!se&&!de&&ye&&De&&at&&(se=pm(L.navigation));let xe=se||de;if(pE.has(B.status)&&xe&&fr(xe.formMethod))await yn(ce,Se,{submission:St({},xe,{formAction:B.location}),preventScrollReset:T});else{let Ge=Eh(Se,se);await yn(ce,Se,{overrideNavigation:Ge,fetcherSubmission:de,preventScrollReset:T})}}async function oi(L,B,Q,se,de){let ke=await Promise.all([...Q.map(ye=>fa("loader",de,ye,B,c,a,g,_.v7_relativeSplatPath)),...se.map(ye=>ye.matches&&ye.match&&ye.controller?fa("loader",da(i.history,ye.path,ye.controller.signal),ye.match,ye.matches,c,a,g,_.v7_relativeSplatPath):{type:Tt.error,error:Kn(404,{pathname:ye.path})})]),Se=ke.slice(0,Q.length),ce=ke.slice(Q.length);return await Promise.all([dm(L,Q,Se,Se.map(()=>de.signal),!1,z.loaderData),dm(L,se.map(ye=>ye.match),ce,se.map(ye=>ye.controller?ye.controller.signal:null),!0)]),{results:ke,loaderResults:Se,fetcherResults:ce}}function mr(){nt=!0,It.push(...Or()),ue.forEach((L,B)=>{Pe.has(B)&&(Rt.push(B),_n(B))})}function hn(L,B,Q){Q===void 0&&(Q={}),z.fetchers.set(L,B),mt({fetchers:new Map(z.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Xn(L,B,Q,se){se===void 0&&(se={});let de=Ea(z.matches,B);ht(L),mt({errors:{[de.route.id]:Q},fetchers:new Map(z.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function vt(L){return _.v7_fetcherPersist&&(Ee.set(L,(Ee.get(L)||0)+1),Ce.has(L)&&Ce.delete(L)),z.fetchers.get(L)||mE}function ht(L){let B=z.fetchers.get(L);Pe.has(L)&&!(B&&B.state==="loading"&&k.has(L))&&_n(L),ue.delete(L),k.delete(L),G.delete(L),Ce.delete(L),z.fetchers.delete(L)}function Jn(L){if(_.v7_fetcherPersist){let B=(Ee.get(L)||0)-1;B<=0?(Ee.delete(L),Ce.add(L)):Ee.set(L,B)}else ht(L);mt({fetchers:new Map(z.fetchers)})}function _n(L){let B=Pe.get(L);$e(B,"Expected fetch controller: "+L),B.abort(),Pe.delete(L)}function Zn(L){for(let B of L){let Q=vt(B),se=Li(Q.data);z.fetchers.set(B,se)}}function gr(){let L=[],B=!1;for(let Q of G){let se=z.fetchers.get(Q);$e(se,"Expected fetcher: "+Q),se.state==="loading"&&(G.delete(Q),L.push(Q),B=!0)}return Zn(L),B}function yr(L){let B=[];for(let[Q,se]of k)if(se<L){let de=z.fetchers.get(Q);$e(de,"Expected fetcher: "+Q),de.state==="loading"&&(_n(Q),k.delete(Q),B.push(Q))}return Zn(B),B.length>0}function Ki(L,B){let Q=z.blockers.get(L)||ha;return Oe.get(L)!==B&&Oe.set(L,B),Q}function ai(L){z.blockers.delete(L),Oe.delete(L)}function _r(L,B){let Q=z.blockers.get(L)||ha;$e(Q.state==="unblocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="blocked"||Q.state==="blocked"&&B.state==="proceeding"||Q.state==="blocked"&&B.state==="unblocked"||Q.state==="proceeding"&&B.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+B.state);let se=new Map(z.blockers);se.set(L,B),mt({blockers:se})}function li(L){let{currentLocation:B,nextLocation:Q,historyAction:se}=L;if(Oe.size===0)return;Oe.size>1&&_o(!1,"A router only supports one blocker at a time");let de=Array.from(Oe.entries()),[ke,Se]=de[de.length-1],ce=z.blockers.get(ke);if(!(ce&&ce.state==="proceeding")&&Se({currentLocation:B,nextLocation:Q,historyAction:se}))return ke}function Or(L){let B=[];return be.forEach((Q,se)=>{(!L||L(se))&&(Q.cancel(),B.push(se),be.delete(se))}),B}function Fr(L,B,Q){if(P=L,q=B,U=Q||null,!$&&z.navigation===vh){$=!0;let se=fn(z.location,z.matches);se!=null&&mt({restoreScrollPosition:se})}return()=>{P=null,q=null,U=null}}function br(L,B){return U&&U(L,B.map(se=>Wv(se,z.loaderData)))||L.key}function ui(L,B){if(P&&q){let Q=br(L,B);P[Q]=q()}}function fn(L,B){if(P){let Q=br(L,B),se=P[Q];if(typeof se=="number")return se}return null}function Fn(L){c={},m=xh(L,a,void 0,c)}return je={get basename(){return g},get future(){return _},get state(){return z},get routes(){return h},get window(){return e},initialize:qe,subscribe:ii,enableScrollRestoration:Fr,navigate:Gn,fetch:xs,revalidate:Lr,createHref:L=>i.history.createHref(L),encodeLocation:L=>i.history.encodeLocation(L),getFetcher:vt,deleteFetcher:Jn,dispose:jt,getBlocker:Ki,deleteBlocker:ai,_internalFetchControllers:Pe,_internalActiveDeferreds:be,_internalSetRoutes:Fn},je}function _E(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Dh(i,e,n,s,a,c,h,m){let g,_;if(h){g=[];for(let R of e)if(g.push(R),R.route.id===h){_=R;break}}else g=e,_=e[e.length-1];let E=rf(a||".",nf(g,c),Ao(i.pathname,n)||i.pathname,m==="path");return a==null&&(E.search=i.search,E.hash=i.hash),(a==null||a===""||a===".")&&_&&_.route.index&&!of(E.search)&&(E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index"),s&&n!=="/"&&(E.pathname=E.pathname==="/"?n:ei([n,E.pathname])),Es(E)}function im(i,e,n,s){if(!s||!_E(s))return{path:n};if(s.formMethod&&!RE(s.formMethod))return{path:n,error:Kn(405,{method:s.formMethod})};let a=()=>({path:n,error:Kn(400,{type:"invalid-body"})}),c=s.formMethod||"get",h=i?c.toUpperCase():c.toLowerCase(),m=zg(n);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!fr(h))return a();let P=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((U,q)=>{let[$,F]=q;return""+U+$+"="+F+`
`},""):String(s.body);return{path:n,submission:{formMethod:h,formAction:m,formEncType:s.formEncType,formData:void 0,json:void 0,text:P}}}else if(s.formEncType==="application/json"){if(!fr(h))return a();try{let P=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:n,submission:{formMethod:h,formAction:m,formEncType:s.formEncType,formData:void 0,json:P,text:void 0}}}catch{return a()}}}$e(typeof FormData=="function","FormData is not available in this environment");let g,_;if(s.formData)g=Nh(s.formData),_=s.formData;else if(s.body instanceof FormData)g=Nh(s.body),_=s.body;else if(s.body instanceof URLSearchParams)g=s.body,_=lm(g);else if(s.body==null)g=new URLSearchParams,_=new FormData;else try{g=new URLSearchParams(s.body),_=lm(g)}catch{return a()}let E={formMethod:h,formAction:m,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:_,json:void 0,text:void 0};if(fr(E.formMethod))return{path:n,submission:E};let R=Hi(n);return e&&R.search&&of(R.search)&&g.append("index",""),R.search="?"+g,{path:Es(R),submission:E}}function vE(i,e){let n=i;if(e){let s=i.findIndex(a=>a.route.id===e);s>=0&&(n=i.slice(0,s))}return n}function sm(i,e,n,s,a,c,h,m,g,_,E,R,P,U,q,$){let F=$?Object.values($)[0]:q?Object.values(q)[0]:void 0,ee=i.createURL(e.location),ae=i.createURL(a),le=$?Object.keys($)[0]:void 0,je=vE(n,le).filter((C,T)=>{let{route:S}=C;if(S.lazy)return!0;if(S.loader==null)return!1;if(c)return S.loader.hydrate?!0:e.loaderData[S.id]===void 0&&(!e.errors||e.errors[S.id]===void 0);if(EE(e.loaderData,e.matches[T],C)||m.some(M=>M===C.route.id))return!0;let D=e.matches[T],N=C;return om(C,St({currentUrl:ee,currentParams:D.params,nextUrl:ae,nextParams:N.params},s,{actionResult:F,defaultShouldRevalidate:h||ee.pathname+ee.search===ae.pathname+ae.search||ee.search!==ae.search||Ug(D,N)}))}),z=[];return E.forEach((C,T)=>{if(c||!n.some(A=>A.route.id===C.routeId)||_.has(T))return;let S=po(P,C.path,U);if(!S){z.push({key:T,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(T),N=Vh(S,C.path),M=!1;R.has(T)?M=!1:g.includes(T)?M=!0:D&&D.state!=="idle"&&D.data===void 0?M=h:M=om(N,St({currentUrl:ee,currentParams:e.matches[e.matches.length-1].params,nextUrl:ae,nextParams:n[n.length-1].params},s,{actionResult:F,defaultShouldRevalidate:h})),M&&z.push({key:T,routeId:C.routeId,path:C.path,matches:S,match:N,controller:new AbortController})}),[je,z]}function EE(i,e,n){let s=!e||n.route.id!==e.route.id,a=i[n.route.id]===void 0;return s||a}function Ug(i,e){let n=i.route.path;return i.pathname!==e.pathname||n!=null&&n.endsWith("*")&&i.params["*"]!==e.params["*"]}function om(i,e){if(i.route.shouldRevalidate){let n=i.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function am(i,e,n){if(!i.lazy)return;let s=await i.lazy();if(!i.lazy)return;let a=n[i.id];$e(a,"No route found in manifest");let c={};for(let h in s){let g=a[h]!==void 0&&h!=="hasErrorBoundary";_o(!g,'Route "'+a.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!g&&!$v.has(h)&&(c[h]=s[h])}Object.assign(a,c),Object.assign(a,St({},e(a),{lazy:void 0}))}async function fa(i,e,n,s,a,c,h,m,g){g===void 0&&(g={});let _,E,R,P=$=>{let F,ee=new Promise((ae,le)=>F=le);return R=()=>F(),e.signal.addEventListener("abort",R),Promise.race([$({request:e,params:n.params,context:g.requestContext}),ee])};try{let $=n.route[i];if(n.route.lazy)if($){let F,ee=await Promise.all([P($).catch(ae=>{F=ae}),am(n.route,c,a)]);if(F)throw F;E=ee[0]}else if(await am(n.route,c,a),$=n.route[i],$)E=await P($);else if(i==="action"){let F=new URL(e.url),ee=F.pathname+F.search;throw Kn(405,{method:e.method,pathname:ee,routeId:n.route.id})}else return{type:Tt.data,data:void 0};else if($)E=await P($);else{let F=new URL(e.url),ee=F.pathname+F.search;throw Kn(404,{pathname:ee})}$e(E!==void 0,"You defined "+(i==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+i+"` ")+"function. Please return a value or `null`.")}catch($){_=Tt.error,E=$}finally{R&&e.signal.removeEventListener("abort",R)}if(IE(E)){let $=E.status;if(dE.has($)){let ee=E.headers.get("Location");if($e(ee,"Redirects returned/thrown from loaders/actions must have a Location header"),!jg.test(ee))ee=Dh(new URL(e.url),s.slice(0,s.indexOf(n)+1),h,!0,ee,m);else if(!g.isStaticRequest){let ae=new URL(e.url),le=ee.startsWith("//")?new URL(ae.protocol+ee):new URL(ee),we=Ao(le.pathname,h)!=null;le.origin===ae.origin&&we&&(ee=le.pathname+le.search+le.hash)}if(g.isStaticRequest)throw E.headers.set("Location",ee),E;return{type:Tt.redirect,status:$,location:ee,revalidate:E.headers.get("X-Remix-Revalidate")!==null,reloadDocument:E.headers.get("X-Remix-Reload-Document")!==null}}if(g.isRouteRequest)throw{type:_===Tt.error?Tt.error:Tt.data,response:E};let F;try{let ee=E.headers.get("Content-Type");ee&&/\bapplication\/json\b/.test(ee)?E.body==null?F=null:F=await E.json():F=await E.text()}catch(ee){return{type:Tt.error,error:ee}}return _===Tt.error?{type:_,error:new sf($,E.statusText,F),headers:E.headers}:{type:Tt.data,data:F,statusCode:E.status,headers:E.headers}}if(_===Tt.error)return{type:_,error:E};if(SE(E)){var U,q;return{type:Tt.deferred,deferredData:E,statusCode:(U=E.init)==null?void 0:U.status,headers:((q=E.init)==null?void 0:q.headers)&&new Headers(E.init.headers)}}return{type:Tt.data,data:E}}function da(i,e,n,s){let a=i.createURL(zg(e)).toString(),c={signal:n};if(s&&fr(s.formMethod)){let{formMethod:h,formEncType:m}=s;c.method=h.toUpperCase(),m==="application/json"?(c.headers=new Headers({"Content-Type":m}),c.body=JSON.stringify(s.json)):m==="text/plain"?c.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?c.body=Nh(s.formData):c.body=s.formData}return new Request(a,c)}function Nh(i){let e=new URLSearchParams;for(let[n,s]of i.entries())e.append(n,typeof s=="string"?s:s.name);return e}function lm(i){let e=new FormData;for(let[n,s]of i.entries())e.append(n,s);return e}function wE(i,e,n,s,a){let c={},h=null,m,g=!1,_={};return n.forEach((E,R)=>{let P=e[R].route.id;if($e(!ys(E),"Cannot handle redirect results in processLoaderData"),mo(E)){let U=Ea(i,P),q=E.error;s&&(q=Object.values(s)[0],s=void 0),h=h||{},h[U.route.id]==null&&(h[U.route.id]=q),c[P]=void 0,g||(g=!0,m=Fg(E.error)?E.error.status:500),E.headers&&(_[P]=E.headers)}else gs(E)?(a.set(P,E.deferredData),c[P]=E.deferredData.data):c[P]=E.data,E.statusCode!=null&&E.statusCode!==200&&!g&&(m=E.statusCode),E.headers&&(_[P]=E.headers)}),s&&(h=s,c[Object.keys(s)[0]]=void 0),{loaderData:c,errors:h,statusCode:m||200,loaderHeaders:_}}function um(i,e,n,s,a,c,h,m){let{loaderData:g,errors:_}=wE(e,n,s,a,m);for(let E=0;E<c.length;E++){let{key:R,match:P,controller:U}=c[E];$e(h!==void 0&&h[E]!==void 0,"Did not find corresponding fetcher result");let q=h[E];if(!(U&&U.signal.aborted))if(mo(q)){let $=Ea(i.matches,P==null?void 0:P.route.id);_&&_[$.route.id]||(_=St({},_,{[$.route.id]:q.error})),i.fetchers.delete(R)}else if(ys(q))$e(!1,"Unhandled fetcher revalidation redirect");else if(gs(q))$e(!1,"Unhandled fetcher deferred data");else{let $=Li(q.data);i.fetchers.set(R,$)}}return{loaderData:g,errors:_}}function cm(i,e,n,s){let a=St({},e);for(let c of n){let h=c.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(a[h]=e[h]):i[h]!==void 0&&c.route.loader&&(a[h]=i[h]),s&&s.hasOwnProperty(h))break}return a}function Ea(i,e){return(e?i.slice(0,i.findIndex(s=>s.route.id===e)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function hm(i){let e=i.length===1?i[0]:i.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kn(i,e){let{pathname:n,routeId:s,method:a,type:c}=e===void 0?{}:e,h="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(h="Bad Request",a&&n&&s?m="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":c==="defer-action"?m="defer() is not supported in actions":c==="invalid-body"&&(m="Unable to encode submission body")):i===403?(h="Forbidden",m='Route "'+s+'" does not match URL "'+n+'"'):i===404?(h="Not Found",m='No route matches URL "'+n+'"'):i===405&&(h="Method Not Allowed",a&&n&&s?m="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":a&&(m='Invalid request method "'+a.toUpperCase()+'"')),new sf(i||500,h,new Error(m),!0)}function fm(i){for(let e=i.length-1;e>=0;e--){let n=i[e];if(ys(n))return{result:n,idx:e}}}function zg(i){let e=typeof i=="string"?Hi(i):i;return Es(St({},e,{hash:""}))}function TE(i,e){return i.pathname!==e.pathname||i.search!==e.search?!1:i.hash===""?e.hash!=="":i.hash===e.hash?!0:e.hash!==""}function gs(i){return i.type===Tt.deferred}function mo(i){return i.type===Tt.error}function ys(i){return(i&&i.type)===Tt.redirect}function SE(i){let e=i;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function IE(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function RE(i){return fE.has(i.toLowerCase())}function fr(i){return cE.has(i.toLowerCase())}async function dm(i,e,n,s,a,c){for(let h=0;h<n.length;h++){let m=n[h],g=e[h];if(!g)continue;let _=i.find(R=>R.route.id===g.route.id),E=_!=null&&!Ug(_,g)&&(c&&c[g.route.id])!==void 0;if(gs(m)&&(a||E)){let R=s[h];$e(R,"Expected an AbortSignal for revalidating fetcher deferred result"),await $g(m,R,a).then(P=>{P&&(n[h]=P||n[h])})}}}async function $g(i,e,n){if(n===void 0&&(n=!1),!await i.deferredData.resolveData(e)){if(n)try{return{type:Tt.data,data:i.deferredData.unwrappedData}}catch(a){return{type:Tt.error,error:a}}return{type:Tt.data,data:i.deferredData.data}}}function of(i){return new URLSearchParams(i).getAll("index").some(e=>e==="")}function Vh(i,e){let n=typeof e=="string"?Hi(e).search:e.search;if(i[i.length-1].route.index&&of(n||""))return i[i.length-1];let s=Og(i);return s[s.length-1]}function pm(i){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:c,json:h}=i;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(c!=null)return{formMethod:e,formAction:n,formEncType:s,formData:c,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function Eh(i,e){return e?{state:"loading",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AE(i,e){return{state:"submitting",location:i,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pa(i,e){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CE(i,e){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:e?e.data:void 0}}function Li(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function PE(i,e){try{let n=i.sessionStorage.getItem(Bg);if(n){let s=JSON.parse(n);for(let[a,c]of Object.entries(s||{}))c&&Array.isArray(c)&&e.set(a,new Set(c||[]))}}catch{}}function kE(i,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{i.sessionStorage.setItem(Bg,JSON.stringify(n))}catch(s){_o(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},pu.apply(this,arguments)}const Pu=ne.createContext(null),Hg=ne.createContext(null),Is=ne.createContext(null),af=ne.createContext(null),Rs=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),Wg=ne.createContext(null);function xE(i,e){let{relative:n}=e===void 0?{}:e;Fa()||$e(!1);let{basename:s,navigator:a}=ne.useContext(Is),{hash:c,pathname:h,search:m}=Kg(i,{relative:n}),g=h;return s!=="/"&&(g=h==="/"?s:ei([s,h])),a.createHref({pathname:g,search:m,hash:c})}function Fa(){return ne.useContext(af)!=null}function ku(){return Fa()||$e(!1),ne.useContext(af).location}function qg(i){ne.useContext(Is).static||ne.useLayoutEffect(i)}function DE(){let{isDataRoute:i}=ne.useContext(Rs);return i?$E():NE()}function NE(){Fa()||$e(!1);let i=ne.useContext(Pu),{basename:e,future:n,navigator:s}=ne.useContext(Is),{matches:a}=ne.useContext(Rs),{pathname:c}=ku(),h=JSON.stringify(nf(a,n.v7_relativeSplatPath)),m=ne.useRef(!1);return qg(()=>{m.current=!0}),ne.useCallback(function(_,E){if(E===void 0&&(E={}),!m.current)return;if(typeof _=="number"){s.go(_);return}let R=rf(_,JSON.parse(h),c,E.relative==="path");i==null&&e!=="/"&&(R.pathname=R.pathname==="/"?e:ei([e,R.pathname])),(E.replace?s.replace:s.push)(R,E.state,E)},[e,s,h,c,i])}function Kg(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=ne.useContext(Is),{matches:a}=ne.useContext(Rs),{pathname:c}=ku(),h=JSON.stringify(nf(a,s.v7_relativeSplatPath));return ne.useMemo(()=>rf(i,JSON.parse(h),c,n==="path"),[i,h,c,n])}function VE(i,e,n,s){Fa()||$e(!1);let{navigator:a}=ne.useContext(Is),{matches:c}=ne.useContext(Rs),h=c[c.length-1],m=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let _=ku(),E;E=_;let R=E.pathname||"/",P=R;if(g!=="/"){let $=g.replace(/^\//,"").split("/");P="/"+R.replace(/^\//,"").split("/").slice($.length).join("/")}let U=po(i,{pathname:P});return bE(U&&U.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ei([g,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:ei([g,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,n,s)}function ME(){let i=zE(),e=Fg(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:a},n):null,null)}const LE=ne.createElement(ME,null);class OE extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ne.createElement(Rs.Provider,{value:this.props.routeContext},ne.createElement(Wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FE(i){let{routeContext:e,match:n,children:s}=i,a=ne.useContext(Pu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(Rs.Provider,{value:e},s)}function bE(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if((c=n)!=null&&c.errors)i=n.matches;else return null}let h=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let E=h.findIndex(R=>R.route.id&&(m==null?void 0:m[R.route.id]));E>=0||$e(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,_=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<h.length;E++){let R=h[E];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(_=E),R.route.id){let{loaderData:P,errors:U}=n,q=R.route.loader&&P[R.route.id]===void 0&&(!U||U[R.route.id]===void 0);if(R.route.lazy||q){g=!0,_>=0?h=h.slice(0,_+1):h=[h[0]];break}}}return h.reduceRight((E,R,P)=>{let U,q=!1,$=null,F=null;n&&(U=m&&R.route.id?m[R.route.id]:void 0,$=R.route.errorElement||LE,g&&(_<0&&P===0?(HE("route-fallback"),q=!0,F=null):_===P&&(q=!0,F=R.route.hydrateFallbackElement||null)));let ee=e.concat(h.slice(0,P+1)),ae=()=>{let le;return U?le=$:q?le=F:R.route.Component?le=ne.createElement(R.route.Component,null):R.route.element?le=R.route.element:le=E,ne.createElement(FE,{match:R,routeContext:{outlet:E,matches:ee,isDataRoute:n!=null},children:le})};return n&&(R.route.ErrorBoundary||R.route.errorElement||P===0)?ne.createElement(OE,{location:n.location,revalidation:n.revalidation,component:$,error:U,children:ae(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):ae()},null)}var Qg=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Qg||{}),mu=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(mu||{});function jE(i){let e=ne.useContext(Pu);return e||$e(!1),e}function BE(i){let e=ne.useContext(Hg);return e||$e(!1),e}function UE(i){let e=ne.useContext(Rs);return e||$e(!1),e}function Gg(i){let e=UE(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function zE(){var i;let e=ne.useContext(Wg),n=BE(mu.UseRouteError),s=Gg(mu.UseRouteError);return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function $E(){let{router:i}=jE(Qg.UseNavigateStable),e=Gg(mu.UseNavigateStable),n=ne.useRef(!1);return qg(()=>{n.current=!0}),ne.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,pu({fromRouteId:e},c)))},[i,e])}const mm={};function HE(i,e,n){mm[i]||(mm[i]=!0)}function WE(i){let{basename:e="/",children:n=null,location:s,navigationType:a=Dt.Pop,navigator:c,static:h=!1,future:m}=i;Fa()&&$e(!1);let g=e.replace(/^\/*/,"/"),_=ne.useMemo(()=>({basename:g,navigator:c,static:h,future:pu({v7_relativeSplatPath:!1},m)}),[g,m,c,h]);typeof s=="string"&&(s=Hi(s));let{pathname:E="/",search:R="",hash:P="",state:U=null,key:q="default"}=s,$=ne.useMemo(()=>{let F=Ao(E,g);return F==null?null:{location:{pathname:F,search:R,hash:P,state:U,key:q},navigationType:a}},[g,E,R,P,U,q,a]);return $==null?null:ne.createElement(Is.Provider,{value:_},ne.createElement(af.Provider,{children:n,value:$}))}new Promise(()=>{});function qE(i){let e={hasErrorBoundary:i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&Object.assign(e,{element:ne.createElement(i.Component),Component:void 0}),i.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ne.createElement(i.HydrateFallback),HydrateFallback:void 0}),i.ErrorBoundary&&Object.assign(e,{errorElement:ne.createElement(i.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Aa.apply(this,arguments)}function KE(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function QE(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function GE(i,e){return i.button===0&&(!e||e==="_self")&&!QE(i)}const YE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],XE="6";try{window.__reactRouterVersion=XE}catch{}function JE(i,e){return yE({basename:void 0,future:Aa({},void 0,{v7_prependBasename:!0}),history:Bv({window:void 0}),hydrationData:ZE(),routes:i,mapRouteProperties:qE,window:void 0}).initialize()}function ZE(){var i;let e=(i=window)==null?void 0:i.__staticRouterHydrationData;return e&&e.errors&&(e=Aa({},e,{errors:ew(e.errors)})),e}function ew(i){if(!i)return null;let e=Object.entries(i),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new sf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let c=window[a.__subType];if(typeof c=="function")try{let h=new c(a.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let c=new Error(a.message);c.stack="",n[s]=c}}else n[s]=a;return n}const tw=ne.createContext({isTransitioning:!1}),nw=ne.createContext(new Map),rw="startTransition",gm=Dv[rw],iw="flushSync",ym=jv[iw];function sw(i){gm?gm(i):i()}function ma(i){ym?ym(i):i()}let ow=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function aw(i){let{fallbackElement:e,router:n,future:s}=i,[a,c]=ne.useState(n.state),[h,m]=ne.useState(),[g,_]=ne.useState({isTransitioning:!1}),[E,R]=ne.useState(),[P,U]=ne.useState(),[q,$]=ne.useState(),F=ne.useRef(new Map),{v7_startTransition:ee}=s||{},ae=ne.useCallback(C=>{ee?sw(C):C()},[ee]),le=ne.useCallback((C,T)=>{let{deletedFetchers:S,unstable_flushSync:D,unstable_viewTransitionOpts:N}=T;S.forEach(A=>F.current.delete(A)),C.fetchers.forEach((A,nt)=>{A.data!==void 0&&F.current.set(nt,A.data)});let M=n.window==null||typeof n.window.document.startViewTransition!="function";if(!N||M){D?ma(()=>c(C)):ae(()=>c(C));return}if(D){ma(()=>{P&&(E&&E.resolve(),P.skipTransition()),_({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let A=n.window.document.startViewTransition(()=>{ma(()=>c(C))});A.finished.finally(()=>{ma(()=>{R(void 0),U(void 0),m(void 0),_({isTransitioning:!1})})}),ma(()=>U(A));return}P?(E&&E.resolve(),P.skipTransition(),$({state:C,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(m(C),_({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,P,E,F,ae]);ne.useLayoutEffect(()=>n.subscribe(le),[n,le]),ne.useEffect(()=>{g.isTransitioning&&!g.flushSync&&R(new ow)},[g]),ne.useEffect(()=>{if(E&&h&&n.window){let C=h,T=E.promise,S=n.window.document.startViewTransition(async()=>{ae(()=>c(C)),await T});S.finished.finally(()=>{R(void 0),U(void 0),m(void 0),_({isTransitioning:!1})}),U(S)}},[ae,h,E,n.window]),ne.useEffect(()=>{E&&h&&a.location.key===h.location.key&&E.resolve()},[E,P,a.location,h]),ne.useEffect(()=>{!g.isTransitioning&&q&&(m(q.state),_({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}),$(void 0))},[g.isTransitioning,q]),ne.useEffect(()=>{},[]);let we=ne.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,T,S)=>n.navigate(C,{state:T,preventScrollReset:S==null?void 0:S.preventScrollReset}),replace:(C,T,S)=>n.navigate(C,{replace:!0,state:T,preventScrollReset:S==null?void 0:S.preventScrollReset})}),[n]),je=n.basename||"/",z=ne.useMemo(()=>({router:n,navigator:we,static:!1,basename:je}),[n,we,je]);return ne.createElement(ne.Fragment,null,ne.createElement(Pu.Provider,{value:z},ne.createElement(Hg.Provider,{value:a},ne.createElement(nw.Provider,{value:F.current},ne.createElement(tw.Provider,{value:g},ne.createElement(WE,{basename:je,location:a.location,navigationType:a.historyAction,navigator:we,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},a.initialized||n.future.v7_partialHydration?ne.createElement(lw,{routes:n.routes,future:n.future,state:a}):e))))),null)}function lw(i){let{routes:e,future:n,state:s}=i;return VE(e,void 0,s,n)}const uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ds=ne.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:h,state:m,target:g,to:_,preventScrollReset:E,unstable_viewTransition:R}=e,P=KE(e,YE),{basename:U}=ne.useContext(Is),q,$=!1;if(typeof _=="string"&&cw.test(_)&&(q=_,uw))try{let le=new URL(window.location.href),we=_.startsWith("//")?new URL(le.protocol+_):new URL(_),je=Ao(we.pathname,U);we.origin===le.origin&&je!=null?_=je+we.search+we.hash:$=!0}catch{}let F=xE(_,{relative:a}),ee=hw(_,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,unstable_viewTransition:R});function ae(le){s&&s(le),le.defaultPrevented||ee(le)}return ne.createElement("a",Aa({},P,{href:q||F,onClick:$||c?s:ae,ref:n,target:g}))});var _m;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(_m||(_m={}));var vm;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(vm||(vm={}));function hw(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,g=DE(),_=ku(),E=Kg(i,{relative:h});return ne.useCallback(R=>{if(GE(R,n)){R.preventDefault();let P=s!==void 0?s:Es(_)===Es(E);g(i,{replace:P,state:a,preventScrollReset:c,relative:h,unstable_viewTransition:m})}},[_,g,E,s,a,n,i,c,h,m])}const fw="_App_qq0g3_1",dw="_AppHeader_qq0g3_7",Em={App:fw,AppHeader:dw},pw="_Background_1bobj_1",mw="_BackgroundMond_1bobj_14",gw="_BackgroundLiyue_1bobj_27",yw="_BackgroundIna_1bobj_40",_w="_BackgroundSum_1bobj_53",vw="_BackgroundFon_1bobj_66",Ew="_BackgroundNat_1bobj_79",As={Background:pw,BackgroundMond:mw,BackgroundLiyue:gw,BackgroundIna:yw,BackgroundSum:_w,BackgroundFon:vw,BackgroundNat:Ew};function ww(){return K.jsx("div",{className:As.Background})}const Tw="_ButtonsColumn_xz8t6_2",Sw="_ButtonsRow_xz8t6_9",Iw="_Button_xz8t6_2",Rw="_ElectroSigil_xz8t6_29",Aw="_GeoSigil_xz8t6_33",Cw="_AnemoSigil_xz8t6_37",Pw="_HydroSigil_xz8t6_41",kw="_CryoSigil_xz8t6_45",xw="_PyroSigil_xz8t6_49",Dw="_Neuv_xz8t6_53",Nw="_Wanderer_xz8t6_57",Vw="_Ayaka_xz8t6_61",Mw="_Jean_xz8t6_65",Lw="_Sucrose_xz8t6_69",Ow="_Shenhe_xz8t6_73",Fw="_Arataki_xz8t6_77",bw="_Kaeya_xz8t6_81",et={ButtonsColumn:Tw,ButtonsRow:Sw,Button:Iw,ElectroSigil:Rw,GeoSigil:Aw,AnemoSigil:Cw,HydroSigil:Pw,CryoSigil:kw,PyroSigil:xw,Neuv:Dw,Wanderer:Nw,Ayaka:Vw,Jean:Mw,Sucrose:Lw,Shenhe:Ow,Arataki:Fw,Kaeya:bw},wm="/genshin3/assets/Raiden-DCympLwg.wav",Tm="/genshin3/assets/Order-CNHaDMFy.wav",Sm="/genshin3/assets/xiao-CoSE7XI5.wav",Im="/genshin3/assets/pace-B9JwXf21.wav",Rm="/genshin3/assets/home-CZ3mk4n5.wav",Am="/genshin3/assets/retribution-DYTGzp2B.wav",Cm="/genshin3/assets/chat-B-AtWz9G.wav",Pm="/genshin3/assets/Sharp-DzdZewjK.wav",km="/genshin3/assets/soRude-BInYPP0H.wav",xm="/genshin3/assets/one-DaelXO8N.wav",Dm="/genshin3/assets/test6308-JUs0I_0y.wav",Nm="/genshin3/assets/solo-DnLxZFos.wav",Vm="/genshin3/assets/numero-CpsdzMlM.wav",Mm="/genshin3/assets/frostbite-Ddtv9rGS.wav";function jw(){ne.useEffect(()=>{const e=n=>{n.key==="w"||n.key==="W"?i(Tm):n.key==="q"||n.key==="Q"?i(wm):n.key==="e"||n.key==="E"?i(Sm):n.key==="r"||n.key==="R"?i(Im):n.key==="t"||n.key==="T"?i(Rm):n.key==="y"||n.key==="Y"?i(Am):n.key==="u"||n.key==="U"?i(Cm):n.key==="i"||n.key==="I"?i(Pm):n.key==="o"||n.key==="O"?i(km):n.key==="p"||n.key==="P"?i(xm):n.key==="a"||n.key==="A"?i(Dm):n.key==="s"||n.key==="S"?i(Nm):n.key==="d"||n.key==="D"?i(Vm):(n.key==="f"||n.key==="F")&&i(Mm)};return document.addEventListener("keypress",e),()=>{document.removeEventListener("keypress",e)}},[]);const i=e=>{new Audio(e).play()};return K.jsxs("div",{className:et.ButtonsColumn,children:[K.jsxs("div",{className:et.ButtonsRow,children:[K.jsx("div",{className:`${et.Button} ${et.ElectroSigil}`,onClick:()=>i(wm)}),K.jsx("div",{className:`${et.Button} ${et.GeoSigil}`,onClick:()=>i(Tm)}),K.jsx("div",{className:`${et.Button} ${et.AnemoSigil}`,onClick:()=>i(Sm)}),K.jsx("div",{className:`${et.Button} ${et.HydroSigil}`,onClick:()=>i(Im)}),K.jsx("div",{className:`${et.Button} ${et.CryoSigil}`,onClick:()=>i(Rm)}),K.jsx("div",{className:`${et.Button} ${et.PyroSigil}`,onClick:()=>i(Am)})]}),K.jsxs("div",{className:et.ButtonsRow,children:[K.jsx("div",{className:`${et.Button} ${et.Neuv}`,onClick:()=>i(Cm)}),K.jsx("div",{className:`${et.Button} ${et.Wanderer}`,onClick:()=>i(Pm)}),K.jsx("div",{className:`${et.Button} ${et.Ayaka}`,onClick:()=>i(km)}),K.jsx("div",{className:`${et.Button} ${et.Jean}`,onClick:()=>i(xm)}),K.jsx("div",{className:`${et.Button} ${et.Sucrose}`,onClick:()=>i(Dm)}),K.jsx("div",{className:`${et.Button} ${et.Shenhe}`,onClick:()=>i(Nm)})]}),K.jsxs("div",{className:et.ButtonsRow,children:[K.jsx("div",{className:`${et.Button} ${et.Arataki}`,onClick:()=>i(Vm)}),K.jsx("div",{className:`${et.Button} ${et.Kaeya}`,onClick:()=>i(Mm)})]})]})}const Bw="/genshin3/assets/sillychurl-Bu32SBhk.wav",Uw="/genshin3/assets/crimes-BwI7DXih.wav",zw="_Hutao_k3icl_2",$w="_Chevreuse_k3icl_3",Hw="_fadeOut_k3icl_1",Ww="_Open_k3icl_15",tu={Hutao:zw,Chevreuse:$w,fadeOut:Hw,Open:Ww};function qw(){const i=ne.useRef(null),e=ne.useRef(null),n=ne.useCallback((s,a)=>{new Audio(a).play(),s.classList.add(tu.Open),s.addEventListener("animationend",()=>{s.classList.remove(tu.Open)},{once:!0})},[]);return ne.useEffect(()=>{const s=a=>{if(a.key==="h"||a.key==="H"){if(!i.current)return;n(i.current,Bw)}if(a.key===","||a.key==="."){if(!e.current)return;n(e.current,Uw)}};return document.addEventListener("keypress",s),()=>{document.removeEventListener("keypress",s)}},[n]),K.jsxs(K.Fragment,{children:[K.jsx("div",{ref:i,className:tu.Hutao}),K.jsx("div",{ref:e,className:tu.Chevreuse})]})}const Kw="_NavBar_fo63q_5",Qw="_container_fo63q_21",Gw="_button_fo63q_26",Yw="_link_fo63q_43",on={NavBar:Kw,container:Qw,button:Gw,link:Yw};function Cs(){return K.jsx("div",{className:on.NavBar,children:K.jsxs("div",{className:on.container,children:[K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/",children:"Zhongli Shrine"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Mondstadt",children:"Mondstadt"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Liyue",children:"Liyue"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Inazuma",children:"Inazuma"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Sumeru",children:"Sumeru"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Fontaine",children:"Fontaine"})}),K.jsx("button",{className:on.button,children:K.jsx(ds,{className:on.link,to:"/Natlan",children:"Natlan"})})]})})}const wh={"search-bar-container":"_search-bar-container_1odbg_2","search-input":"_search-input_1odbg_8","search-button":"_search-button_1odbg_19"};function Xw({currentSentence:i,userInput:e,onInputChange:n,onClear:s}){const a=h=>{const m=h.target.value;m===i.slice(0,m.length)&&n(m)},c=h=>{h.key==="Enter"&&e===i&&s()};return K.jsxs("div",{className:wh["search-bar-container"],children:[K.jsx("input",{type:"text",value:e,onChange:a,onKeyPress:c,placeholder:"Write here...",className:wh["search-input"]}),K.jsx("button",{onClick:s,className:wh["search-button"],children:"Clear"})]})}function Jw({currentSentence:i}){return K.jsx("div",{children:K.jsx("p",{children:i})})}const nu=["The Anemo Archon is a bit too undisciplined for me. If I were a god, I would not have allowed my realm to look so unorganized and ragged.","Back in the age when the gods still walked upon the earth, the deity whom we now worship as Rex Lapis was but one among many.","Today, of course, Wolvendom is presided over by the Great Wolf King of the North, and the ominous atmosphere that emanates from inside the forest is sufficient to deter most sober-headed visitors from approaching the area.","To be, or not to be, that is the question.",'Thus the people of Sangonomiya named their island Watatsumi, meaning "god of the sea," for the Great Serpent was their god.',"A consultant of the Wangsheng Funeral Parlor, he is later revealed to be the Geo Archon, Morax, who has decided to experience the world from the perspective of a mortal.","This is an age of gods and monsters. I wish not for dominion; yet I cannot watch the common folk suffer. "];function Zw(){const[i,e]=ne.useState(nu[Math.floor(Math.random()*nu.length)]),[n,s]=ne.useState(""),a=()=>{s("");const h=nu[Math.floor(Math.random()*nu.length)];e(h)},c=h=>{s(h)};return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{className:Em.App,children:[K.jsxs("header",{className:Em.AppHeader,children:[K.jsx("h1",{children:"Zhongli Piano"}),K.jsx(Jw,{currentSentence:i}),K.jsx(Xw,{currentSentence:i,userInput:n,onInputChange:c,onClear:a}),K.jsx("p",{children:"ZhongliType"}),K.jsx(jw,{})]}),K.jsx("div",{children:K.jsx(ww,{})}),K.jsx(qw,{})]})]})}function eT(){return K.jsx("div",{className:As.BackgroundMond})}const tT="/genshin3/assets/albedoIcon-CtBeEYwW.jpg",nT="/genshin3/assets/amberIcon-BLRdI3xN.jpg",rT="/genshin3/assets/barbaraIcon-CuKhF20X.jpg",iT="/genshin3/assets/bennettIcon-BM5U83h1.jpg",sT="/genshin3/assets/dilucIcon-OJ4zIhFp.jpg",oT="/genshin3/assets/dionaIcon-CnNTrFx2.jpg",aT="/genshin3/assets/eulaIcon-D8q0J2l9.jpg",lT="/genshin3/assets/fischlIcon-De7W8QE7.jpg",uT="/genshin3/assets/jeanIcon-BEJOim7k.jpg",cT="/genshin3/assets/kaeyaIcon-vAXQario.jpg",hT="/genshin3/assets/kleeIcon-fvHYKib4.jpg",fT="/genshin3/assets/lisaIcon-vpCkCpr0.jpg",dT="/genshin3/assets/mikaIcon-CAYxUUmb.jpg",pT="/genshin3/assets/monaIcon-BU4g48w1.jpg",mT="/genshin3/assets/noelleIcon-D9HRd6B2.jpg",gT="/genshin3/assets/razorIcon-TkRH1OJK.jpg",yT="/genshin3/assets/rosariaIcon-DpsVc9JC.jpg",_T="/genshin3/assets/sucroseIcon-BtBfDMGt.jpg",vT="/genshin3/assets/ventiIcon-DzHKc_EX.jpg",ET="_Mond_1qy4k_1",wT="_MondHeader_1qy4k_7",TT="_mondstadtPicture_1qy4k_31",ST="_MondBox_1qy4k_37",IT="_MondColumn_1qy4k_46",RT="_MondRow_1qy4k_53",AT="_Mond2Box_1qy4k_61",ps={Mond:ET,MondHeader:wT,mondstadtPicture:TT,MondBox:ST,MondColumn:IT,MondRow:RT,Mond2Box:AT},CT=({character:i})=>{let e;switch(i.toLowerCase()){case"albedo":e=tT;break;case"amber":e=nT;break;case"barbara":e=rT;break;case"bennett":e=iT;break;case"diluc":e=sT;break;case"diona":e=oT;break;case"eula":e=aT;break;case"fischl":e=lT;break;case"jean":e=uT;break;case"kaeya":e=cT;break;case"klee":e=hT;break;case"lisa":e=fT;break;case"mika":e=dT;break;case"mona":e=pT;break;case"noelle":e=mT;break;case"razor":e=gT;break;case"rosaria":e=yT;break;case"sucrose":e=_T;break;case"venti":e=vT;break;default:e=null}return K.jsx("div",{className:ps.mondstadtPicture,children:e&&K.jsx("img",{src:e,alt:i})})};function PT(){const i=[{name:"Albedo",description:"Albedo, known as the Kreideprinz, is the Chief Alchemist and Captain of the Investigation Team of the Knights of Favonius.",birthday:"September 13th"},{name:"Amber",description:"Amber, the Outrider for the Knights of Favonius, fearlessly patrols the wilds of Mondstadt, safeguarding its borders from any threats that may arise.",birthday:"August 10th"},{name:"Barbara",description:"Barbara, a devoted deaconess of the Church of Favonius, uses her healing powers to bring comfort and relief to those in need.",birthday:"July 5th"},{name:"Bennett",description:"Bennett, an adventurous member of the Adventurers' Guild, embarks on daring quests to uncover treasure and defeat monsters.",birthday:"February 29th"},{name:"Diluc",description:"Diluc Ragnvindr, the enigmatic owner of the Dawn Winery, is a formidable warrior and skilled tactician.",birthday:"April 30th"},{name:"Diona",description:"Diona, a skilled bartender and expert mixologist, runs the popular tavern Cat's Tail in Mondstadt.",birthday:"January 18th"},{name:"Eula",description:"Eula Lawrence, the Spindrift Knight of Mondstadt, is a formidable warrior known for her icy demeanor and lightning-fast strikes.",birthday:"October 25th"},{name:"Fischl",description:"Fischl, the enigmatic investigator of the Adventurers' Guild, is known for her unique perspective on the world.",birthday:"May 27th"},{name:"Jean",description:"Jean Gunnhildr, the Acting Grandmaster of Mondstadt, is a steadfast leader and tireless protector of the city.",birthday:"March 14th"},{name:"Kaeya",description:"Kaeya Alberich, the Cavalry Captain of the Knights of Favonius, is a charming and enigmatic figure with a mysterious past.",birthday:"November 30th"},{name:"Klee",description:"Klee, a lively adventurer from Mondstadt, is known for her love of explosives and boundless enthusiasm.",birthday:"July 27th"},{name:"Lisa",description:"Lisa Minci, the knowledgeable librarian of the Knights of Favonius, is a skilled mage and scholar.",birthday:"June 9th"},{name:"Mika",description:"Mika, the talented blacksmith of Mondstadt, is renowned for crafting powerful weapons for the Knights of Favonius.",birthday:"August 11th"},{name:"Mona",description:"Mona Megistus, the enigmatic astrologer of Mondstadt, possesses immense knowledge of astrology and elemental magic.",birthday:"August 31st"},{name:"Noelle",description:"Noelle, the diligent maid of Mondstadt, dreams of becoming a knight and protecting others with her strength.",birthday:"March 21st"},{name:"Razor",description:"Razor, a solitary wolf-boy from Mondstadt, communicates with the wolves of Wolvendom and wields a claymore in battle.",birthday:"September 9th"},{name:"Rosaria",description:"Rosaria, the mysterious nun of Mondstadt, patrols the streets of the city at night and has a sharp tongue.",birthday:"January 24th"},{name:"Sucrose",description:"Sucrose, the shy alchemist of Mondstadt, is always engrossed in her experiments to uncover the secrets of the world.",birthday:"November 26th"},{name:"Venti",description:"Venti, the bard of Mondstadt and the current Barbatos, one of The Seven, is known for his mischievous personality and love for alcohol.",birthday:"June 16th"}];return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{className:ps.Mond,children:[K.jsxs("header",{className:ps.MondHeader,children:[K.jsx("h1",{children:"Knights of Favonius"}),K.jsx("div",{className:ps.MondBox,children:K.jsx("div",{className:ps.MondColumn,children:i.map((e,n)=>K.jsxs("div",{className:ps.MondRow,children:[K.jsx(CT,{character:e.name}),K.jsxs("div",{className:ps.Mond2Box,children:[K.jsx("p",{children:e.description}),K.jsxs("p",{style:{marginTop:"10px"},children:["Birthday: ",e.birthday]})]})]},n))})})]}),K.jsx("div",{children:K.jsx(eT,{})})]})]})}function kT(){return K.jsx("div",{className:As.BackgroundLiyue})}const xT="_Liyue_wdag8_1",DT="_LiyueHeader_wdag8_7",Lm={Liyue:xT,LiyueHeader:DT},NT="_container_17tla_1",VT="_ZhongliInput_17tla_7",MT="_ZhongliShirtButton_17tla_7",LT="_card_17tla_60",ru={container:NT,ZhongliInput:VT,ZhongliShirtButton:MT,card:LT};var Om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},OT=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Xg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,E=c>>2,R=(c&3)<<4|m>>4;let P=(m&15)<<2|_>>6,U=_&63;g||(U=64,h||(P=64)),s.push(n[E],n[R],n[P],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Yg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):OT(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new FT;const P=c<<2|m>>4;if(s.push(P),_!==64){const U=m<<4&240|_>>2;if(s.push(U),R!==64){const q=_<<6&192|R;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(i){const e=Yg(i);return Xg.encodeByteArray(e,!0)},gu=function(i){return bT(i).replace(/\./g,"")},jT=function(i){try{return Xg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>BT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof Om>"u")return;const i=Om.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$T=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jT(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return UT()||zT()||$T()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},HT=i=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},WT=i=>{const e=HT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Jg=()=>{var i;return(i=lf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gu(JSON.stringify(n)),gu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GT(){var i;const e=(i=lf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="FirebaseError";class Co extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZT,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zg.prototype.create)}}class Zg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?e0(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Co(a,m,s)}}function e0(i,e){return i.replace(t0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const t0=/\{\$([^}]+)}/g;function Mh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(Fm(c)&&Fm(h)){if(!Mh(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Fm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(i){return i&&i._delegate?i._delegate:i}class Pa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i0(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:r0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r0(i){return i===ms?void 0:i}function i0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const o0={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},a0=Xe.INFO,l0={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},u0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=l0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ey{constructor(e){this.name=e,this._logLevel=a0,this._logHandler=u0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const c0=(i,e)=>e.some(n=>i instanceof n);let bm,jm;function h0(){return bm||(bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f0(){return jm||(jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ty=new WeakMap,Lh=new WeakMap,ny=new WeakMap,Th=new WeakMap,uf=new WeakMap;function d0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Fi(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ty.set(n,i)}).catch(()=>{}),uf.set(e,i),e}function p0(i){if(Lh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Lh.set(i,e)}let Oh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ny.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function m0(i){Oh=i(Oh)}function g0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Sh(this),e,...n);return ny.set(s,e.sort?e.sort():[e]),Fi(s)}:f0().includes(i)?function(...e){return i.apply(Sh(this),e),Fi(ty.get(this))}:function(...e){return Fi(i.apply(Sh(this),e))}}function y0(i){return typeof i=="function"?g0(i):(i instanceof IDBTransaction&&p0(i),c0(i,h0())?new Proxy(i,Oh):i)}function Fi(i){if(i instanceof IDBRequest)return d0(i);if(Th.has(i))return Th.get(i);const e=y0(i);return e!==i&&(Th.set(i,e),uf.set(e,i)),e}const Sh=i=>uf.get(i);function _0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Fi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Fi(h.result),g.oldVersion,g.newVersion,Fi(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const v0=["get","getKey","getAll","getAllKeys","count"],E0=["put","add","delete","clear"],Ih=new Map;function Bm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ih.get(e))return Ih.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=E0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||v0.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return Ih.set(e,c),c}m0(i=>({...i,get:(e,n,s)=>Bm(e,n)||i.get(e,n,s),has:(e,n)=>!!Bm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function T0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fh="@firebase/app",Um="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new ey("@firebase/app"),S0="@firebase/app-compat",I0="@firebase/analytics-compat",R0="@firebase/analytics",A0="@firebase/app-check-compat",C0="@firebase/app-check",P0="@firebase/auth",k0="@firebase/auth-compat",x0="@firebase/database",D0="@firebase/data-connect",N0="@firebase/database-compat",V0="@firebase/functions",M0="@firebase/functions-compat",L0="@firebase/installations",O0="@firebase/installations-compat",F0="@firebase/messaging",b0="@firebase/messaging-compat",j0="@firebase/performance",B0="@firebase/performance-compat",U0="@firebase/remote-config",z0="@firebase/remote-config-compat",$0="@firebase/storage",H0="@firebase/storage-compat",W0="@firebase/firestore",q0="@firebase/vertexai-preview",K0="@firebase/firestore-compat",Q0="firebase",G0="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="[DEFAULT]",Y0={[Fh]:"fire-core",[S0]:"fire-core-compat",[R0]:"fire-analytics",[I0]:"fire-analytics-compat",[C0]:"fire-app-check",[A0]:"fire-app-check-compat",[P0]:"fire-auth",[k0]:"fire-auth-compat",[x0]:"fire-rtdb",[D0]:"fire-data-connect",[N0]:"fire-rtdb-compat",[V0]:"fire-fn",[M0]:"fire-fn-compat",[L0]:"fire-iid",[O0]:"fire-iid-compat",[F0]:"fire-fcm",[b0]:"fire-fcm-compat",[j0]:"fire-perf",[B0]:"fire-perf-compat",[U0]:"fire-rc",[z0]:"fire-rc-compat",[$0]:"fire-gcs",[H0]:"fire-gcs-compat",[W0]:"fire-fst",[K0]:"fire-fst-compat",[q0]:"fire-vertex","fire-js":"fire-js",[Q0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,X0=new Map,jh=new Map;function zm(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _u(i){const e=i.name;if(jh.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;jh.set(e,i);for(const n of yu.values())zm(n,i);for(const n of X0.values())zm(n,i);return!0}function J0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Zg("app","Firebase",Z0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=G0;function ry(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw bi.create("bad-app-name",{appName:String(a)});if(n||(n=Jg()),!n)throw bi.create("no-options");const c=yu.get(a);if(c){if(Mh(n,c.options)&&Mh(s,c.config))return c;throw bi.create("duplicate-app",{appName:a})}const h=new s0(a);for(const g of jh.values())h.addComponent(g);const m=new eS(n,s,h);return yu.set(a,m),m}function nS(i=bh){const e=yu.get(i);if(!e&&i===bh&&Jg())return ry();if(!e)throw bi.create("no-app",{appName:i});return e}function go(i,e,n){var s;let a=(s=Y0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(m.join(" "));return}_u(new Pa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebase-heartbeat-database",iS=1,ka="firebase-heartbeat-store";let Rh=null;function iy(){return Rh||(Rh=_0(rS,iS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ka)}catch(n){console.warn(n)}}}}).catch(i=>{throw bi.create("idb-open",{originalErrorMessage:i.message})})),Rh}async function sS(i){try{const n=(await iy()).transaction(ka),s=await n.objectStore(ka).get(sy(i));return await n.done,s}catch(e){if(e instanceof Co)ti.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function $m(i,e){try{const s=(await iy()).transaction(ka,"readwrite");await s.objectStore(ka).put(e,sy(i)),await s.done}catch(n){if(n instanceof Co)ti.warn(n.message);else{const s=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(s.message)}}}function sy(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=1024,aS=30*24*60*60*1e3;class lS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Hm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=aS}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hm(),{heartbeatsToSend:s,unsentEntries:a}=uS(this._heartbeatsCache.heartbeats),c=gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ti.warn(n),""}}}function Hm(){return new Date().toISOString().substring(0,10)}function uS(i,e=oS){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Wm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Wm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Wm(i){return gu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i){_u(new Pa("platform-logger",e=>new w0(e),"PRIVATE")),_u(new Pa("heartbeat",e=>new lS(e),"PRIVATE")),go(Fh,Um,i),go(Fh,Um,"esm2017"),go("fire-js","")}hS("");var qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,oy;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function S(){}S.prototype=T.prototype,C.D=T.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(D,N,M){for(var A=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)A[nt-2]=arguments[nt];return T.prototype[N].apply(D,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,T,S){S||(S=0);var D=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)D[N]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(N=0;16>N;++N)D[N]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=C.g[0],S=C.g[1],N=C.g[2];var M=C.g[3],A=T+(M^S&(N^M))+D[0]+3614090360&4294967295;T=S+(A<<7&4294967295|A>>>25),A=M+(N^T&(S^N))+D[1]+3905402710&4294967295,M=T+(A<<12&4294967295|A>>>20),A=N+(S^M&(T^S))+D[2]+606105819&4294967295,N=M+(A<<17&4294967295|A>>>15),A=S+(T^N&(M^T))+D[3]+3250441966&4294967295,S=N+(A<<22&4294967295|A>>>10),A=T+(M^S&(N^M))+D[4]+4118548399&4294967295,T=S+(A<<7&4294967295|A>>>25),A=M+(N^T&(S^N))+D[5]+1200080426&4294967295,M=T+(A<<12&4294967295|A>>>20),A=N+(S^M&(T^S))+D[6]+2821735955&4294967295,N=M+(A<<17&4294967295|A>>>15),A=S+(T^N&(M^T))+D[7]+4249261313&4294967295,S=N+(A<<22&4294967295|A>>>10),A=T+(M^S&(N^M))+D[8]+1770035416&4294967295,T=S+(A<<7&4294967295|A>>>25),A=M+(N^T&(S^N))+D[9]+2336552879&4294967295,M=T+(A<<12&4294967295|A>>>20),A=N+(S^M&(T^S))+D[10]+4294925233&4294967295,N=M+(A<<17&4294967295|A>>>15),A=S+(T^N&(M^T))+D[11]+2304563134&4294967295,S=N+(A<<22&4294967295|A>>>10),A=T+(M^S&(N^M))+D[12]+1804603682&4294967295,T=S+(A<<7&4294967295|A>>>25),A=M+(N^T&(S^N))+D[13]+4254626195&4294967295,M=T+(A<<12&4294967295|A>>>20),A=N+(S^M&(T^S))+D[14]+2792965006&4294967295,N=M+(A<<17&4294967295|A>>>15),A=S+(T^N&(M^T))+D[15]+1236535329&4294967295,S=N+(A<<22&4294967295|A>>>10),A=T+(N^M&(S^N))+D[1]+4129170786&4294967295,T=S+(A<<5&4294967295|A>>>27),A=M+(S^N&(T^S))+D[6]+3225465664&4294967295,M=T+(A<<9&4294967295|A>>>23),A=N+(T^S&(M^T))+D[11]+643717713&4294967295,N=M+(A<<14&4294967295|A>>>18),A=S+(M^T&(N^M))+D[0]+3921069994&4294967295,S=N+(A<<20&4294967295|A>>>12),A=T+(N^M&(S^N))+D[5]+3593408605&4294967295,T=S+(A<<5&4294967295|A>>>27),A=M+(S^N&(T^S))+D[10]+38016083&4294967295,M=T+(A<<9&4294967295|A>>>23),A=N+(T^S&(M^T))+D[15]+3634488961&4294967295,N=M+(A<<14&4294967295|A>>>18),A=S+(M^T&(N^M))+D[4]+3889429448&4294967295,S=N+(A<<20&4294967295|A>>>12),A=T+(N^M&(S^N))+D[9]+568446438&4294967295,T=S+(A<<5&4294967295|A>>>27),A=M+(S^N&(T^S))+D[14]+3275163606&4294967295,M=T+(A<<9&4294967295|A>>>23),A=N+(T^S&(M^T))+D[3]+4107603335&4294967295,N=M+(A<<14&4294967295|A>>>18),A=S+(M^T&(N^M))+D[8]+1163531501&4294967295,S=N+(A<<20&4294967295|A>>>12),A=T+(N^M&(S^N))+D[13]+2850285829&4294967295,T=S+(A<<5&4294967295|A>>>27),A=M+(S^N&(T^S))+D[2]+4243563512&4294967295,M=T+(A<<9&4294967295|A>>>23),A=N+(T^S&(M^T))+D[7]+1735328473&4294967295,N=M+(A<<14&4294967295|A>>>18),A=S+(M^T&(N^M))+D[12]+2368359562&4294967295,S=N+(A<<20&4294967295|A>>>12),A=T+(S^N^M)+D[5]+4294588738&4294967295,T=S+(A<<4&4294967295|A>>>28),A=M+(T^S^N)+D[8]+2272392833&4294967295,M=T+(A<<11&4294967295|A>>>21),A=N+(M^T^S)+D[11]+1839030562&4294967295,N=M+(A<<16&4294967295|A>>>16),A=S+(N^M^T)+D[14]+4259657740&4294967295,S=N+(A<<23&4294967295|A>>>9),A=T+(S^N^M)+D[1]+2763975236&4294967295,T=S+(A<<4&4294967295|A>>>28),A=M+(T^S^N)+D[4]+1272893353&4294967295,M=T+(A<<11&4294967295|A>>>21),A=N+(M^T^S)+D[7]+4139469664&4294967295,N=M+(A<<16&4294967295|A>>>16),A=S+(N^M^T)+D[10]+3200236656&4294967295,S=N+(A<<23&4294967295|A>>>9),A=T+(S^N^M)+D[13]+681279174&4294967295,T=S+(A<<4&4294967295|A>>>28),A=M+(T^S^N)+D[0]+3936430074&4294967295,M=T+(A<<11&4294967295|A>>>21),A=N+(M^T^S)+D[3]+3572445317&4294967295,N=M+(A<<16&4294967295|A>>>16),A=S+(N^M^T)+D[6]+76029189&4294967295,S=N+(A<<23&4294967295|A>>>9),A=T+(S^N^M)+D[9]+3654602809&4294967295,T=S+(A<<4&4294967295|A>>>28),A=M+(T^S^N)+D[12]+3873151461&4294967295,M=T+(A<<11&4294967295|A>>>21),A=N+(M^T^S)+D[15]+530742520&4294967295,N=M+(A<<16&4294967295|A>>>16),A=S+(N^M^T)+D[2]+3299628645&4294967295,S=N+(A<<23&4294967295|A>>>9),A=T+(N^(S|~M))+D[0]+4096336452&4294967295,T=S+(A<<6&4294967295|A>>>26),A=M+(S^(T|~N))+D[7]+1126891415&4294967295,M=T+(A<<10&4294967295|A>>>22),A=N+(T^(M|~S))+D[14]+2878612391&4294967295,N=M+(A<<15&4294967295|A>>>17),A=S+(M^(N|~T))+D[5]+4237533241&4294967295,S=N+(A<<21&4294967295|A>>>11),A=T+(N^(S|~M))+D[12]+1700485571&4294967295,T=S+(A<<6&4294967295|A>>>26),A=M+(S^(T|~N))+D[3]+2399980690&4294967295,M=T+(A<<10&4294967295|A>>>22),A=N+(T^(M|~S))+D[10]+4293915773&4294967295,N=M+(A<<15&4294967295|A>>>17),A=S+(M^(N|~T))+D[1]+2240044497&4294967295,S=N+(A<<21&4294967295|A>>>11),A=T+(N^(S|~M))+D[8]+1873313359&4294967295,T=S+(A<<6&4294967295|A>>>26),A=M+(S^(T|~N))+D[15]+4264355552&4294967295,M=T+(A<<10&4294967295|A>>>22),A=N+(T^(M|~S))+D[6]+2734768916&4294967295,N=M+(A<<15&4294967295|A>>>17),A=S+(M^(N|~T))+D[13]+1309151649&4294967295,S=N+(A<<21&4294967295|A>>>11),A=T+(N^(S|~M))+D[4]+4149444226&4294967295,T=S+(A<<6&4294967295|A>>>26),A=M+(S^(T|~N))+D[11]+3174756917&4294967295,M=T+(A<<10&4294967295|A>>>22),A=N+(T^(M|~S))+D[2]+718787259&4294967295,N=M+(A<<15&4294967295|A>>>17),A=S+(M^(N|~T))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}s.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var S=T-this.blockSize,D=this.B,N=this.h,M=0;M<T;){if(N==0)for(;M<=S;)a(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<T;)if(D[N++]=C.charCodeAt(M++),N==this.blockSize){a(this,D),N=0;break}}else for(;M<T;)if(D[N++]=C[M++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var S=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=S&255,S/=256;for(this.u(C),C=Array(16),T=S=0;4>T;++T)for(var D=0;32>D;D+=8)C[S++]=this.g[T]>>>D&255;return C};function c(C,T){var S=m;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=T(C)}function h(C,T){this.h=T;for(var S=[],D=!0,N=C.length-1;0<=N;N--){var M=C[N]|0;D&&M==T||(S[N]=M,D=!1)}this.g=S}var m={};function g(C){return-128<=C&&128>C?c(C,function(T){return new h([T|0],0>T?-1:0)}):new h([C|0],0>C?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return R;if(0>C)return F(_(-C));for(var T=[],S=1,D=0;C>=S;D++)T[D]=C/S|0,S*=4294967296;return new h(T,0)}function E(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return F(E(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(T,8)),D=R,N=0;N<C.length;N+=8){var M=Math.min(8,C.length-N),A=parseInt(C.substring(N,N+M),T);8>M?(M=_(Math.pow(T,M)),D=D.j(M).add(_(A))):(D=D.j(S),D=D.add(_(A)))}return D}var R=g(0),P=g(1),U=g(16777216);i=h.prototype,i.m=function(){if($(this))return-F(this).m();for(var C=0,T=1,S=0;S<this.g.length;S++){var D=this.i(S);C+=(0<=D?D:4294967296+D)*T,T*=4294967296}return C},i.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(q(this))return"0";if($(this))return"-"+F(this).toString(C);for(var T=_(Math.pow(C,6)),S=this,D="";;){var N=we(S,T).g;S=ee(S,N.j(T));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=N,q(S))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},i.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function q(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function $(C){return C.h==-1}i.l=function(C){return C=ee(this,C),$(C)?-1:q(C)?0:1};function F(C){for(var T=C.g.length,S=[],D=0;D<T;D++)S[D]=~C.g[D];return new h(S,~C.h).add(P)}i.abs=function(){return $(this)?F(this):this},i.add=function(C){for(var T=Math.max(this.g.length,C.g.length),S=[],D=0,N=0;N<=T;N++){var M=D+(this.i(N)&65535)+(C.i(N)&65535),A=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);D=A>>>16,M&=65535,A&=65535,S[N]=A<<16|M}return new h(S,S[S.length-1]&-2147483648?-1:0)};function ee(C,T){return C.add(F(T))}i.j=function(C){if(q(this)||q(C))return R;if($(this))return $(C)?F(this).j(F(C)):F(F(this).j(C));if($(C))return F(this.j(F(C)));if(0>this.l(U)&&0>C.l(U))return _(this.m()*C.m());for(var T=this.g.length+C.g.length,S=[],D=0;D<2*T;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<C.g.length;N++){var M=this.i(D)>>>16,A=this.i(D)&65535,nt=C.i(N)>>>16,It=C.i(N)&65535;S[2*D+2*N]+=A*It,ae(S,2*D+2*N),S[2*D+2*N+1]+=M*It,ae(S,2*D+2*N+1),S[2*D+2*N+1]+=A*nt,ae(S,2*D+2*N+1),S[2*D+2*N+2]+=M*nt,ae(S,2*D+2*N+2)}for(D=0;D<T;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=T;D<2*T;D++)S[D]=0;return new h(S,0)};function ae(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function le(C,T){this.g=C,this.h=T}function we(C,T){if(q(T))throw Error("division by zero");if(q(C))return new le(R,R);if($(C))return T=we(F(C),T),new le(F(T.g),F(T.h));if($(T))return T=we(C,F(T)),new le(F(T.g),T.h);if(30<C.g.length){if($(C)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var S=P,D=T;0>=D.l(C);)S=je(S),D=je(D);var N=z(S,1),M=z(D,1);for(D=z(D,2),S=z(S,2);!q(D);){var A=M.add(D);0>=A.l(C)&&(N=N.add(S),M=A),D=z(D,1),S=z(S,1)}return T=ee(C,N.j(T)),new le(N,T)}for(N=R;0<=C.l(T);){for(S=Math.max(1,Math.floor(C.m()/T.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=_(S),A=M.j(T);$(A)||0<A.l(C);)S-=D,M=_(S),A=M.j(T);q(M)&&(M=P),N=N.add(M),C=ee(C,A)}return new le(N,C)}i.A=function(C){return we(this,C).h},i.and=function(C){for(var T=Math.max(this.g.length,C.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)&C.i(D);return new h(S,this.h&C.h)},i.or=function(C){for(var T=Math.max(this.g.length,C.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)|C.i(D);return new h(S,this.h|C.h)},i.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),S=[],D=0;D<T;D++)S[D]=this.i(D)^C.i(D);return new h(S,this.h^C.h)};function je(C){for(var T=C.g.length+1,S=[],D=0;D<T;D++)S[D]=C.i(D)<<1|C.i(D-1)>>>31;return new h(S,C.h)}function z(C,T){var S=T>>5;T%=32;for(var D=C.g.length-S,N=[],M=0;M<D;M++)N[M]=0<T?C.i(M+S)>>>T|C.i(M+S+1)<<32-T:C.i(M+S);return new h(N,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,oy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,vs=h}).apply(typeof qm<"u"?qm:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ay,ya,ly,uu,Bh,uy,cy,hy;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in y))break e;y=y[O]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,w=!1,O={next:function(){if(!w&&y<l.length){var W=y++;return{value:d(W,l[W]),done:!1}}return w=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function R(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,w),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function P(l,d,y){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,P.apply(null,arguments)}function U(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function q(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,O,W){for(var oe=Array(arguments.length-2),it=2;it<arguments.length;it++)oe[it-2]=arguments[it];return d.prototype[O].apply(w,oe)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function F(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const O=l.length||0,W=w.length||0;l.length=O+W;for(let oe=0;oe<W;oe++)l[O+oe]=w[oe]}else l.push(w)}}class ee{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ae(l){return/^[\s\xa0]*$/.test(l)}function le(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function we(l){return we[" "](l),l}we[" "]=function(){};var je=le().indexOf("Gecko")!=-1&&!(le().toLowerCase().indexOf("webkit")!=-1&&le().indexOf("Edge")==-1)&&!(le().indexOf("Trident")!=-1||le().indexOf("MSIE")!=-1)&&le().indexOf("Edge")==-1;function z(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function C(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,d){let y,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(y in w)l[y]=w[y];for(let W=0;W<S.length;W++)y=S[W],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function N(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function M(l){m.setTimeout(()=>{throw l},0)}function A(){var l=ve;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class nt{constructor(){this.h=this.g=null}add(d,y){const w=It.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var It=new ee(()=>new Rt,l=>l.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,ie=!1,ve=new nt,k=()=>{const l=m.Promise.resolve(void 0);Pe=()=>{l.then(G)}};var G=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){M(y)}var d=It;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ie=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function be(l,d){if(Ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(je){e:{try{we(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Oe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&be.aa.h.call(this)}}q(be,Ee);var Oe={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),qe=0;function jt(l,d,y,w,O){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=O,this.key=++qe,this.da=this.fa=!1}function ii(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function mt(l){this.src=l,this.g={},this.h=0}mt.prototype.add=function(l,d,y,w,O){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var oe=Gn(l,d,w,O);return-1<oe?(d=l[oe],y||(d.fa=!1)):(d=new jt(d,this.src,W,!!w,O),d.fa=y,l.push(d)),d};function On(l,d){var y=d.type;if(y in l.g){var w=l.g[y],O=Array.prototype.indexOf.call(w,d,void 0),W;(W=0<=O)&&Array.prototype.splice.call(w,O,1),W&&(ii(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Gn(l,d,y,w){for(var O=0;O<l.length;++O){var W=l[O];if(!W.da&&W.listener==d&&W.capture==!!y&&W.ha==w)return O}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),yn={};function Wi(l,d,y,w,O){if(Array.isArray(d)){for(var W=0;W<d.length;W++)Wi(l,d[W],y,w,O);return null}return y=Xn(y),l&&l[Ue]?l.K(d,y,_(w)?!!w.capture:!1,O):qi(l,d,y,!1,w,O)}function qi(l,d,y,w,O,W){if(!d)throw Error("Invalid event type");var oe=_(O)?!!O.capture:!!O,it=mr(l);if(it||(l[Lr]=it=new mt(l)),y=it.add(d,y,w,oe,W),y.proxy)return y;if(w=xs(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Ce||(O=oe),O===void 0&&(O=!1),l.addEventListener(d.toString(),w,O);else if(l.attachEvent)l.attachEvent(cn(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function xs(){function l(y){return d.call(l.src,l.listener,y)}const d=oi;return l}function si(l,d,y,w,O){if(Array.isArray(d))for(var W=0;W<d.length;W++)si(l,d[W],y,w,O);else w=_(w)?!!w.capture:!!w,y=Xn(y),l&&l[Ue]?(l=l.i,d=String(d).toString(),d in l.g&&(W=l.g[d],y=Gn(W,y,w,O),-1<y&&(ii(W[y]),Array.prototype.splice.call(W,y,1),W.length==0&&(delete l.g[d],l.h--)))):l&&(l=mr(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Gn(d,y,w,O)),(y=-1<l?d[l]:null)&&Yn(y))}function Yn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ue])On(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(cn(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=mr(d))?(On(y,l),y.h==0&&(y.src=null,d[Lr]=null)):ii(l)}}}function cn(l){return l in yn?yn[l]:yn[l]="on"+l}function oi(l,d){if(l.da)l=!0;else{d=new be(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&Yn(l),l=y.call(w,d)}return l}function mr(l){return l=l[Lr],l instanceof mt?l:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xn(l){return typeof l=="function"?l:(l[hn]||(l[hn]=function(d){return l.handleEvent(d)}),l[hn])}function vt(){ue.call(this),this.i=new mt(this),this.M=this,this.F=null}q(vt,ue),vt.prototype[Ue]=!0,vt.prototype.removeEventListener=function(l,d,y,w){si(this,l,d,y,w)};function ht(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new Ee(d,l);else if(d instanceof Ee)d.target=d.target||l;else{var O=d;d=new Ee(w,l),D(d,O)}if(O=!0,y)for(var W=y.length-1;0<=W;W--){var oe=d.g=y[W];O=Jn(oe,w,!0,d)&&O}if(oe=d.g=l,O=Jn(oe,w,!0,d)&&O,O=Jn(oe,w,!1,d)&&O,y)for(W=0;W<y.length;W++)oe=d.g=y[W],O=Jn(oe,w,!1,d)&&O}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)ii(y[w]);delete l.g[d],l.h--}}this.F=null},vt.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},vt.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function Jn(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,W=0;W<d.length;++W){var oe=d[W];if(oe&&!oe.da&&oe.capture==y){var it=oe.listener,Mt=oe.ha||oe.src;oe.fa&&On(l.i,oe),O=it.call(Mt,w)!==!1&&O}}return O&&!w.defaultPrevented}function _n(l,d,y){if(typeof l=="function")y&&(l=P(l,y));else if(l&&typeof l.handleEvent=="function")l=P(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Zn(l){l.g=_n(()=>{l.g=null,l.i&&(l.i=!1,Zn(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class gr extends ue{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Zn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(l){ue.call(this),this.h=l,this.g={}}q(yr,ue);var Ki=[];function ai(l){z(l.g,function(d,y){this.g.hasOwnProperty(y)&&Yn(d)},l),l.g={}}yr.prototype.N=function(){yr.aa.N.call(this),ai(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=m.JSON.stringify,li=m.JSON.parse,Or=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Fr(){}Fr.prototype.h=null;function br(l){return l.h||(l.h=l.i())}function ui(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){Ee.call(this,"d")}q(Fn,Ee);function L(){Ee.call(this,"c")}q(L,Ee);var B={},Q=null;function se(){return Q=Q||new vt}B.La="serverreachability";function de(l){Ee.call(this,B.La,l)}q(de,Ee);function ke(l){const d=se();ht(d,new de(d))}B.STAT_EVENT="statevent";function Se(l,d){Ee.call(this,B.STAT_EVENT,l),this.stat=d}q(Se,Ee);function ce(l){const d=se();ht(d,new Se(d,l))}B.Ma="timingevent";function ye(l,d){Ee.call(this,B.Ma,l),this.size=d}q(ye,Ee);function De(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function at(){this.g=!0}at.prototype.xa=function(){this.g=!1};function xe(l,d,y,w,O,W){l.info(function(){if(l.g)if(W)for(var oe="",it=W.split("&"),Mt=0;Mt<it.length;Mt++){var Ke=it[Mt].split("=");if(1<Ke.length){var Ut=Ke[0];Ke=Ke[1];var Pt=Ut.split("_");oe=2<=Pt.length&&Pt[1]=="type"?oe+(Ut+"="+Ke+"&"):oe+(Ut+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+d+`
`+y+`
`+oe})}function Ge(l,d,y,w,O,W,oe){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+d+`
`+y+`
`+W+" "+oe})}function rt(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Et(l,y)+(w?" "+w:"")})}function Nt(l,d){l.info(function(){return"TIMEOUT: "+d})}at.prototype.info=function(){};function Et(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var O=w[1];if(Array.isArray(O)&&!(1>O.length)){var W=O[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<O.length;oe++)O[oe]=""}}}}return _r(y)}catch{return d}}var Cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bt;function en(){}q(en,Fr),en.prototype.g=function(){return new XMLHttpRequest},en.prototype.i=function(){return{}},Bt=new en;function Vt(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var er={},vr={};function Pn(l,d,y){l.L=1,l.v=gi(xn(d)),l.m=y,l.P=!0,Er(l,null)}function Er(l,d){l.F=Date.now(),Fe(l),l.A=xn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),_i(y.i,"t",w),l.C=0,y=l.j.J,l.h=new hi,l.g=sl(l.j,y?d:null,!l.m),0<l.O&&(l.M=new gr(P(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ki[0]=O.toString()),O=Ki);for(var W=0;W<O.length;W++){var oe=Wi(y,O[W],w||d.handleEvent,!1,d.h||d);if(!oe)break;d.g[oe.key]=oe}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ke(),xe(l.i,l.u,l.A,l.l,l.R,l.m)}Vt.prototype.ca=function(l){l=l.target;const d=this.M;d&&En(l)==3?d.j():this.Y(l)},Vt.prototype.Y=function(l){try{if(l==this.g)e:{const Pt=En(this.g);var d=this.g.Ba();const Bn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Bn?ke(3):ke(2)),Br(this);var y=this.g.Z();this.X=y;t:if(ze(this)){var w=Fo(this.g);l="";var O=w.length,W=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),fi(this);var oe="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(W&&d==O-1)});w.length=0,this.h.g+=l,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=y==200,Ge(this.i,this.u,this.A,this.l,this.R,Pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Mt=this.g;if((it=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(it)){var Ke=it;break t}}Ke=null}if(y=Ke)rt(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,No(this,y);else{this.o=!1,this.s=3,ce(12),bn(this),fi(this);break e}}if(this.P){y=!0;let Nn;for(;!this.J&&this.C<oe.length;)if(Nn=Je(this,oe),Nn==vr){Pt==4&&(this.s=4,ce(14),y=!1),rt(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==er){this.s=4,ce(15),rt(this.i,this.l,oe,"[Invalid Chunk]"),y=!1;break}else rt(this.i,this.l,Nn,null),No(this,Nn);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||oe.length!=0||this.h.h||(this.s=1,ce(16),y=!1),this.o=this.o&&y,!y)rt(this.i,this.l,oe,"[Invalid Chunked Response]"),bn(this),fi(this);else if(0<oe.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),jo(Ut),Ut.M=!0,ce(11))}}else rt(this.i,this.l,oe,null),No(this,oe);Pt==4&&bn(this),this.o&&!this.J&&(Pt==4?Us(this.j,this):(this.o=!1,Fe(this)))}else Os(this.g),y==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),bn(this),fi(this)}}}catch{}finally{}};function ze(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Je(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?vr:(y=Number(d.substring(y,w)),isNaN(y)?er:(w+=1,w+y>d.length?vr:(d=d.slice(w,w+y),l.C=w+y,d)))}Vt.prototype.cancel=function(){this.J=!0,bn(this)};function Fe(l){l.S=Date.now()+l.I,jr(l,l.I)}function jr(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=De(P(l.ba,l),d)}function Br(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Vt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Nt(this.i,this.A),this.L!=2&&(ke(),ce(17)),bn(this),this.s=2,fi(this)):jr(this,this.S-l)};function fi(l){l.j.G==0||l.J||Us(l.j,l)}function bn(l){Br(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ai(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function No(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||dn(y.h,l))){if(!l.K&&dn(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Bs(y),sr(y);else break e;js(y),ce(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=De(P(y.Za,y),6e3));if(1>=Wa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Wr(y,11)}else if((l.K||y.g==l)&&Bs(y),!ae(d))for(O=y.Da.g.parse(d),d=0;d<O.length;d++){let Ke=O[d];if(y.T=Ke[0],Ke=Ke[1],y.G==2)if(Ke[0]=="c"){y.K=Ke[1],y.ia=Ke[2];const Ut=Ke[3];Ut!=null&&(y.la=Ut,y.j.info("VER="+y.la));const Pt=Ke[4];Pt!=null&&(y.Aa=Pt,y.j.info("SVER="+y.Aa));const Bn=Ke[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(w=1.5*Bn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Nn=l.g;if(Nn){const es=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var W=w.h;W.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Vo(W,W.h),W.h=null))}if(w.D){const $s=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(w.ya=$s,ot(w.I,w.D,$s))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var oe=l;if(w.qa=il(w,w.J?w.ia:null,w.W),oe.K){qa(w.h,oe);var it=oe,Mt=w.L;Mt&&(it.I=Mt),it.B&&(Br(it),Fe(it)),w.g=oe}else Zi(w);0<y.i.length&&Ir(y)}else Ke[0]!="stop"&&Ke[0]!="close"||Wr(y,7);else y.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Wr(y,7):Kt(y):Ke[0]!="noop"&&y.l&&y.l.ta(Ke),y.v=0)}}ke(4)}catch{}}var Ha=class{constructor(l,d){this.g=l,this.map=d}};function Qi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wa(l){return l.h?1:l.g?l.g.size:0}function dn(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Vo(l,d){l.g?l.g.add(d):l.h=d}function qa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Qi.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ka(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function Ds(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function Ns(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function di(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Ns(l),w=Ds(l),O=w.length,W=0;W<O;W++)d.call(void 0,w[W],y&&y[W],l)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $u(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),O=null;if(0<=w){var W=l[y].substring(0,w);O=l[y].substring(w+1)}else W=l[y];d(W,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ur(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ur){this.h=l.h,Yi(this,l.j),this.o=l.o,this.g=l.g,pi(this,l.s),this.l=l.l;var d=l.i,y=new wr;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),mi(this,y),this.m=l.m}else l&&(d=String(l).match(Gi))?(this.h=!1,Yi(this,d[1]||"",!0),this.o=We(d[2]||""),this.g=We(d[3]||"",!0),pi(this,d[4]),this.l=We(d[5]||"",!0),mi(this,d[6]||"",!0),this.m=We(d[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Ur.prototype.toString=function(){var l=[],d=this.j;d&&l.push(yi(d,Vs,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(yi(d,Vs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(yi(y,y.charAt(0)=="/"?Ya:Ga,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",yi(y,Mo)),l.join("")};function xn(l){return new Ur(l)}function Yi(l,d,y){l.j=y?We(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function pi(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function mi(l,d,y){d instanceof wr?(l.i=d,Tr(l.i,l.h)):(y||(d=yi(d,Xa)),l.i=new wr(d,l.h))}function ot(l,d,y){l.i.set(d,y)}function gi(l){return ot(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function We(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function yi(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Qa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Vs=/[#\/\?@]/g,Ga=/[#\?:]/g,Ya=/[#\?]/g,Xa=/[#\?@]/g,Mo=/#/g;function wr(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function qt(l){l.g||(l.g=new Map,l.h=0,l.i&&$u(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=wr.prototype,i.add=function(l,d){qt(this),this.i=null,l=jn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function tr(l,d){qt(l),d=jn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function nr(l,d){return qt(l),d=jn(l,d),l.g.has(d)}i.forEach=function(l,d){qt(this),this.g.forEach(function(y,w){y.forEach(function(O){l.call(d,O,w,this)},this)},this)},i.na=function(){qt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const O=l[w];for(let W=0;W<O.length;W++)y.push(d[w])}return y},i.V=function(l){qt(this);let d=[];if(typeof l=="string")nr(this,l)&&(d=d.concat(this.g.get(jn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return qt(this),this.i=null,l=jn(this,l),nr(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function _i(l,d,y){tr(l,d),0<y.length&&(l.i=null,l.g.set(jn(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const W=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var O=W;oe[w]!==""&&(O+="="+encodeURIComponent(String(oe[w]))),l.push(O)}}return this.i=l.join("&")};function jn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Tr(l,d){d&&!l.j&&(qt(l),l.i=null,l.g.forEach(function(y,w){var O=w.toLowerCase();w!=O&&(tr(this,w),_i(this,O,y))},l)),l.j=d}function Hu(l,d){const y=new at;if(m.Image){const w=new Image;w.onload=U(vn,y,"TestLoadImage: loaded",!0,d,w),w.onerror=U(vn,y,"TestLoadImage: error",!1,d,w),w.onabort=U(vn,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=U(vn,y,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function Ja(l,d){const y=new at,w=new AbortController,O=setTimeout(()=>{w.abort(),vn(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(W=>{clearTimeout(O),W.ok?vn(y,"TestPingServer: ok",!0,d):vn(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),vn(y,"TestPingServer: error",!1,d)})}function vn(l,d,y,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(y)}catch{}}function Wu(){this.g=new Or}function Za(l,d,y){const w=y||"";try{di(l,function(O,W){let oe=O;_(O)&&(oe=_r(O)),d.push(w+W+"="+encodeURIComponent(oe))})}catch(O){throw d.push(w+"type="+encodeURIComponent("_badmap")),O}}function zr(l){this.l=l.Ub||null,this.j=l.eb||!1}q(zr,Fr),zr.prototype.g=function(){return new Xi(this.l,this.j)},zr.prototype.i=function(l){return function(){return l}}({});function Xi(l,d){vt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Xi,vt),i=Xi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ir(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?rr(this):ir(this),this.readyState==3&&el(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,rr(this))},i.Qa=function(l){this.g&&(this.response=l,rr(this))},i.ga=function(){this.g&&rr(this)};function rr(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ir(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function ir(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function $r(l){let d="";return z(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function vi(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=$r(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ot(l,d,y))}function ft(l){vt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(ft,vt);var qu=/^https?$/i,Lo=["POST","PUT"];i=ft.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bt.g(),this.v=this.o?br(this.o):br(Bt),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(W){Ji(this,W);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)y.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const W of w.keys())y.set(W,w.get(W));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(W=>W.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Lo,d,void 0))||w||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of y)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Ji(this,W)}};function Ji(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ms(l),Dn(l)}function Ms(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),Dn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),ft.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Oo(this):this.bb())},i.bb=function(){Oo(this)};function Oo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||En(l)!=4||l.Z()!=2)){if(l.u&&En(l)==4)_n(l.Ea,0,l);else if(ht(l,"readystatechange"),En(l)==4){l.h=!1;try{const oe=l.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=oe===0){var O=String(l.D).match(Gi)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),w=!qu.test(O?O.toLowerCase():"")}y=w}if(y)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var W=2<En(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",Ms(l)}}finally{Dn(l)}}}}function Dn(l,d){if(l.g){Ls(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{y.onreadystatechange=w}catch{}}}function Ls(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function En(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),li(d)}};function Fo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Os(l){const d={};l=(l.g&&2<=En(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ae(l[w]))continue;var y=N(l[w]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const W=d[O]||[];d[O]=W,W.push(y)}C(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function bo(l){this.Aa=0,this.i=[],this.j=new at,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,l),this.cb=Sr("retryDelaySeedMs",1e4,l),this.Wa=Sr("forwardChannelMaxRetries",2,l),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(l&&l.concurrentRequestLimit),this.Da=new Wu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=bo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){ce(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=il(this,null,this.W),Ir(this)};function Kt(l){if(Fs(l),l.G==3){var d=l.U++,y=xn(l.I);if(ot(y,"SID",l.K),ot(y,"RID",d),ot(y,"TYPE","terminate"),Hr(l,y),d=new Vt(l,l.j,d),d.L=2,d.v=gi(xn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=sl(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fe(d)}rl(l)}function sr(l){l.g&&(jo(l),l.g.cancel(),l.g=null)}function Fs(l){sr(l),l.u&&(m.clearTimeout(l.u),l.u=null),Bs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Ir(l){if(!kn(l.h)&&!l.s){l.s=!0;var d=l.Ga;Pe||k(),ie||(Pe(),ie=!0),ve.add(d,l),l.B=0}}function Ku(l,d){return Wa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=De(P(l.Ga,l,d),nl(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Vt(this,this.j,l);let W=this.o;if(this.S&&(W?(W=T(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(O.H=W,W=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Ei(this,O,d),y=xn(this.I),ot(y,"RID",l),ot(y,"CVER",22),this.D&&ot(y,"X-HTTP-Session-Id",this.D),Hr(this,y),W&&(this.O?d="headers="+encodeURIComponent(String($r(W)))+"&"+d:this.m&&vi(y,this.m,W)),Vo(this.h,O),this.Ua&&ot(y,"TYPE","init"),this.P?(ot(y,"$req",d),ot(y,"SID","null"),O.T=!0,Pn(O,y,null)):Pn(O,y,d),this.G=2}}else this.G==3&&(l?bs(this,l):this.i.length==0||kn(this.h)||bs(this))};function bs(l,d){var y;d?y=d.l:y=l.U++;const w=xn(l.I);ot(w,"SID",l.K),ot(w,"RID",y),ot(w,"AID",l.T),Hr(l,w),l.m&&l.o&&vi(w,l.m,l.o),y=new Vt(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Ei(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vo(l.h,y),Pn(y,w,d)}function Hr(l,d){l.H&&z(l.H,function(y,w){ot(d,w,y)}),l.l&&di({},function(y,w){ot(d,w,y)})}function Ei(l,d,y){y=Math.min(l.i.length,y);var w=l.l?P(l.l.Na,l.l,l):null;e:{var O=l.i;let W=-1;for(;;){const oe=["count="+y];W==-1?0<y?(W=O[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let it=!0;for(let Mt=0;Mt<y;Mt++){let Ke=O[Mt].g;const Ut=O[Mt].map;if(Ke-=W,0>Ke)W=Math.max(0,O[Mt].g-100),it=!1;else try{Za(Ut,oe,"req"+Ke+"_")}catch{w&&w(Ut)}}if(it){w=oe.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function Zi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Pe||k(),ie||(Pe(),ie=!0),ve.add(d,l),l.v=0}}function js(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=De(P(l.Fa,l),nl(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=De(P(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),sr(this),tl(this))};function jo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function tl(l){l.g=new Vt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=xn(l.qa);ot(d,"RID","rpc"),ot(d,"SID",l.K),ot(d,"AID",l.T),ot(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ot(d,"TO",l.ja),ot(d,"TYPE","xmlhttp"),Hr(l,d),l.m&&l.o&&vi(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=gi(xn(d)),y.m=null,y.P=!0,Er(y,l)}i.Za=function(){this.C!=null&&(this.C=null,sr(this),js(this),ce(19))};function Bs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function Us(l,d){var y=null;if(l.g==d){Bs(l),jo(l),l.g=null;var w=2}else if(dn(l.h,d))y=d.D,qa(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;w=se(),ht(w,new ye(w,y)),Ir(l)}else Zi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(w==1&&Ku(l,d)||w==2&&js(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),O){case 1:Wr(l,5);break;case 4:Wr(l,10);break;case 3:Wr(l,6);break;default:Wr(l,2)}}}function nl(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function Wr(l,d){if(l.j.info("Error code "+d),d==2){var y=P(l.fb,l),w=l.Xa;const O=!w;w=new Ur(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Yi(w,"https"),gi(w),O?Hu(w.toString(),y):Ja(w.toString(),y)}else ce(2);l.G=0,l.l&&l.l.sa(d),rl(l),Fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function rl(l){if(l.G=0,l.ka=[],l.l){const d=Ka(l.h);(d.length!=0||l.i.length!=0)&&(F(l.ka,d),F(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function il(l,d,y){var w=y instanceof Ur?xn(y):new Ur(y);if(w.g!="")d&&(w.g=d+"."+w.g),pi(w,w.s);else{var O=m.location;w=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var W=new Ur(null);w&&Yi(W,w),d&&(W.g=d),O&&pi(W,O),y&&(W.l=y),w=W}return y=l.D,d=l.ya,y&&d&&ot(w,y,d),ot(w,"VER",l.la),Hr(l,w),w}function sl(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ft(new zr({eb:y})):new ft(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bo(){}i=Bo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function zs(){}zs.prototype.g=function(l,d){return new pn(l,d)};function pn(l,d){vt.call(this),this.g=new bo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ae(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ae(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Rr(this)}q(pn,vt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kt(this.g)},pn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=_r(l),l=y);d.i.push(new Ha(d.Ya++,l)),d.G==3&&Ir(d)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,pn.aa.N.call(this)};function ol(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}q(ol,Fn);function al(){L.call(this),this.status=1}q(al,L);function Rr(l){this.g=l}q(Rr,Bo),Rr.prototype.ua=function(){ht(this.g,"a")},Rr.prototype.ta=function(l){ht(this.g,new ol(l))},Rr.prototype.sa=function(l){ht(this.g,new al)},Rr.prototype.ra=function(){ht(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,hy=function(){return new zs},cy=function(){return se()},uy=B,Bh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cn.NO_ERROR=0,Cn.TIMEOUT=8,Cn.HTTP_ERROR=6,uu=Cn,ci.COMPLETE="complete",ly=ci,ui.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ya=ui,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,ay=ft}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const Km="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new ey("@firebase/firestore");function ga(){return ws.logLevel}function ge(i,...e){if(ws.logLevel<=Xe.DEBUG){const n=e.map(cf);ws.debug(`Firestore (${Po}): ${i}`,...n)}}function ni(i,...e){if(ws.logLevel<=Xe.ERROR){const n=e.map(cf);ws.error(`Firestore (${Po}): ${i}`,...n)}}function vo(i,...e){if(ws.logLevel<=Xe.WARN){const n=e.map(cf);ws.warn(`Firestore (${Po}): ${i}`,...n)}}function cf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(i="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+i;throw ni(e),new Error(e)}function st(i,e){i||Ve()}function Le(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class dS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ji)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string"),new fy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new ln(e)}}class mS{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gS{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new mS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _S{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){st(this.o===void 0);const s=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string"),this.R=n.token,new yS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=vS(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function tt(i,e){return i<e?-1:i>e?1:0}function Eo(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new bt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new bt(0,0))}static max(){return new Me(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ve(),s===void 0?s=e.length-n:s>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),h=n.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends xa{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const ES=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends xa{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return ES.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new Te(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Te(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Te(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new Te(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(pt.fromString(e))}static fromName(e){return new Ae(pt.fromString(e).popFirst(5))}static empty(){return new Ae(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new pt(e.slice()))}}function wS(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new Ui(a,Ae.empty(),e)}function TS(i){return new Ui(i.readTime,i.key,-1)}class Ui{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ui(Me.min(),Ae.empty(),-1)}static max(){return new Ui(Me.max(),Ae.empty(),-1)}}function SS(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:tt(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==IS)throw i;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new J((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(E=>{h[_]=E,++m,m===c&&s(h)},E=>a(E))}})}static doWhile(e,n){return new J((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function AS(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ja(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hf.oe=-1;function xu(i){return i==null}function vu(i){return i===0&&1/i==-1/0}function CS(i){return typeof i=="number"&&Number.isInteger(i)&&!vu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ko(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function py(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=a??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Yt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Yt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gm(this.data.getIterator())}getIteratorFrom(e){return new Gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new dr([])}unionWith(e){let n=new Jt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new my("Invalid base64 string: "+c):c}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const PS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(i){if(st(!!i),typeof i=="string"){let e=0;const n=PS.exec(i);if(st(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ts(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function df(i){const e=i.mapValue.fields.__previous_value__;return ff(e)?df(e):e}function Da(i){const e=zi(i.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,s,a,c,h,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class Na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ff(i)?4:DS(i)?9007199254740991:xS(i)?10:11:Ve()}function Vr(i,e){if(i===e)return!0;const n=Ss(i);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Da(i).isEqual(Da(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=zi(a.timestampValue),m=zi(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Ts(a.bytesValue).isEqual(Ts(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return Ct(a.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Ct(a.integerValue)===Ct(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=Ct(a.doubleValue),m=Ct(c.doubleValue);return h===m?vu(h)===vu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Qm(h)!==Qm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Vr(h[g],m[g])))return!1;return!0}(i,e);default:return Ve()}}function Va(i,e){return(i.values||[]).find(n=>Vr(n,e))!==void 0}function wo(i,e){if(i===e)return 0;const n=Ss(i),s=Ss(e);if(n!==s)return tt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=Ct(c.integerValue||c.doubleValue),g=Ct(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Ym(i.timestampValue,e.timestampValue);case 4:return Ym(Da(i),Da(e));case 5:return tt(i.stringValue,e.stringValue);case 6:return function(c,h){const m=Ts(c),g=Ts(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=tt(m[_],g[_]);if(E!==0)return E}return tt(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=tt(Ct(c.latitude),Ct(h.latitude));return m!==0?m:tt(Ct(c.longitude),Ct(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Xm(i.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,_,E;const R=c.fields||{},P=h.fields||{},U=(m=R.value)===null||m===void 0?void 0:m.arrayValue,q=(g=P.value)===null||g===void 0?void 0:g.arrayValue,$=tt(((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0,((E=q==null?void 0:q.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Xm(U,q)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===ou.mapValue&&h===ou.mapValue)return 0;if(c===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let R=0;R<g.length&&R<E.length;++R){const P=tt(g[R],E[R]);if(P!==0)return P;const U=wo(m[g[R]],_[E[R]]);if(U!==0)return U}return tt(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Ve()}}function Ym(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return tt(i,e);const n=zi(i),s=zi(e),a=tt(n.seconds,s.seconds);return a!==0?a:tt(n.nanos,s.nanos)}function Xm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=wo(n[a],s[a]);if(c)return c}return tt(n.length,s.length)}function To(i){return Uh(i)}function Uh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=zi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ts(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Uh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Uh(n.fields[h])}`;return a+"}"}(i.mapValue):Ve()}function zh(i){return!!i&&"integerValue"in i}function pf(i){return!!i&&"arrayValue"in i}function Jm(i){return!!i&&"nullValue"in i}function Zm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cu(i){return!!i&&"mapValue"in i}function xS(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ko(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=wa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function DS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(n)}setAll(e){let n=Xt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=wa(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];cu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ko(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Qn(wa(this.value))}}function gy(i){const e=[];return ko(i.fields,(n,s)=>{const a=new Xt([n]);if(cu(s)){const c=gy(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Me.min(),Me.min(),Me.min(),Qn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Me.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Me.min(),Me.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Me.min(),Me.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function eg(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=Ae.comparator(Ae.fromName(h.referenceValue),n.key):s=wo(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function tg(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function NS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{}class Ft extends yy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new MS(e,n,s):n==="array-contains"?new FS(e,s):n==="in"?new bS(e,s):n==="not-in"?new jS(e,s):n==="array-contains-any"?new BS(e,s):new Ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LS(e,s):new OS(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends yy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mr(e,n)}matches(e){return _y(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _y(i){return i.op==="and"}function vy(i){return VS(i)&&_y(i)}function VS(i){for(const e of i.filters)if(e instanceof Mr)return!1;return!0}function $h(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+To(i.value);if(vy(i))return i.filters.map(e=>$h(e)).join(",");{const e=i.filters.map(n=>$h(n)).join(",");return`${i.op}(${e})`}}function Ey(i,e){return i instanceof Ft?function(s,a){return a instanceof Ft&&s.op===a.op&&s.field.isEqual(a.field)&&Vr(s.value,a.value)}(i,e):i instanceof Mr?function(s,a){return a instanceof Mr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&Ey(h,a.filters[m]),!0):!1}(i,e):void Ve()}function wy(i){return i instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(i):i instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(wy).join(" ,")+"}"}(i):"Filter"}class MS extends Ft{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class LS extends Ft{constructor(e,n){super(e,"in",n),this.keys=Ty("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OS extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=Ty("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ty(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class FS extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pf(n)&&Va(n.arrayValue,this.value)}}class bS extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Va(this.value.arrayValue,n)}}class jS extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Va(this.value.arrayValue,n)}}class BS extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Va(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.ue=null}}function ng(i,e=null,n=[],s=[],a=null,c=null,h=null){return new US(i,e,n,s,a,c,h)}function mf(i){const e=Le(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>$h(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),xu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>To(s)).join(",")),e.ue=n}return e.ue}function gf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!NS(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ey(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tg(i.startAt,e.startAt)&&tg(i.endAt,e.endAt)}function Hh(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zS(i,e,n,s,a,c,h,m){return new Du(i,e,n,s,a,c,h,m)}function Sy(i){return new Du(i)}function rg(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $S(i){return i.collectionGroup!==null}function Ta(i){const e=Le(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Jt(Xt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new wu(c,s))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new wu(Xt.keyField(),s))}return e.ce}function xr(i){const e=Le(i);return e.le||(e.le=HS(e,Ta(i))),e.le}function HS(i,e){if(i.limitType==="F")return ng(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new wu(a.field,c)});const n=i.endAt?new Eu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Eu(i.startAt.position,i.startAt.inclusive):null;return ng(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wh(i,e,n){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Nu(i,e){return gf(xr(i),xr(e))&&i.limitType===e.limitType}function Iy(i){return`${mf(xr(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>wy(a)).join(", ")}]`),xu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>To(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>To(a)).join(",")),`Target(${s})`}(xr(i))}; limitType=${i.limitType})`}function Vu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ae.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Ta(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const _=eg(h,m,g);return h.inclusive?_<=0:_<0}(s.startAt,Ta(s),a)||s.endAt&&!function(h,m,g){const _=eg(h,m,g);return h.inclusive?_>=0:_>0}(s.endAt,Ta(s),a))}(i,e)}function WS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ry(i){return(e,n)=>{let s=!1;for(const a of Ta(i)){const c=qS(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function qS(i,e,n){const s=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),_=m.data.field(c);return g!==null&&_!==null?wo(g,_):Ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return py(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new _t(Ae.comparator);function ri(){return KS}const Ay=new _t(Ae.comparator);function _a(...i){let e=Ay;for(const n of i)e=e.insert(n.key,n);return e}function Cy(i){let e=Ay;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _s(){return Sa()}function Py(){return Sa()}function Sa(){return new xo(i=>i.toString(),(i,e)=>i.isEqual(e))}const QS=new _t(Ae.comparator),GS=new Jt(Ae.comparator);function He(...i){let e=GS;for(const n of i)e=e.add(n);return e}const YS=new Jt(tt);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function ky(i){return{integerValue:""+i}}function JS(i,e){return CS(e)?ky(e):yf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this._=void 0}}function ZS(i,e,n){return i instanceof Tu?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&ff(c)&&(c=df(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(n,e):i instanceof Ma?Dy(i,e):i instanceof La?Ny(i,e):function(a,c){const h=xy(a,c),m=ig(h)+ig(a.Pe);return zh(h)&&zh(a.Pe)?ky(m):yf(a.serializer,m)}(i,e)}function eI(i,e,n){return i instanceof Ma?Dy(i,e):i instanceof La?Ny(i,e):n}function xy(i,e){return i instanceof Su?function(s){return zh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Tu extends Mu{}class Ma extends Mu{constructor(e){super(),this.elements=e}}function Dy(i,e){const n=Vy(e);for(const s of i.elements)n.some(a=>Vr(a,s))||n.push(s);return{arrayValue:{values:n}}}class La extends Mu{constructor(e){super(),this.elements=e}}function Ny(i,e){let n=Vy(e);for(const s of i.elements)n=n.filter(a=>!Vr(a,s));return{arrayValue:{values:n}}}class Su extends Mu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ig(i){return Ct(i.integerValue||i.doubleValue)}function Vy(i){return pf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function tI(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Ma&&a instanceof Ma||s instanceof La&&a instanceof La?Eo(s.elements,a.elements,Vr):s instanceof Su&&a instanceof Su?Vr(s.Pe,a.Pe):s instanceof Tu&&a instanceof Tu}(i.transform,e.transform)}class nI{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Lu{}function My(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new _f(i.key,Dr.none()):new Ba(i.key,i.data,Dr.none());{const n=i.data,s=Qn.empty();let a=new Jt(Xt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Ps(i.key,s,new dr(a.toArray()),Dr.none())}}function rI(i,e,n){i instanceof Ba?function(a,c,h){const m=a.value.clone(),g=og(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ps?function(a,c,h){if(!hu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=og(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Ly(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Ia(i,e,n,s){return i instanceof Ba?function(c,h,m,g){if(!hu(c.precondition,h))return m;const _=c.value.clone(),E=ag(c.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ps?function(c,h,m,g){if(!hu(c.precondition,h))return m;const _=ag(c.fieldTransforms,g,h),E=h.data;return E.setAll(Ly(c)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,h,m){return hu(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function iI(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=xy(s.transform,a||null);c!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,c))}return n||null}function sg(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Eo(s,a,(c,h)=>tI(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ba extends Lu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ps extends Lu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ly(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function og(i,e,n){const s=new Map;st(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,eI(h,m,n[a]))}return s}function ag(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,ZS(c,h,e))}return s}class _f extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sI extends Lu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&rI(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ia(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ia(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Py();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=My(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Me.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,s)=>sg(n,s))&&Eo(this.baseMutations,e.baseMutations,(n,s)=>sg(n,s))}}class vf{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){st(e.mutations.length===s.length);let a=function(){return QS}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new vf(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Qe;function uI(i){switch(i){default:return Ve();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function Oy(i){if(i===void 0)return ni("GRPC error has no .code"),Z.UNKNOWN;switch(i){case xt.OK:return Z.OK;case xt.CANCELLED:return Z.CANCELLED;case xt.UNKNOWN:return Z.UNKNOWN;case xt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case xt.INTERNAL:return Z.INTERNAL;case xt.UNAVAILABLE:return Z.UNAVAILABLE;case xt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case xt.NOT_FOUND:return Z.NOT_FOUND;case xt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case xt.ABORTED:return Z.ABORTED;case xt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case xt.DATA_LOSS:return Z.DATA_LOSS;default:return Ve()}}(Qe=xt||(xt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new vs([4294967295,4294967295],0);function lg(i){const e=cI().encode(i),n=new oy;return n.update(e),new Uint8Array(n.digest())}function ug(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vs([n,s],0),new vs([a,c],0)]}class Ef{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new va(`Invalid padding: ${n}`);if(s<0)throw new va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new va(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new va(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vs.fromNumber(this.Ie)}Ee(e,n,s){let a=e.add(n.multiply(vs.fromNumber(s)));return a.compare(hI)===1&&(a=new vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lg(e),[s,a]=ug(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Ef(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const n=lg(e),[s,a]=ug(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ou(Me.min(),a,new _t(tt),ri(),He())}}class Ua{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ua(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Fy{constructor(e,n){this.targetId=e,this.me=n}}class by{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cg{constructor(){this.fe=0,this.ge=fg(),this.pe=Zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=He(),n=He(),s=He();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ve()}}),new Ua(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=fg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fI{constructor(e){this.Le=e,this.Be=new Map,this.ke=ri(),this.qe=hg(),this.Qe=new _t(tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,s=e.me.count,a=this.Je(n);if(a){const c=a.target;if(Hh(c))if(s===0){const h=new Ae(c.path);this.Ue(n,h,un.newNoDocument(h,Me.min()))}else st(s===1);else{const h=this.Ye(n);if(h!==s){const m=this.Ze(e),g=m?this.Xe(m,e,h):1;if(g!==0){this.je(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=Ts(s).toUint8Array()}catch(g){if(g instanceof my)return vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ef(h,a,c)}catch(g){return vo(g instanceof va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,c,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((c,h)=>{const m=this.Je(h);if(m){if(c.current&&Hh(m.target)){const g=new Ae(m.target.path);this.ke.get(g)!==null||this.it(h,g)||this.Ue(h,g,un.newNoDocument(g,e))}c.be&&(n.set(h,c.ve()),c.Ce())}});let s=He();this.qe.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.Je(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const a=new Ou(e,n,this.Qe,this.ke,s);return this.ke=ri(),this.qe=hg(),this.Qe=new _t(tt),a}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hg(){return new _t(Ae.comparator)}function fg(){return new _t(Ae.comparator)}const dI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mI={and:"AND",or:"OR"};class gI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qh(i,e){return i.useProto3Json||xu(e)?e:{value:e}}function Iu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jy(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function yI(i,e){return Iu(i,e.toTimestamp())}function Nr(i){return st(!!i),Me.fromTimestamp(function(n){const s=zi(n);return new bt(s.seconds,s.nanos)}(i))}function wf(i,e){return Kh(i,e).canonicalString()}function Kh(i,e){const n=function(a){return new pt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function By(i){const e=pt.fromString(i);return st(Wy(e)),e}function Qh(i,e){return wf(i.databaseId,e.path)}function Ah(i,e){const n=By(e);if(n.get(1)!==i.databaseId.projectId)throw new Te(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Te(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(zy(n))}function Uy(i,e){return wf(i.databaseId,e)}function _I(i){const e=By(i);return e.length===4?pt.emptyPath():zy(e)}function Gh(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zy(i){return st(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function dg(i,e,n){return{name:Qh(i,e),fields:n.value.mapValue.fields}}function vI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?(st(E===void 0||typeof E=="string"),Zt.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?Z.UNKNOWN:Oy(_.code);return new Te(E,_.message||"")}(h);n=new by(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ah(i,s.document.name),c=Nr(s.document.updateTime),h=s.document.createTime?Nr(s.document.createTime):Me.min(),m=new Qn({mapValue:{fields:s.document.fields}}),g=un.newFoundDocument(a,c,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new fu(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ah(i,s.document),c=s.readTime?Nr(s.readTime):Me.min(),h=un.newNoDocument(a,c),m=s.removedTargetIds||[];n=new fu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ah(i,s.document),c=s.removedTargetIds||[];n=new fu([],c,a,null)}else{if(!("filter"in e))return Ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new lI(a,c),m=s.targetId;n=new Fy(m,h)}}return n}function EI(i,e){let n;if(e instanceof Ba)n={update:dg(i,e.key,e.value)};else if(e instanceof _f)n={delete:Qh(i,e.key)};else if(e instanceof Ps)n={update:dg(i,e.key,e.data),updateMask:kI(e.fieldMask)};else{if(!(e instanceof sI))return Ve();n={verify:Qh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ma)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof La)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Su)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:yI(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ve()}(i,e.precondition)),n}function wI(i,e){return i&&i.length>0?(st(e!==void 0),i.map(n=>function(a,c){let h=a.updateTime?Nr(a.updateTime):Nr(c);return h.isEqual(Me.min())&&(h=Nr(c)),new nI(h,a.transformResults||[])}(n,e))):[]}function TI(i,e){return{documents:[Uy(i,e.path)]}}function SI(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Uy(i,a);const c=function(_){if(_.length!==0)return Hy(Mr.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(_){if(_.length!==0)return _.map(E=>function(P){return{field:ho(P.field),direction:AI(P.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=qh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:a}}function II(i){let e=_I(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){st(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(R){const P=$y(R);return P instanceof Mr&&vy(P)?P.getFilters():[P]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(P=>function(q){return new wu(fo(q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(P))}(n.orderBy));let m=null;n.limit&&(m=function(R){let P;return P=typeof R=="object"?R.value:R,xu(P)?null:P}(n.limit));let g=null;n.startAt&&(g=function(R){const P=!!R.before,U=R.values||[];return new Eu(U,P)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const P=!R.before,U=R.values||[];return new Eu(U,P)}(n.endAt)),zS(e,a,h,c,m,"F",g,_)}function RI(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $y(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fo(n.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fo(n.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return Ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(i):i.fieldFilter!==void 0?function(n){return Ft.create(fo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(s=>$y(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(i):Ve()}function AI(i){return dI[i]}function CI(i){return pI[i]}function PI(i){return mI[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Xt.fromServerFormat(i.fieldPath)}function Hy(i){return i instanceof Ft?function(n){if(n.op==="=="){if(Zm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(Jm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(Jm(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:CI(n.op),value:n.value}}}(i):i instanceof Mr?function(n){const s=n.getFilters().map(a=>Hy(a));return s.length===1?s[0]:{compositeFilter:{op:PI(n.op),filters:s}}}(i):Ve()}function kI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,s,a,c=Me.min(),h=Me.min(),m=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.ct=e}}function DI(i){const e=II({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.un=new VI}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Ui.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class VI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Jt(pt.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changes=new xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Ia(s.mutation,a,dr.empty(),bt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const a=_s();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=_a();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=_s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=ri();const h=Sa(),m=function(){return Sa()}();return n.forEach((g,_)=>{const E=s.get(_.key);a.has(_.key)&&(E===void 0||E.mutation instanceof Ps)?c=c.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Ia(E.mutation,_,E.mutation.getFieldMask(),bt.now())):h.set(_.key,dr.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,E)=>h.set(_,E)),n.forEach((_,E)=>{var R;return m.set(_,new LI(E,(R=h.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Sa();let a=new _t((h,m)=>h-m),c=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let E=s.get(g)||dr.empty();E=m.applyToLocalView(_,E),s.set(g,E);const R=(a.get(m.batchId)||He()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,R=Py();E.forEach(P=>{if(!c.has(P)){const U=My(n.get(P),s.get(P));U!==null&&R.set(P,U),c=c.add(P)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,R))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return Ae.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):J.resolve(_s());let m=-1,g=c;return h.next(_=>J.forEach(_,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(P=>{g=g.insert(E,P)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,He())).next(E=>({batchId:m,changes:Cy(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let a=_a();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=_a();return this.indexManager.getCollectionParents(e,c).next(m=>J.forEach(m,g=>{const _=function(R,P){return new Du(P,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(E=>{E.forEach((R,P)=>{h=h.insert(R,P)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,un.newInvalidDocument(E)))});let m=_a();return h.forEach((g,_)=>{const E=c.get(g);E!==void 0&&Ia(E.mutation,_,dr.empty(),bt.now()),Vu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Nr(a.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:DI(a.bundledQuery),readTime:Nr(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.overlays=new _t(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_s();return J.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.ht(e,n,c)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const a=_s(),c=n.length+1,h=new Ae(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return J.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new _t((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=c.get(_.largestBatchId);E===null&&(E=_s(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=_s(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=a)););return J.resolve(m)}ht(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new aI(n,s));let c=this.Ir.get(n);c===void 0&&(c=He(),this.Ir.set(n,c)),this.Ir.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this.Tr=new Jt(Wt.Er),this.dr=new Jt(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new Ae(new pt([])),s=new Wt(n,e),a=new Wt(n,e+1),c=[];return this.dr.forEachInRange([s,a],h=>{this.Vr(h),c.push(h.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new pt([])),s=new Wt(n,e),a=new Wt(n,e+1);let c=He();return this.dr.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new Wt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||tt(e.wr,n.wr)}static Ar(e,n){return tt(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(Wt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new oI(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.br=this.br.add(new Wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.vr(s),c=a<0?0:a;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([s,a],h=>{const m=this.Dr(h.wr);c.push(m)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Jt(tt);return n.forEach(a=>{const c=new Wt(a,0),h=new Wt(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,h],m=>{s=s.add(m.wr)})}),J.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;Ae.isDocumentKey(c)||(c=c.child(""));const h=new Wt(new Ae(c),0);let m=new Jt(tt);return this.br.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.wr)),!0)},h),J.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(s=>{const a=this.Dr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){st(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return J.forEach(n.mutations,a=>{const c=new Wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new Wt(n,0),a=this.br.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Mr=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=ri();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():un.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=ri();const h=n.path,m=new Ae(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||SS(TS(E),s)<=0||(a.has(E.key)||Vu(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ve()}Or(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new zI(this)}getSize(e){return J.resolve(this.size)}}class zI extends MI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.persistence=e,this.Nr=new xo(n=>mf(n),gf),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tf,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),J.waitFor(c).next(()=>a)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hf(0),this.Kr=!1,this.Kr=!0,this.$r=new jI,this.referenceDelegate=e(this),this.Ur=new $I(this),this.indexManager=new NI,this.remoteDocumentCache=function(a){return new UI(a)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new xI(n),this.Gr=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new BI(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const a=new WI(this.Qr.next());return this.referenceDelegate.zr(),s(a).next(c=>this.referenceDelegate.jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Hr(e,n){return J.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class WI extends RS{constructor(e){super(),this.currentSequenceNumber=e}}class Sf{constructor(e){this.persistence=e,this.Jr=new Tf,this.Yr=null}static Zr(e){return new Sf(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.Xr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,s=>{const a=Ae.fromPath(s);return this.ei(e,a).next(c=>{c||n.removeEntry(a,Me.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=a}static Wi(e,n){let s=He(),a=He();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new If(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YT()?8:AS(QT())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Yi(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Zi(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new qI;return this.Xi(e,n,h).next(m=>{if(c.result=m,this.zi)return this.es(e,n,h,m.size)})}).next(()=>c.result)}es(e,n,s,a){return s.documentReadCount<this.ji?(ga()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(ga()<=Xe.DEBUG&&ge("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(ga()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):J.resolve())}Yi(e,n){if(rg(n))return J.resolve(null);let s=xr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Wh(n,null,"F"),s=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=He(...c);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.ts(n,m);return this.ns(n,_,h,g.readTime)?this.Yi(e,Wh(n,null,"F")):this.rs(e,_,n,g)}))})))}Zi(e,n,s,a){return rg(n)||a.isEqual(Me.min())?J.resolve(null):this.Ji.getDocuments(e,s).next(c=>{const h=this.ts(n,c);return this.ns(n,h,s,a)?J.resolve(null):(ga()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),co(n)),this.rs(e,h,n,wS(a,-1)).next(m=>m))})}ts(e,n){let s=new Jt(Ry(e));return n.forEach((a,c)=>{Vu(e,c)&&(s=s.add(c))}),s}ns(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Xi(e,n,s){return ga()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",co(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ui.min(),s)}rs(e,n,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,s,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new _t(tt),this._s=new xo(c=>mf(c),gf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GI(i,e,n,s){return new QI(i,e,n,s)}async function qy(i,e){const n=Le(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=He();for(const _ of a){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of c){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(_=>({hs:_,removedBatchIds:h,addedBatchIds:m}))})})}function YI(i,e){const n=Le(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,E){const R=_.batch,P=R.keys();let U=J.resolve();return P.forEach(q=>{U=U.next(()=>E.getEntry(g,q)).next($=>{const F=_.docVersions.get(q);st(F!==null),$.version.compareTo(F)<0&&(R.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),E.addEntry($)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=He();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Ky(i){const e=Le(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function XI(i,e){const n=Le(i),s=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const m=[];e.targetChanges.forEach((E,R)=>{const P=a.get(R);if(!P)return;m.push(n.Ur.removeMatchingKeys(c,E.removedDocuments,R).next(()=>n.Ur.addMatchingKeys(c,E.addedDocuments,R)));let U=P.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?U=U.withResumeToken(Zt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),a=a.insert(R,U),function($,F,ee){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(P,U,E)&&m.push(n.Ur.updateTargetData(c,U))});let g=ri(),_=He();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(JI(c,h,e.documentUpdates).next(E=>{g=E.Ps,_=E.Is})),!s.isEqual(Me.min())){const E=n.Ur.getLastRemoteSnapshotVersion(c).next(R=>n.Ur.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.os=a,c))}function JI(i,e,n){let s=He(),a=He();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=ri();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ge("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Ps:h,Is:a}})}function ZI(i,e){const n=Le(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eR(i,e){const n=Le(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ur.getTargetData(s,e).next(c=>c?(a=c,J.resolve(a)):n.Ur.allocateTargetId(s).next(h=>(a=new Oi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function Yh(i,e,n){const s=Le(i),a=s.os.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!ja(h))throw h;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function pg(i,e,n){const s=Le(i);let a=Me.min(),c=He();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,E){const R=Le(g),P=R._s.get(E);return P!==void 0?J.resolve(R.os.get(P)):R.Ur.getTargetData(_,E)}(s,h,xr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,n?a:Me.min(),n?c:He())).next(m=>(tR(s,WS(e),m),{documents:m,Ts:c})))}function tR(i,e,n){let s=i.us.get(e)||Me.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.us.set(e,s)}class mg{constructor(){this.activeTargetIds=XS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nR{constructor(){this.so=new mg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function Ch(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class oR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${a}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get Fo(){return!1}Mo(n,s,a,c,h){const m=Ch(),g=this.xo(n,s.toUriEncodedString());ge("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,c,h),this.No(n,g,_,a).then(E=>(ge("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw vo("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",g,"request:",a),E})}Lo(n,s,a,c,h,m){return this.Mo(n,s,a,c,h)}Oo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,h)=>n[h]=c),a&&a.headers.forEach((c,h)=>n[h]=c)}xo(n,s){const a=iR[n];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,a){const c=Ch();return new Promise((h,m)=>{const g=new ay;g.setWithCredentials(!0),g.listenOnce(ly.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uu.NO_ERROR:const E=g.getResponseJson();ge(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),h(E);break;case uu.TIMEOUT:ge(an,`RPC '${e}' ${c} timed out`),m(new Te(Z.DEADLINE_EXCEEDED,"Request time out"));break;case uu.HTTP_ERROR:const R=g.getStatus();if(ge(an,`RPC '${e}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P==null?void 0:P.error;if(U&&U.status&&U.message){const q=function(F){const ee=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ee)>=0?ee:Z.UNKNOWN}(U.status);m(new Te(q,U.message))}else m(new Te(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Te(Z.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{ge(an,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ge(an,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}Bo(e,n,s){const a=Ch(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=hy(),m=cy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ge(an,`Creating RPC '${e}' stream ${a}: ${E}`,g);const R=h.createWebChannel(E,g);let P=!1,U=!1;const q=new sR({Io:F=>{U?ge(an,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(P||(ge(an,`Opening RPC '${e}' stream ${a} transport.`),R.open(),P=!0),ge(an,`RPC '${e}' stream ${a} sending:`,F),R.send(F))},To:()=>R.close()}),$=(F,ee,ae)=>{F.listen(ee,le=>{try{ae(le)}catch(we){setTimeout(()=>{throw we},0)}})};return $(R,ya.EventType.OPEN,()=>{U||(ge(an,`RPC '${e}' stream ${a} transport opened.`),q.yo())}),$(R,ya.EventType.CLOSE,()=>{U||(U=!0,ge(an,`RPC '${e}' stream ${a} transport closed`),q.So())}),$(R,ya.EventType.ERROR,F=>{U||(U=!0,vo(an,`RPC '${e}' stream ${a} transport errored:`,F),q.So(new Te(Z.UNAVAILABLE,"The operation could not be completed")))}),$(R,ya.EventType.MESSAGE,F=>{var ee;if(!U){const ae=F.data[0];st(!!ae);const le=ae,we=le.error||((ee=le[0])===null||ee===void 0?void 0:ee.error);if(we){ge(an,`RPC '${e}' stream ${a} received error:`,we);const je=we.status;let z=function(S){const D=xt[S];if(D!==void 0)return Oy(D)}(je),C=we.message;z===void 0&&(z=Z.INTERNAL,C="Unknown error status: "+je+" with message "+we.message),U=!0,q.So(new Te(z,C)),R.close()}else ge(an,`RPC '${e}' stream ${a} received:`,ae),q.bo(ae)}}),$(m,uy.STAT_EVENT,F=>{F.stat===Bh.PROXY?ge(an,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===Bh.NOPROXY&&ge(an,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{q.wo()},0),q}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(i){return new gI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,s=1e3,a=1.5,c=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=a,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-s);a>0&&ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,s,a,c,h,m,g){this.ui=e,this.Ho=s,this.Jo=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qy(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Yo===n&&this.P_(s,a)},s=>{e(()=>{const a=new Te(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{s(()=>this.I_(a))}),this.stream.onMessage(a=>{s(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aR extends Gy{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vI(this.serializer,e),s=function(c){if(!("targetChange"in c))return Me.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Me.min():h.readTime?Nr(h.readTime):Me.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=Gh(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=Hh(g)?{documents:TI(c,g)}:{query:SI(c,g)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=jy(c,h.resumeToken);const _=qh(c,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Me.min())>0){m.readTime=Iu(c,h.snapshotVersion.toTimestamp());const _=qh(c,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=RI(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.a_(n)}}class lR extends Gy{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wI(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=Gh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>EI(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Te(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Mo(e,Kh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(Z.UNKNOWN,c.toString())})}Lo(e,n,s,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,Kh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Te(Z.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ni(n),this.D_=!1):ge("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(h=>{s.enqueueAndForget(async()=>{ks(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Le(g);_.L_.add(4),await za(_),_.q_.set("Unknown"),_.L_.delete(4),await bu(_)}(this))})}),this.q_=new cR(s,a)}}async function bu(i){if(ks(i))for(const e of i.B_)await e(!0)}async function za(i){for(const e of i.B_)await e(!1)}function Yy(i,e){const n=Le(i);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pf(n)?Cf(n):Do(n).r_()&&Af(n,e))}function Rf(i,e){const n=Le(i),s=Do(n);n.N_.delete(e),s.r_()&&Xy(n,e),n.N_.size===0&&(s.r_()?s.o_():ks(n)&&n.q_.set("Unknown"))}function Af(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).A_(e)}function Xy(i,e){i.Q_.xe(e),Do(i).R_(e)}function Cf(i){i.Q_=new fI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.q_.v_()}function Pf(i){return ks(i)&&!Do(i).n_()&&i.N_.size>0}function ks(i){return Le(i).L_.size===0}function Jy(i){i.Q_=void 0}async function fR(i){i.q_.set("Online")}async function dR(i){i.N_.forEach((e,n)=>{Af(i,e)})}async function pR(i,e){Jy(i),Pf(i)?(i.q_.M_(e),Cf(i)):i.q_.set("Unknown")}async function mR(i,e,n){if(i.q_.set("Online"),e instanceof by&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.N_.delete(m),a.Q_.removeTarget(m))}(i,e)}catch(s){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ru(i,s)}else if(e instanceof fu?i.Q_.Ke(e):e instanceof Fy?i.Q_.He(e):i.Q_.We(e),!n.isEqual(Me.min()))try{const s=await Ky(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.Q_.rt(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.N_.get(_);E&&c.N_.set(_,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const E=c.N_.get(g);if(!E)return;c.N_.set(g,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),Xy(c,g);const R=new Oi(E.target,g,_,E.sequenceNumber);Af(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ge("RemoteStore","Failed to raise snapshot:",s),await Ru(i,s)}}async function Ru(i,e,n){if(!ja(e))throw e;i.L_.add(1),await za(i),i.q_.set("Offline"),n||(n=()=>Ky(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),i.L_.delete(1),await bu(i)})}function Zy(i,e){return e().catch(n=>Ru(i,n,e))}async function ju(i){const e=Le(i),n=$i(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gR(e);)try{const a=await ZI(e.localStore,s);if(a===null){e.O_.length===0&&n.o_();break}s=a.batchId,yR(e,a)}catch(a){await Ru(e,a)}e_(e)&&t_(e)}function gR(i){return ks(i)&&i.O_.length<10}function yR(i,e){i.O_.push(e);const n=$i(i);n.r_()&&n.V_&&n.m_(e.mutations)}function e_(i){return ks(i)&&!$i(i).n_()&&i.O_.length>0}function t_(i){$i(i).start()}async function _R(i){$i(i).p_()}async function vR(i){const e=$i(i);for(const n of i.O_)e.m_(n.mutations)}async function ER(i,e,n){const s=i.O_.shift(),a=vf.from(s,e,n);await Zy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await ju(i)}async function wR(i,e){e&&$i(i).V_&&await async function(s,a){if(function(h){return uI(h)&&h!==Z.ABORTED}(a.code)){const c=s.O_.shift();$i(s).s_(),await Zy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await ju(s)}}(i,e),e_(i)&&t_(i)}async function yg(i,e){const n=Le(i);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const s=ks(n);n.L_.add(3),await za(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bu(n)}async function TR(i,e){const n=Le(i);e?(n.L_.delete(2),await bu(n)):e||(n.L_.add(2),await za(n),n.q_.set("Unknown"))}function Do(i){return i.K_||(i.K_=function(n,s,a){const c=Le(n);return c.w_(),new aR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:fR.bind(null,i),Ro:dR.bind(null,i),mo:pR.bind(null,i),d_:mR.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),Pf(i)?Cf(i):i.q_.set("Unknown")):(await i.K_.stop(),Jy(i))})),i.K_}function $i(i){return i.U_||(i.U_=function(n,s,a){const c=Le(n);return c.w_(),new lR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_R.bind(null,i),mo:wR.bind(null,i),f_:vR.bind(null,i),g_:ER.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await ju(i)):(await i.U_.stop(),i.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new kf(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xf(i,e){if(ni("AsyncQueue",`${e}: ${i}`),ja(i))return new Te(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=_a(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new yo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.W_=new _t(Ae.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,a,c,h,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Io(e,n,yo.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class IR{constructor(){this.queries=vg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const a=Le(n),c=a.queries;a.queries=vg(),c.forEach((h,m)=>{for(const g of m.j_)g.onError(s)})})(this,new Te(Z.ABORTED,"Firestore shutting down"))}}function vg(){return new xo(i=>Iy(i),Nu)}async function RR(i,e){const n=Le(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.H_()&&e.J_()&&(s=2):(c=new SR,s=e.J_()?0:1);try{switch(s){case 0:c.z_=await n.onListen(a,!0);break;case 1:c.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=xf(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.j_.push(e),e.Z_(n.onlineState),c.z_&&e.X_(c.z_)&&Df(n)}async function AR(i,e){const n=Le(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.j_.indexOf(e);h>=0&&(c.j_.splice(h,1),c.j_.length===0?a=e.J_()?0:1:!c.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function CR(i,e){const n=Le(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.j_)m.X_(a)&&(s=!0);h.z_=a}}s&&Df(n)}function PR(i,e,n){const s=Le(i),a=s.queries.get(e);if(a)for(const c of a.j_)c.onError(n);s.queries.delete(e)}function Df(i){i.Y_.forEach(e=>{e.next()})}var Xh,Eg;(Eg=Xh||(Xh={})).ea="default",Eg.Cache="cache";class kR{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.key=e}}class r_{constructor(e){this.key=e}}class xR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=He(),this.mutatedKeys=He(),this.Aa=Ry(e),this.Ra=new yo(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new _g,a=n?n.Ra:this.Ra;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,R)=>{const P=a.get(E),U=Vu(this.query,R)?R:null,q=!!P&&this.mutatedKeys.has(P.key),$=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let F=!1;P&&U?P.data.isEqual(U.data)?q!==$&&(s.track({type:3,doc:U}),F=!0):this.ga(P,U)||(s.track({type:2,doc:U}),F=!0,(g&&this.Aa(U,g)>0||_&&this.Aa(U,_)<0)&&(m=!0)):!P&&U?(s.track({type:0,doc:U}),F=!0):P&&!U&&(s.track({type:1,doc:P}),F=!0,(g||_)&&(m=!0)),F&&(U?(h=h.add(U),c=$?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:c}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((E,R)=>function(U,q){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return $(U)-$(q)}(E.type,R.type)||this.Aa(E.doc,R.doc)),this.pa(s),a=a!=null&&a;const m=n&&!a?this.ya():[],g=this.da.size===0&&this.current&&!a?1:0,_=g!==this.Ea;return this.Ea=g,h.length!==0||_?{snapshot:new Io(this.query,e.Ra,c,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _g,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=He(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new r_(s))}),this.da.forEach(s=>{e.has(s)||n.push(new n_(s))}),n}ba(e){this.Ta=e.Ts,this.da=He();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class DR{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class NR{constructor(e){this.key=e,this.va=!1}}class VR{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new xo(m=>Iy(m),Nu),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(Ae.comparator),this.Na=new Map,this.La=new Tf,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MR(i,e,n=!0){const s=u_(i);let a;const c=s.Fa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Da()):a=await i_(s,e,n,!0),a}async function LR(i,e){const n=u_(i);await i_(n,e,!0,!1)}async function i_(i,e,n,s){const a=await eR(i.localStore,xr(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await OR(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Yy(i.remoteStore,a),m}async function OR(i,e,n,s,a){i.Ka=(R,P,U)=>async function($,F,ee,ae){let le=F.view.ma(ee);le.ns&&(le=await pg($.localStore,F.query,!1).then(({documents:C})=>F.view.ma(C,le)));const we=ae&&ae.targetChanges.get(F.targetId),je=ae&&ae.targetMismatches.get(F.targetId)!=null,z=F.view.applyChanges(le,$.isPrimaryClient,we,je);return Tg($,F.targetId,z.wa),z.snapshot}(i,R,P,U);const c=await pg(i.localStore,e,!0),h=new xR(e,c.Ts),m=h.ma(c.documents),g=Ua.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=h.applyChanges(m,i.isPrimaryClient,g);Tg(i,n,_.wa);const E=new DR(e,n,h);return i.Fa.set(e,E),i.Ma.has(n)?i.Ma.get(n).push(e):i.Ma.set(n,[e]),_.snapshot}async function FR(i,e,n){const s=Le(i),a=s.Fa.get(e),c=s.Ma.get(a.targetId);if(c.length>1)return s.Ma.set(a.targetId,c.filter(h=>!Nu(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Yh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Rf(s.remoteStore,a.targetId),Jh(s,a.targetId)}).catch(ba)):(Jh(s,a.targetId),await Yh(s.localStore,a.targetId,!0))}async function bR(i,e){const n=Le(i),s=n.Fa.get(e),a=n.Ma.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rf(n.remoteStore,s.targetId))}async function jR(i,e,n){const s=qR(i);try{const a=await function(h,m){const g=Le(h),_=bt.now(),E=m.reduce((U,q)=>U.add(q.key),He());let R,P;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>{let q=ri(),$=He();return g.cs.getEntries(U,E).next(F=>{q=F,q.forEach((ee,ae)=>{ae.isValidDocument()||($=$.add(ee))})}).next(()=>g.localDocuments.getOverlayedDocuments(U,q)).next(F=>{R=F;const ee=[];for(const ae of m){const le=iI(ae,R.get(ae.key).overlayedDocument);le!=null&&ee.push(new Ps(ae.key,le,gy(le.value.mapValue),Dr.exists(!0)))}return g.mutationQueue.addMutationBatch(U,_,ee,m)}).next(F=>{P=F;const ee=F.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(U,F.batchId,ee)})}).then(()=>({batchId:P.batchId,changes:Cy(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let _=h.Ba[h.currentUser.toKey()];_||(_=new _t(tt)),_=_.insert(m,g),h.Ba[h.currentUser.toKey()]=_}(s,a.batchId,n),await $a(s,a.changes),await ju(s.remoteStore)}catch(a){const c=xf(a,"Failed to persist write");n.reject(c)}}async function s_(i,e){const n=Le(i);try{const s=await XI(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n.Na.get(c);h&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.va=!0:a.modifiedDocuments.size>0?st(h.va):a.removedDocuments.size>0&&(st(h.va),h.va=!1))}),await $a(n,s,e)}catch(s){await ba(s)}}function wg(i,e,n){const s=Le(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Fa.forEach((c,h)=>{const m=h.view.Z_(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Le(h);g.onlineState=m;let _=!1;g.queries.forEach((E,R)=>{for(const P of R.j_)P.Z_(m)&&(_=!0)}),_&&Df(g)}(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BR(i,e,n){const s=Le(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Na.get(e),c=a&&a.key;if(c){let h=new _t(Ae.comparator);h=h.insert(c,un.newNoDocument(c,Me.min()));const m=He().add(c),g=new Ou(Me.min(),new Map,new _t(tt),h,m);await s_(s,g),s.Oa=s.Oa.remove(c),s.Na.delete(e),Nf(s)}else await Yh(s.localStore,e,!1).then(()=>Jh(s,e,n)).catch(ba)}async function UR(i,e){const n=Le(i),s=e.batch.batchId;try{const a=await YI(n.localStore,e);a_(n,s,null),o_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $a(n,a)}catch(a){await ba(a)}}async function zR(i,e,n){const s=Le(i);try{const a=await function(h,m){const g=Le(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next(R=>(st(R!==null),E=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);a_(s,e,n),o_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await $a(s,a)}catch(a){await ba(a)}}function o_(i,e){(i.ka.get(e)||[]).forEach(n=>{n.resolve()}),i.ka.delete(e)}function a_(i,e,n){const s=Le(i);let a=s.Ba[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Ba[s.currentUser.toKey()]=a}}function Jh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),n&&i.Ca.$a(s,n);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||l_(i,s)})}function l_(i,e){i.xa.delete(e.path.canonicalString());const n=i.Oa.get(e);n!==null&&(Rf(i.remoteStore,n),i.Oa=i.Oa.remove(e),i.Na.delete(n),Nf(i))}function Tg(i,e,n){for(const s of n)s instanceof n_?(i.La.addReference(s.key,e),$R(i,s)):s instanceof r_?(ge("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||l_(i,s.key)):Ve()}function $R(i,e){const n=e.key,s=n.path.canonicalString();i.Oa.get(n)||i.xa.has(s)||(ge("SyncEngine","New document in limbo: "+n),i.xa.add(s),Nf(i))}function Nf(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const n=new Ae(pt.fromString(e)),s=i.qa.next();i.Na.set(s,new NR(n)),i.Oa=i.Oa.insert(n,s),Yy(i.remoteStore,new Oi(xr(Sy(n.path)),s,"TargetPurposeLimboResolution",hf.oe))}}async function $a(i,e,n){const s=Le(i),a=[],c=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,g)=>{h.push(s.Ka(g,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){a.push(_);const R=If.Wi(g.targetId,_);c.push(R)}}))}),await Promise.all(h),s.Ca.d_(a),await async function(g,_){const E=Le(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>J.forEach(_,P=>J.forEach(P.$i,U=>E.persistence.referenceDelegate.addReference(R,P.targetId,U)).next(()=>J.forEach(P.Ui,U=>E.persistence.referenceDelegate.removeReference(R,P.targetId,U)))))}catch(R){if(!ja(R))throw R;ge("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const P=R.targetId;if(!R.fromCache){const U=E.os.get(P),q=U.snapshotVersion,$=U.withLastLimboFreeSnapshotVersion(q);E.os=E.os.insert(P,$)}}}(s.localStore,c))}async function HR(i,e){const n=Le(i);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const s=await qy(n.localStore,e);n.currentUser=e,function(c,h){c.ka.forEach(m=>{m.forEach(g=>{g.reject(new Te(Z.CANCELLED,h))})}),c.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $a(n,s.hs)}}function WR(i,e){const n=Le(i),s=n.Na.get(e);if(s&&s.va)return He().add(s.key);{let a=He();const c=n.Ma.get(e);if(!c)return a;for(const h of c){const m=n.Fa.get(h);a=a.unionWith(m.view.Va)}return a}}function u_(i){const e=Le(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=s_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BR.bind(null,e),e.Ca.d_=CR.bind(null,e.eventManager),e.Ca.$a=PR.bind(null,e.eventManager),e}function qR(i){const e=Le(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GI(this.persistence,new KI,e.initialUser,this.serializer)}Ga(e){return new HI(Sf.Zr,this.serializer)}Wa(e){return new nR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class Zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HR.bind(null,this.syncEngine),await TR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IR}()}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),s=function(c){return new oR(c)}(e.databaseInfo);return function(c,h,m,g){return new uR(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new hR(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>wg(this.syncEngine,n,0),function(){return gg.D()?new gg:new rR}())}createSyncEngine(e,n){return function(a,c,h,m,g,_,E){const R=new VR(a,c,h,m,g,_);return E&&(R.Qa=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Le(a);ge("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await za(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zh.provider={build:()=>new Zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{ge("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function kh(i,e){i.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await qy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Sg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await GR(i);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>yg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>yg(e.remoteStore,a)),i._onlineComponents=e}async function GR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await kh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await kh(i,new Au)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await kh(i,new Au);return i._offlineComponents}async function c_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await Sg(i,i._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await Sg(i,new Zh))),i._onlineComponents}function YR(i){return c_(i).then(e=>e.syncEngine)}async function XR(i){const e=await c_(i),n=e.eventManager;return n.onListen=MR.bind(null,e.syncEngine),n.onUnlisten=FR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bR.bind(null,e.syncEngine),n}function JR(i,e,n={}){const s=new ji;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,_){const E=new KR({next:P=>{E.Za(),h.enqueueAndForget(()=>AR(c,R)),P.fromCache&&g.source==="server"?_.reject(new Te(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),R=new kR(m,E,{includeMetadataChanges:!0,_a:!0});return RR(c,R)}(await XR(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(i,e,n){if(!n)throw new Te(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZR(i,e,n,s){if(e===!0&&s===!0)throw new Te(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rg(i){if(!Ae.isDocumentKey(i))throw new Te(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ag(i){if(Ae.isDocumentKey(i))throw new Te(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ve()}function Oa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Te(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vf(i);throw new Te(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Te(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Te(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Te(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fS;switch(s.type){case"firstParty":return new gS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ig.get(n);s&&(ge("ComponentProvider","Removing Datastore"),Ig.delete(n),s.terminate())}(this),Promise.resolve()}}function e1(i,e,n,s={}){var a;const c=(i=Oa(i,Bu))._getSettings(),h=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==h&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ln.MOCK_USER;else{m=KT(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new Te(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ln(_)}i._authCredentials=new dS(new fy(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uu(this.firestore,e,this._query)}}class pr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class Bi extends Uu{constructor(e,n,s){super(e,n,Sy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new Ae(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function d_(i,e,...n){if(i=Ca(i),f_("collection","path",e),i instanceof Bu){const s=pt.fromString(e,...n);return Ag(s),new Bi(i,null,s)}{if(!(i instanceof pr||i instanceof Bi))throw new Te(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return Ag(s),new Bi(i.firestore,null,s)}}function p_(i,e,...n){if(i=Ca(i),arguments.length===1&&(e=dy.newId()),f_("doc","path",e),i instanceof Bu){const s=pt.fromString(e,...n);return Rg(s),new pr(i,null,new Ae(s))}{if(!(i instanceof pr||i instanceof Bi))throw new Te(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return Rg(s),new pr(i.firestore,i instanceof Bi?i.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qy(this,"async_queue_retry"),this.Vu=()=>{const s=Ph();s&&ge("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ja(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw ni("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=kf.createAndSchedule(this,e,n,s,c=>this.yu(c));return this.Tu.push(a),a}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class zu extends Bu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Pg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,await e}}}function t1(i,e){const n=typeof i=="object"?i:nS(),s=typeof i=="string"?i:"(default)",a=J0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=WT("firestore");c&&e1(a,...c)}return a}function m_(i){if(i._terminated)throw new Te(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||n1(i),i._firestoreClient}function n1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,E){return new kS(m,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,h_(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new QR(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Zt.fromBase64String(e))}catch(n){throw new Te(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=/^__.*__$/;class i1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ba(e,this.data,n,this.fieldTransforms)}}function y_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Ff{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(y_(this.Cu)&&r1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class s1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fu(e)}Qu(e,n,s,a=!1){return new Ff({Cu:e,methodName:n,qu:s,path:Xt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o1(i){const e=i._freezeSettings(),n=Fu(i._databaseId);return new s1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function a1(i,e,n,s,a,c={}){const h=i.Qu(c.merge||c.mergeFields?2:0,e,n,a);w_("Data must be an object, but it was:",h,s);const m=v_(s,h);let g,_;if(c.merge)g=new dr(h.fieldMask),_=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const R of c.mergeFields){const P=l1(e,R,n);if(!h.contains(P))throw new Te(Z.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);c1(E,P)||E.push(P)}g=new dr(E),_=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,_=h.fieldTransforms;return new i1(new Qn(m),g,_)}function __(i,e){if(E_(i=Ca(i)))return w_("Unsupported field value:",e,i),v_(i,e);if(i instanceof g_)return function(s,a){if(!y_(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,a){const c=[];let h=0;for(const m of s){let g=__(m,a.Lu(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Ca(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JS(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=bt.fromDate(s);return{timestampValue:Iu(a.serializer,c)}}if(s instanceof bt){const c=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Iu(a.serializer,c)}}if(s instanceof Lf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:jy(a.serializer,s._byteString)};if(s instanceof pr){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Of)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Bu("VectorValues must only contain numeric values.");return yf(m.serializer,g)})}}}}}}(s,a);throw a.Bu(`Unsupported field value: ${Vf(s)}`)}(i,e)}function v_(i,e){const n={};return py(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(i,(s,a)=>{const c=__(a,e.Mu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function E_(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof bt||i instanceof Lf||i instanceof Ro||i instanceof pr||i instanceof g_||i instanceof Of)}function w_(i,e,n){if(!E_(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Vf(n);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function l1(i,e,n){if((e=Ca(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return T_(i,e);throw Cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const u1=new RegExp("[~\\*/\\[\\]]");function T_(i,e,n){if(e.search(u1)>=0)throw Cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Mf(...e.split("."))._internalPath}catch{throw Cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Cu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new Te(Z.INVALID_ARGUMENT,m+i+g)}function c1(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(I_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h1 extends S_{data(){return super.data()}}function I_(i,e){return typeof e=="string"?T_(i,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Te(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d1{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ko(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>Ct(h.doubleValue));return new Of(c)}convertGeoPoint(e){return new Lf(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=df(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Da(e));default:return null}}convertTimestamp(e){const n=zi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);st(Wy(s));const a=new Na(s.get(1),s.get(3)),c=new Ae(s.popFirst(5));return a.isEqual(n)||ni(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m1 extends S_{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(I_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class du extends m1{data(e={}){return super.data(e)}}class g1{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new lu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new du(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new du(a._firestore,a._userDataWriter,m.doc.key,m.doc,new lu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new du(a._firestore,a._userDataWriter,m.doc.key,m.doc,new lu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,E=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:y1(m.type),doc:g,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class _1 extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,n)}}function v1(i){i=Oa(i,Uu);const e=Oa(i.firestore,zu),n=m_(e),s=new _1(e);return f1(i._query),JR(n,i._query).then(a=>new g1(e,s,i,a))}function E1(i){return R_(Oa(i.firestore,zu),[new _f(i._key,Dr.none())])}function w1(i,e){const n=Oa(i.firestore,zu),s=p_(i),a=p1(i.converter,e);return R_(n,[a1(o1(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Dr.exists(!1))]).then(()=>s)}function R_(i,e){return function(s,a){const c=new ji;return s.asyncQueue.enqueueAndForget(async()=>jR(await YR(s),a,c)),c.promise}(m_(i),e)}(function(e,n=!0){(function(a){Po=a})(tS),_u(new Pa("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new zu(new pS(s.getProvider("auth-internal")),new _S(s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Te(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(_.options.projectId,E)}(h,a),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),go(Km,"4.7.3",e),go(Km,"4.7.3","esm2017")})();var T1="firebase",S1="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(T1,S1,"app");const I1={apiKey:"AIzaSyB6fUYX5YGBsYoa5EhsJ5wv9Xi0tov5Iy8",authDomain:"zhongli-1d924.firebaseapp.com",projectId:"zhongli-1d924",storageBucket:"zhongli-1d924.appspot.com",messagingSenderId:"968114366314",appId:"1:968114366314:web:5781b247e76559a0bde713",measurementId:"G-LYHP3NYCSE"},R1=ry(I1),bf=t1(R1),A1=async i=>{try{const e=await w1(d_(bf,"users"),i);return console.log("Document written with ID: ",e.id),e.id}catch(e){return console.error("Error adding document: ",e),""}},C1=async()=>(await v1(d_(bf,"users"))).docs.map(n=>({id:n.id,...n.data()})),P1=async i=>{try{const e=p_(bf,"users",i);await E1(e),console.log(`User with ID: ${i} deleted successfully.`)}catch(e){console.error("Error deleting user: ",e)}};function k1(i,e){return Math.random()*(e-i+1)+i}function x1(){const[i,e]=ne.useState(""),[n,s]=ne.useState(""),[a,c]=ne.useState([]),[h,m]=ne.useState(1),[g,_]=ne.useState([]),E=async()=>{const P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,U=/^[A-Za-z\s]+$/,q=[];if(i.length===0&&n.length===0&&q.push("YOU HAVE BROKEN EVERY CONTRACT POSSIBLE CONTRACT"),i.length===0&&q.push("YOU HAVE BROKEN THE NAME CONTRACT"),n.length===0&&q.push("YOU HAVE BROKEN THE NON-EMPTY EMAIL CONTRACT"),P.test(n)||q.push("YOU HAVE BROKEN THE BRO CAN'T WRITE A PROPER EMAIL CONTRACT"),U.test(i)||q.push("YOU HAVE BROKEN THE OUR NAMES ONLY HAVE LETTERS AND SPACES CONTRACT"),q.length!==0){_(q);return}const $=await A1({name:i,email:n});c(F=>{const ee=[...F];return ee.push({id:$,name:i,email:n}),ee}),e(""),s("")};ne.useEffect(()=>{C1().then(P=>{c(P)})},[]),ne.useEffect(()=>{m(k1(.9,1.1)),_([])},[i,n]);const R=P=>{P1(P),c(U=>{const q=[...U],$=q.findIndex(({id:F})=>F===P);return q.splice($,1),q})};return K.jsxs("div",{className:ru.card,style:{transform:`scale(${h})`},children:[K.jsx("h3",{children:"Order Guides You!"}),K.jsx("input",{className:ru.ZhongliInput,value:i,onChange:P=>e(P.target.value),placeholder:"name"}),K.jsx("input",{className:ru.ZhongliInput,value:n,onChange:P=>s(P.target.value),placeholder:"email"}),K.jsx("button",{className:ru.ZhongliShirtButton,onClick:E,children:"Join The Shrine"}),g.length!==0&&g.map((P,U)=>K.jsx("div",{style:{color:"orange"},children:P},U)),a.map((P,U)=>K.jsxs("div",{children:["Name: ",P.name," | Email: ",P.email," ",K.jsx("button",{onClick:()=>R(P.id),children:"Delete"})]},U))]})}function D1(){return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{className:Lm.Liyue,children:[K.jsxs("header",{className:Lm.LiyueHeader,children:[K.jsx("h1",{children:"I Will Have Order"}),K.jsx(x1,{})]}),K.jsx("div",{children:K.jsx(kT,{})})]})]})}function N1(){return K.jsx("div",{className:As.BackgroundIna})}const V1="_Inazuma_395xo_1",M1="_InazumaHeader_395xo_7",kg={Inazuma:V1,InazumaHeader:M1};function L1(){return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{className:kg.Inazuma,children:[K.jsx("header",{className:kg.InazumaHeader,children:K.jsx("h1",{children:"Who?"})}),K.jsx("div",{children:K.jsx(N1,{})})]})]})}function O1(){return K.jsx("div",{className:As.BackgroundSum})}function F1(){return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{children:[K.jsx("header",{children:K.jsx("h1",{children:"Zhongli Piano"})}),K.jsx("div",{children:K.jsx(O1,{})})]})]})}function b1(){return K.jsx("div",{className:As.BackgroundFon})}function j1(){return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{children:[K.jsx("header",{children:K.jsx("h1",{children:"Zhongli Piano"})}),K.jsx("div",{children:K.jsx(b1,{})})]})]})}function B1(){return K.jsx("div",{className:As.BackgroundNat})}function U1(){return K.jsxs("div",{children:[K.jsx(Cs,{}),K.jsxs("div",{children:[K.jsx("header",{children:K.jsx("h1",{children:"Natlan"})}),K.jsx("div",{children:K.jsx(B1,{})})]})]})}const z1=JE([{path:"/",element:K.jsx(Zw,{})},{path:"/Mondstadt",element:K.jsx(PT,{})},{path:"/Liyue",element:K.jsx(D1,{})},{path:"/Inazuma",element:K.jsx(L1,{})},{path:"/Sumeru",element:K.jsx(F1,{})},{path:"/Fontaine",element:K.jsx(j1,{})},{path:"/Natlan",element:K.jsx(U1,{})}]);Fv.createRoot(document.getElementById("root")).render(K.jsx(Dg.StrictMode,{children:K.jsx(aw,{router:z1})}));
